/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";var t={402:(t,e,n)=>{n.d(e,{Z:()=>o});var r=n(645),i=n.n(r)()((function(t){return t[1]}));i.push([t.id,'/*  */\r\n/* Reset */\r\n/*  */\r\n:root {\r\n\tbox-sizing: border-box;\r\n\tmargin: 0;\r\n\tpadding: 0;\r\n\t/* Color Variables */\r\n\t--theme1-main-color: #343a40;\r\n\t--theme1-secondary-color: #6c757d;\r\n\t--theme1-td-color: #454d55;\r\n\t--theme1-currweek-hover-color: #dee2e6;\r\n\t--theme1-row-hover-color: #dee2e6;\r\n\t--theme1-currday-color: #000;\r\n\t--theme1-badge-color: #007bff;\r\n\t--theme1-bg-color: #000;\r\n\t--theme1-text-color: #fff;\r\n}\r\n\r\n/*  */\r\n/* Loader Animation */\r\n/*  */\r\n@keyframes ldio-voeg20dzl7 {\r\n\t0% {\r\n\t\ttransform: rotate(0);\r\n\t}\r\n\r\n\t100% {\r\n\t\ttransform: rotate(360deg);\r\n\t}\r\n}\r\n\r\n.ldio-voeg20dzl7 div {\r\n\tbox-sizing: border-box !important;\r\n}\r\n\r\n.ldio-voeg20dzl7 > div {\r\n\tposition: absolute;\r\n\twidth: 176px;\r\n\theight: 176px;\r\n\ttop: 12px;\r\n\tleft: 12px;\r\n\tborder-radius: 50%;\r\n\tborder: 16px solid #000;\r\n\tborder-color: var(--theme1-text-color) transparent var(--theme1-text-color) transparent;\r\n\tanimation: ldio-voeg20dzl7 1s linear infinite;\r\n}\r\n\r\n.ldio-voeg20dzl7 > div:nth-child(2),\r\n.ldio-voeg20dzl7 > div:nth-child(4) {\r\n\twidth: 140px;\r\n\theight: 140px;\r\n\ttop: 30px;\r\n\tleft: 30px;\r\n\tanimation: ldio-voeg20dzl7 1s linear infinite reverse;\r\n}\r\n\r\n.ldio-voeg20dzl7 > div:nth-child(2) {\r\n\tborder-color: transparent var(--theme1-secondary-color) transparent var(--theme1-secondary-color);\r\n}\r\n\r\n.ldio-voeg20dzl7 > div:nth-child(3) {\r\n\tborder-color: transparent;\r\n}\r\n\r\n.ldio-voeg20dzl7 > div:nth-child(3) div {\r\n\tposition: absolute;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\ttransform: rotate(45deg);\r\n}\r\n\r\n.ldio-voeg20dzl7 > div:nth-child(3) div:before,\r\n.ldio-voeg20dzl7 > div:nth-child(3) div:after {\r\n\tcontent: "";\r\n\tdisplay: block;\r\n\tposition: absolute;\r\n\twidth: 16px;\r\n\theight: 16px;\r\n\ttop: -16px;\r\n\tleft: 64px;\r\n\tbackground: var(--theme1-text-color);\r\n\tborder-radius: 50%;\r\n\tbox-shadow: 0 160px 0 0 var(--theme1-text-color);\r\n}\r\n\r\n.ldio-voeg20dzl7 > div:nth-child(3) div:after {\r\n\tleft: -16px;\r\n\ttop: 64px;\r\n\tbox-shadow: 160px 0 0 0 var(--theme1-text-color);\r\n}\r\n\r\n.ldio-voeg20dzl7 > div:nth-child(4) {\r\n\tborder-color: transparent;\r\n}\r\n\r\n.ldio-voeg20dzl7 > div:nth-child(4) div {\r\n\tposition: absolute;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\ttransform: rotate(45deg);\r\n}\r\n\r\n.ldio-voeg20dzl7 > div:nth-child(4) div:before,\r\n.ldio-voeg20dzl7 > div:nth-child(4) div:after {\r\n\tcontent: "";\r\n\tdisplay: block;\r\n\tposition: absolute;\r\n\twidth: 16px;\r\n\theight: 16px;\r\n\ttop: -16px;\r\n\tleft: 46px;\r\n\tbackground: var(--theme1-secondary-color);\r\n\tborder-radius: 50%;\r\n\tbox-shadow: 0 124px 0 0 var(--theme1-secondary-color);\r\n}\r\n\r\n.ldio-voeg20dzl7 > div:nth-child(4) div:after {\r\n\tleft: -16px;\r\n\ttop: 46px;\r\n\tbox-shadow: 124px 0 0 0 var(--theme1-secondary-color);\r\n}\r\n\r\n.loadingio-spinner-double-ring-qvrskz4wwq {\r\n\twidth: 200px;\r\n\theight: 200px;\r\n\tdisplay: inline-block;\r\n\toverflow: hidden;\r\n\tbackground: var(--theme1-bg-color);\r\n}\r\n\r\n.ldio-voeg20dzl7 {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tposition: relative;\r\n\ttransform: translateZ(0) scale(1);\r\n\tbackface-visibility: hidden;\r\n\ttransform-origin: 0 0;\r\n}\r\n\r\n.ldio-voeg20dzl7 div {\r\n\tbox-sizing: content-box;\r\n}\r\n/* generated by https://loading.io/ */\r\n\r\n/* General Styling */\r\nbody {\r\n\tbackground-color: var(--theme1-bg-color);\r\n\toverflow: hidden;\r\n}\r\n\r\n.col,\r\n.col-2,\r\n.col-8,\r\n.col-sm-8,\r\n.col-12,\r\n.col-sm-4,\r\n.col-9,\r\n.col-3 {\r\n\tmargin: 0;\r\n\tpadding: 0;\r\n}\r\n\r\n.container {\r\n\tbackground-color: var(--theme1-main-color);\r\n\tpadding: 0;\r\n}\r\n\r\n.row {\r\n\tmargin: 0;\r\n}\r\n\r\n.custom-select {\r\n\tbackground-color: var(--theme1-secondary-color);\r\n}\r\n\r\n.dropdown-item.active,\r\n.dropdown-item:active {\r\n\tbackground-color: var(--theme1-secondary-color);\r\n}\r\n\r\n/* Navbar */\r\nnav {\r\n\tbackground-color: var(--theme1-main-color);\r\n\tborder-bottom: 2px solid var(--theme1-currweek-hover-color);\r\n}\r\n\r\nnav a {\r\n\tcolor: var(--theme1-text-color);\r\n}\r\n\r\nnav a:hover {\r\n\tcolor: var(--theme1-row-hover-color);\r\n}\r\n\r\n.navbar {\r\n\tpadding: 0;\r\n}\r\n\r\n/* Table */\r\ntable {\r\n\ttable-layout: fixed;\r\n\tborder-collapse: separate;\r\n\tborder-spacing: 0px;\r\n\tcolor: white !important;\r\n\tbackground-color: var(--theme1-main-color);\r\n\tmargin: 1rem 0 0 0 !important;\r\n\tpadding: 1rem;\r\n}\r\n\r\ntd {\r\n\ttext-align: center;\r\n\tborder: 2px solid var(--theme1-td-color) !important;\r\n\tcursor: pointer;\r\n\ttransition: all 0.4s ease;\r\n}\r\n\r\ntd:hover {\r\n\tbackground-color: var(--theme1-row-hover-color);\r\n}\r\n\r\n.table-dark.table-hover tbody tr:hover {\r\n\tbackground-color: var(--theme1-td-color);\r\n}\r\n\r\n.table thead th {\r\n\tborder-top: 1px solid var(--theme1-secondary-color);\r\n\tborder-bottom: 2px solid var(--theme1-secondary-color);\r\n}\r\n\r\n/* Text */\r\nh1.main-header {\r\n\tcolor: var(--theme1-text-color);\r\n}\r\n\r\n.month-mode-wrapper,\r\n.week-mode-wrapper,\r\n.day-mode-wrapper {\r\n\tcolor: var(--theme1-text-color);\r\n}\r\n\r\n.welcome-heading,\r\n.lead,\r\n#confirm-username {\r\n\tcolor: var(--theme1-text-color);\r\n\tword-break: break-word;\r\n}\r\n\r\ndiv.lead {\r\n\tmargin: 0 1rem;\r\n\ttransition: all 0.4s ease;\r\n}\r\n\r\n#confirm-username.stand-out,\r\n#confirm-remove-username.stand-out {\r\n\tcolor: var(--theme1-badge-color) !important;\r\n}\r\n\r\n/* Buttons, arrows, toasts etc. */\r\n#l-month-arrow,\r\n#r-month-arrow,\r\n#l-week-arrow,\r\n#r-week-arrow,\r\n#l-day-arrow,\r\n#r-day-arrow {\r\n\tpadding: 0.5rem 1rem;\r\n\tcursor: pointer;\r\n}\r\n\r\n#l-month-arrow i:first-child,\r\n#l-week-arrow i:first-child,\r\n#l-day-arrow i:first-child {\r\n\tmargin: 0 -0.2rem;\r\n}\r\n\r\n#l-month-arrow > span,\r\n#r-month-arrow > span {\r\n\tmargin: 0 0.5rem;\r\n}\r\n\r\n#r-month-arrow i:last-child,\r\n#r-week-arrow i:last-child,\r\n#r-day-arrow i:last-child {\r\n\tmargin: 0 -0.2rem;\r\n}\r\n\r\n.toast {\r\n\tmax-width: 125px;\r\n}\r\n\r\n.toast:not(:last-child) {\r\n\tmargin: 0;\r\n}\r\n\r\n.toast-header {\r\n\tpadding: 0.25rem;\r\n}\r\n\r\n#task-tabs .btn.active {\r\n\tz-index: 0 !important;\r\n}\r\n\r\n/* Utility classes */\r\n.login-wrapper {\r\n\tposition: fixed;\r\n\ttop: 0;\r\n\tright: 0;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tbackground-color: var(--theme1-bg-color);\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\tmax-height: 10000px;\r\n\tz-index: 10;\r\n\ttransition: all 0.4s ease;\r\n\toverflow: hidden;\r\n}\r\n\r\n.login-inner-wrapper {\r\n\tposition: relative;\r\n\tmargin: 0 2rem;\r\n\theight: 400px;\r\n\toverflow: hidden;\r\n}\r\n\r\n.login-main-div ul,\r\n.login-remove-choose ul {\r\n\tmax-height: 200px;\r\n\toverflow-y: auto;\r\n}\r\n\r\n.login-confirm {\r\n\tborder: 2px solid var(--theme1-text-color);\r\n\tborder-radius: 10px;\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\ttransform: translateX(1000px) scale(1);\r\n\ttransition: all 0.25s ease;\r\n\tz-index: 100;\r\n}\r\n\r\n.login-remove-choose,\r\n.login-remove-confirm,\r\n.login-add-mode,\r\n.login-add-confirm-message,\r\n.login-remove-confirm-message {\r\n\tborder: 2px solid var(--theme1-text-color);\r\n\tborder-radius: 10px;\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\ttransform: translateY(1000px) scale(1);\r\n\ttransition: all 0.25s ease;\r\n\tz-index: 100;\r\n}\r\n\r\n.login-main-div {\r\n\tborder: 2px solid var(--theme1-text-color);\r\n\tborder-radius: 10px;\r\n\tposition: relative;\r\n\ttransition: all 0.25s ease;\r\n}\r\n\r\n.login-main-div,\r\n.login-add-mode,\r\n.login-add-confirm-message,\r\n.login-remove-confirm,\r\n.login-confirm,\r\n.login-remove-choose,\r\n.login-remove-confirm-message {\r\n\twidth: 40vw;\r\n\tbackground-color: var(--theme1-main-color);\r\n}\r\n\r\n.brand-header {\r\n\ttext-shadow: 5px -5px 5px var(--theme1-secondary-color);\r\n\tcolor: var(--theme1-text-color);\r\n}\r\n\r\n#login-loader {\r\n\twidth: 40vw;\r\n\tbackground-color: var(--theme1-bg-color);\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\ttransition: transform 0.5s ease;\r\n\tz-index: 100;\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\tdisplay: none;\r\n}\r\n\r\n.over {\r\n\tborder: 2px dashed #000 !important;\r\n\tmargin: 1rem;\r\n}\r\n\r\ntd.invalid-day {\r\n\tbackground-color: var(--theme1-td-color);\r\n\tcolor: var(--theme1-bg-color);\r\n}\r\n\r\ntd:hover.invalid-day {\r\n\tbackground-color: var(--theme1-td-color);\r\n\tcursor: not-allowed;\r\n}\r\n\r\n.task-marker-td {\r\n\tposition: relative;\r\n}\r\n\r\n.task-marker {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tfont-size: 0.6rem;\r\n}\r\n\r\n.btn span.nav-notifications {\r\n\tposition: absolute;\r\n\ttop: -10px;\r\n\tright: -10px;\r\n\tfont-size: 0.5rem;\r\n}\r\n\r\n.current-week {\r\n\tcolor: var(--theme1-currday-color);\r\n\tbackground-color: var(--theme1-row-hover-color);\r\n}\r\n\r\n.current-day {\r\n\tbackground-color: var(--theme1-currday-color);\r\n\tcolor: var(--theme1-text-color);\r\n}\r\n\r\n.table-hover tbody tr:hover {\r\n\tcolor: var(--theme1-text-color);\r\n}\r\n\r\n#search-form-wrapper,\r\n#add-form-wrapper,\r\n#pick-date-form-wrapper,\r\n#main-options-btn,\r\n#select-all-options {\r\n\tmax-height: 0px;\r\n\toverflow: hidden;\r\n\ttransition: all 0s ease;\r\n}\r\n\r\n.search-form-open,\r\n.add-form-open,\r\n.pick-date-form-open,\r\n.main-options-btn-open,\r\n.select-all-options-open {\r\n\tmax-height: 700px !important;\r\n\toverflow: visible !important;\r\n}\r\n\r\n.disabled {\r\n\tcursor: auto;\r\n\tbackground-color: var(--theme1-td-color);\r\n\tcolor: var(--theme1-td-color);\r\n\tpointer-events: none;\r\n}\r\n\r\n.disabled:hover {\r\n\tbackground-color: var(--theme1-td-color);\r\n}\r\n\r\n.badge {\r\n\tbackground-color: var(--theme1-badge-color);\r\n\tcolor: var(--theme1-text-color);\r\n}\r\n\r\n.filtered {\r\n\tdisplay: none !important;\r\n}\r\n\r\n.delete,\r\n.edit,\r\n.ongoing-edit,\r\n.uncompleted,\r\n.completed {\r\n\tcursor: pointer;\r\n}\r\n\r\n.hide {\r\n\tdisplay: none !important;\r\n}\r\n\r\n.editable {\r\n\tbackground-color: lightpink !important;\r\n\tcolor: var(--theme1-bg-color) !important;\r\n\tmargin: 1rem !important;\r\n}\r\n\r\n.theme-active,\r\n.avatar-active,\r\n.toast-active {\r\n\tbackground-color: var(--theme1-secondary-color);\r\n\tborder-color: var(--theme1-secondary-color);\r\n\tcolor: var(--theme1-text-color);\r\n}\r\n\r\n.avatar {\r\n\twidth: 50px;\r\n\theight: 50px;\r\n}\r\n\r\n.show-password {\r\n\tcolor: var(--theme1-text-color);\r\n\tfont-size: 0.75rem;\r\n\tcursor: pointer;\r\n}\r\n\r\n.fade-out {\r\n\tbackground-color: var(--theme1-bg-color) !important;\r\n\tcolor: var(--theme1-text-color) !important;\r\n\ttransition: opacity 1.5s ease-in-out !important;\r\n\topacity: 0 !important;\r\n}\r\n\r\n.progress {\r\n\theight: 30px;\r\n\tbackground-color: var(--theme1-main-color);\r\n\tborder: 1px solid var(--theme1-text-color);\r\n}\r\n\r\n.progress-bar {\r\n\toverflow: visible;\r\n\tcolor: var(--theme1-text-color);\r\n\tbackground-color: var(--theme1-bg-color) !important;\r\n}\r\n\r\n/* List Elements */\r\nul.tasks li,\r\nul.past-tasks li,\r\nul.login-accounts li,\r\nul.login-confirm-account li,\r\nul.login-remove-accounts li,\r\nul.login-remove-confirm-account li {\r\n\tbackground-color: var(--theme1-secondary-color);\r\n\ttransition: all 0.4s ease;\r\n\tcolor: var(--theme1-text-color);\r\n\topacity: 1;\r\n}\r\n\r\nul.login-accounts li,\r\nul.login-remove-accounts li,\r\nul.login-remove-confirm-account li,\r\nul.login-confirm-account li {\r\n\ttext-align: center;\r\n\tcursor: pointer;\r\n}\r\n\r\nul.tasks li:hover,\r\nul.past-tasks li:hover {\r\n\tbackground-color: var(--theme1-row-hover-color);\r\n\tcolor: var(--theme1-currday-color);\r\n}\r\nul.tasks li:hover div.lead {\r\n\tcolor: var(--theme1-currday-color);\r\n}\r\n\r\n/* Inputs */\r\ninput[type="text"].valid,\r\ninput[type="password"].valid,\r\ntextarea.valid,\r\nspan.valid {\r\n\tborder-color: #00c853;\r\n\tborder-width: 2px;\r\n\tbox-shadow: 0 1px 0 0 #00c853;\r\n\tcolor: #00c853;\r\n\tbackground-color: #e8f5e9;\r\n}\r\n\r\ninput[type="text"]:focus.valid,\r\ninput[type="password"]:focus.valid,\r\ntextarea:focus.valid,\r\nspan:focus.valid {\r\n\tborder-color: #00c853 !important;\r\n\tborder-width: 2px;\r\n\tbox-shadow: 0 1px 0 0 #00c853 !important;\r\n\tcolor: #00c853;\r\n}\r\n\r\ninput[type="text"].invalid,\r\ninput[type="password"].invalid,\r\ntextarea.invalid,\r\nspan.invalid {\r\n\tborder-color: #ff5252;\r\n\tborder-width: 2px;\r\n\tbox-shadow: 0 1px 0 0 #ff5252;\r\n\tcolor: #ff5252;\r\n\tbackground-color: #ffcdd2;\r\n}\r\n\r\ninput[type="text"]:focus.invalid,\r\ninput[type="password"]:focus.invalid,\r\ntextarea:focus.invalid,\r\nspan:focus.invalid {\r\n\tborder-color: #ff5252 !important;\r\n\tborder-width: 2px;\r\n\tbox-shadow: 0 1px 0 0 #ff5252 !important;\r\n\tcolor: #ff5252;\r\n}\r\n\r\n.search-form .form-control:focus,\r\n.add-username .form-control:focus,\r\n.add-email .form-control:focus,\r\n.add-password .form-control:focus,\r\n#log-in-password.form-control:focus,\r\n.add .form-control:focus {\r\n\tborder-color: var(--theme1-row-hover-color);\r\n\tbox-shadow: 0 0 0 .2rem var(--theme1-row-hover-color);\r\n}\r\n\r\n/* Animations */\r\n.move-x-left {\r\n\ttransform: translateX(-1000px) !important;\r\n}\r\n\r\n.move-x-right {\r\n\ttransform: translateX(1000px) !important;\r\n}\r\n\r\n.move-x-zero {\r\n\ttransform: translateX(0px) !important;\r\n}\r\n\r\n.move-y-down {\r\n\ttransform: translateY(1000px) !important;\r\n}\r\n\r\n.move-y-up {\r\n\ttransform: translateY(-1000px) !important;\r\n}\r\n\r\n.move-y-zero {\r\n\ttransform: translateY(0px) !important;\r\n}\r\n\r\n.dissapear {\r\n\ttransform: scale(0) !important;\r\n}\r\n\r\n.roll-up {\r\n\ttransition-delay: 0.5s;\r\n\tmax-height: 0px;\r\n\toverflow: hidden;\r\n}\r\n\r\n.selected {\r\n\tcolor: var(--theme1-badge-color) !important;\r\n\tbackground-color: var(--theme1-td-color) !important;\r\n\tborder: 2px solid var(--theme1-badge-color);\r\n}\r\n\r\n/* Alert Msg */\r\n.alert-message-wrapper,\r\n.toast-message-wrapper,\r\n.settings-wrapper {\r\n\tposition: fixed;\r\n\ttop: 0;\r\n\tright: 0;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tbackground-color: rgba(0, 0, 0, 0.5);\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\tdisplay: none;\r\n\tz-index: 100;\r\n}\r\n\r\n.alert-message,\r\n.toast-message,\r\n.settings {\r\n\tborder: 2px solid var(--theme1-bg-color);\r\n\tborder-radius: 10px;\r\n\tposition: relative;\r\n\tbackground-color: var(--theme1-text-color);\r\n}\r\n\r\n.alert-message .lead,\r\n.toast-message .lead,\r\n.settings .lead {\r\n\tcolor: var(--theme1-bg-color);\r\n}\r\n\r\n.alert-close-btn,\r\n.toast-close-btn,\r\n.settings-close-btn {\r\n\tposition: absolute;\r\n\ttop: 10px;\r\n\tright: 16px;\r\n\tcursor: pointer;\r\n}\r\n\r\n/* MQs */\r\n@media screen and (max-width: 1300px) {\r\n\t#login-loader,\r\n\t.login-main-div,\r\n\t.login-add-mode,\r\n\t.login-add-confirm-message,\r\n\t.login-remove-confirm,\r\n\t.login-confirm,\r\n\t.login-remove-choose,\r\n\t.login-remove-confirm-message {\r\n\t\twidth: 60vw;\r\n\t}\r\n}\r\n\r\n@media screen and (max-width: 1100px) {\r\n\t#login-loader,\r\n\t.login-main-div,\r\n\t.login-add-mode,\r\n\t.login-add-confirm-message,\r\n\t.login-remove-confirm,\r\n\t.login-confirm,\r\n\t.login-remove-choose,\r\n\t.login-remove-confirm-message {\r\n\t\twidth: 70vw;\r\n\t}\r\n}\r\n\r\n@media screen and (max-width: 767px) {\r\n\t:root {\r\n\t\tfont-size: 14.5px;\r\n\t}\r\n\r\n\t.brand-header {\r\n\t\tfont-size: 3.25rem;\r\n\t}\r\n\r\n\t.welcome-heading {\r\n\t\tfont-size: 2.25rem;\r\n\t}\r\n\r\n\t.login-inner-wrapper {\r\n\t\tmargin: 0;\r\n\t\theight: 280px;\r\n\t}\r\n\r\n\t.login-main-div ul,\r\n\t.login-remove-choose ul {\r\n\t\tmax-height: 100px;\r\n\t}\r\n\r\n\t#login-loader,\r\n\t.login-main-div,\r\n\t.login-add-mode,\r\n\t.login-add-confirm-message,\r\n\t.login-remove-confirm,\r\n\t.login-confirm,\r\n\t.login-remove-choose,\r\n\t.login-remove-confirm-message {\r\n\t\twidth: 60vw;\r\n\t}\r\n}\r\n\r\n@media screen and (max-width: 575px) {\r\n\t:root {\r\n\t\tfont-size: 13px;\r\n\t}\r\n\r\n\t#day-mode-btn,\r\n\t#week-mode-btn,\r\n\t#month-mode-btn,\r\n\t#search-icon-primary,\r\n\t#add-icon-primary,\r\n\t#more-options-btn {\r\n\t\tborder-radius: 0.25rem;\r\n\t\tpadding: 0.5rem 0;\r\n\t\tmargin: 0;\r\n\t}\r\n\r\n\t.btn-group > .btn-group:not(:first-child),\r\n\t.btn-group > .btn:not(:first-child) {\r\n\t\tmargin: 0;\r\n\t}\r\n\r\n\t.brand-header {\r\n\t\tfont-size: 3rem;\r\n\t}\r\n\r\n\t.welcome-heading {\r\n\t\tfont-size: 1.95rem;\r\n\t}\r\n\r\n\t.login-inner-wrapper {\r\n\t\theight: 250px;\r\n\t}\r\n\r\n\t#login-loader,\r\n\t.login-main-div,\r\n\t.login-add-mode,\r\n\t.login-add-confirm-message,\r\n\t.login-remove-confirm,\r\n\t.login-confirm,\r\n\t.login-remove-choose,\r\n\t.login-remove-confirm-message {\r\n\t\twidth: 100vw;\r\n\t}\r\n}\r\n',""]);const o=i},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(i[s]=!0)}for(var a=0;a<t.length;a++){var u=[].concat(t[a]);r&&i[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),e.push(u))}},e}},379:(t,e,n)=>{var r,i=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),o=[];function s(t){for(var e=-1,n=0;n<o.length;n++)if(o[n].identifier===t){e=n;break}return e}function a(t,e){for(var n={},r=[],i=0;i<t.length;i++){var a=t[i],u=e.base?a[0]+e.base:a[0],c=n[u]||0,h="".concat(u," ").concat(c);n[u]=c+1;var l=s(h),f={css:a[1],media:a[2],sourceMap:a[3]};-1!==l?(o[l].references++,o[l].updater(f)):o.push({identifier:h,updater:v(f,e),references:1}),r.push(h)}return r}function u(t){var e=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(t){e.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(e);else{var s=i(t.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(e)}return e}var c,h=(c=[],function(t,e){return c[t]=e,c.filter(Boolean).join("\n")});function l(t,e,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=h(e,i);else{var o=document.createTextNode(i),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}function f(t,e,n){var r=n.css,i=n.media,o=n.sourceMap;if(i?t.setAttribute("media",i):t.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var p=null,d=0;function v(t,e){var n,r,i;if(e.singleton){var o=d++;n=p||(p=u(e)),r=l.bind(null,n,o,!1),i=l.bind(null,n,o,!0)}else n=u(e),r=f.bind(null,n,e),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=a(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<n.length;r++){var i=s(n[r]);o[i].references--}for(var u=a(t,e),c=0;c<n.length;c++){var h=s(n[c]);0===o[h].references&&(o[h].updater(),o.splice(h,1))}n=u}}}}},e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={id:r,exports:{}};return t[r](i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};function e(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var r=function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function i(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function o(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function s(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function u(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(a(arguments[e]));return t}function c(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function h(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=h(t[n],e[n]));return t}var l=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function f(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function p(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(t){return!1}}var d=function(t){function n(e,r,i){var o=t.call(this,r)||this;return o.code=e,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,v.prototype.create),o}return e(n,t),n}(Error),v=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?m(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new d(i,a,r);return u},t}();function m(t,e){return t.replace(y,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var y=/\{\$([^}]+)}/g;function g(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function b(t,e){var n=new w(t,e);return n.subscribe.bind(n)}!function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,s,a=this.chain_[0],u=this.chain_[1],c=this.chain_[2],h=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++)r<40?r<20?(o=h^u&(c^h),s=1518500249):(o=u^c^h,s=1859775393):r<60?(o=u&c|h&(u|c),s=2400959708):(o=u^c^h,s=3395469782),i=(a<<5|a>>>27)+o+l+s+n[r]&4294967295,l=h,h=c,c=4294967295&(u<<30|u>>>2),u=a,a=i;this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t}}();var w=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=I),void 0===r.error&&(r.error=I),void 0===r.complete&&(r.complete=I);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function I(){}var E,T=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),_="[DEFAULT]",A=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=_);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new l;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=r({identifier:_,optional:!1},t),n=e.identifier,i=e.optional,o=this.normalizeInstanceIdentifier(n);try{var s=this.getOrInitializeService(o);if(!s){if(i)return null;throw Error("Service "+this.name+" is not available")}return s}catch(t){if(i)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(_)}catch(t){}try{for(var r=s(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=a(i.value,2),u=o[0],c=o[1],h=this.normalizeInstanceIdentifier(u);try{var l=this.getOrInitializeService(h);c.resolve(l)}catch(t){}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=_),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return i(this,void 0,void 0,(function(){var t;return o(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(u(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===_?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:_:t},t}(),N=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new A(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();function k(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var S,x=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(S||(S={}));var O,C={debug:S.DEBUG,verbose:S.VERBOSE,info:S.INFO,warn:S.WARN,error:S.ERROR,silent:S.SILENT},D=S.INFO,P=((E={})[S.DEBUG]="log",E[S.VERBOSE]="log",E[S.INFO]="info",E[S.WARN]="warn",E[S.ERROR]="error",E),R=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=P[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,k(["["+i+"]  "+t.name+":"],n))}},L=function(){function t(t){this.name=t,this._logLevel=D,this._logHandler=R,this._userLogHandler=null,x.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in S))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?C[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,k([this,S.DEBUG],t)),this._logHandler.apply(this,k([this,S.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,k([this,S.VERBOSE],t)),this._logHandler.apply(this,k([this,S.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,k([this,S.INFO],t)),this._logHandler.apply(this,k([this,S.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,k([this,S.WARN],t)),this._logHandler.apply(this,k([this,S.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,k([this,S.ERROR],t)),this._logHandler.apply(this,k([this,S.ERROR],t))},t}();function M(t){x.forEach((function(e){e.setLogLevel(t)}))}var j,U=((O={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",O["bad-app-name"]="Illegal App name: '{$appName}",O["duplicate-app"]="Firebase App named '{$appName}' already exists",O["app-deleted"]="Firebase App named '{$appName}' already deleted",O["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",O["invalid-log-argument"]="First argument to `onLog` must be null or a function.",O),V=new v("app","Firebase",U),F="@firebase/app",q="[DEFAULT]",z=((j={})[F]="fire-core",j["@firebase/analytics"]="fire-analytics",j["@firebase/auth"]="fire-auth",j["@firebase/database"]="fire-rtdb",j["@firebase/functions"]="fire-fn",j["@firebase/installations"]="fire-iid",j["@firebase/messaging"]="fire-fcm",j["@firebase/performance"]="fire-perf",j["@firebase/remote-config"]="fire-rc",j["@firebase/storage"]="fire-gcs",j["@firebase/firestore"]="fire-fst",j["fire-js"]="fire-js",j["firebase-wrapper"]="fire-js-all",j),B=new L("@firebase/app"),G=function(){function t(t,e,n){var r,i,o=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=h(void 0,t),this.container=new N(e.name),this._addComponent(new T("app",(function(){return o}),"PUBLIC"));try{for(var a=s(this.firebase_.INTERNAL.components.values()),u=a.next();!u.done;u=a.next()){var c=u.value;this._addComponent(c)}}catch(t){r={error:t}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e=q),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=q),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){B.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw V.create("app-deleted",{appName:this.name_})},t}();G.prototype.name&&G.prototype.options||G.prototype.delete||console.log("dc");var K=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=q);var s=o.name;if("string"!=typeof s||!s)throw V.create("bad-app-name",{appName:String(s)});if(g(e,s))throw V.create("duplicate-app",{appName:s});var a=new t(n,o,r);return e[s]=a,a},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=z[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&a&&u.push("and"),a&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void B.warn(u.join(" "))}o(new T(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:M,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw V.create("invalid-log-argument",{appName:name});!function(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=C[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:S[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=x;r<i.length;r++)n(i[r])}(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!g(e,t=t||q))throw V.create("no-app",{appName:t});return e[t]}function o(o){var a,u,c=o.name;if(n.has(c))return B.debug("There were multiple attempts to register component "+c+"."),"PUBLIC"===o.type?r[c]:null;if(n.set(c,o),"PUBLIC"===o.type){var l=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[c])throw V.create("invalid-app-argument",{appName:c});return t[c]()};void 0!==o.serviceProps&&h(l,o.serviceProps),r[c]=l,t.prototype[c]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,c).apply(this,o.multipleInstances?t:[])}}try{for(var f=s(Object.keys(e)),p=f.next();!p.done;p=f.next()){var d=p.value;e[d]._addComponent(o)}}catch(t){a={error:t}}finally{try{p&&!p.done&&(u=f.return)&&u.call(f)}finally{if(a)throw a.error}}return"PUBLIC"===o.type?r[c]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(G);return e.INTERNAL=r(r({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){h(e,t)},createSubscribe:b,ErrorFactory:v,deepExtend:h}),e}(),H=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if("object"==typeof self&&self.self===self&&void 0!==self.firebase){B.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var W=self.firebase.SDK_VERSION;W&&W.indexOf("LITE")>=0&&B.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var X=K.initializeApp;K.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return p()&&B.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),X.apply(void 0,t)};var Y=K;!function(t,e){t.INTERNAL.registerComponent(new T("platform-logger",(function(t){return new H(t)}),"PRIVATE")),t.registerVersion(F,"0.6.13",void 0),t.registerVersion("fire-js","")}(Y);const J=Y;J.registerVersion("firebase","8.1.1","app"),function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},r=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g,t];for(var e=0;e<t.length;++e){var r=t[e];if(r&&r.Math==Math)return r}return globalThis}(this);function i(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function o(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:i(t)}}!function(t,n){if(n){var i=r;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in i||(i[s]={}),i=i[s]}(n=n(o=i[t=t[t.length-1]]))!=o&&null!=n&&e(i,t,{configurable:!0,writable:!0,value:n})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function n(){this.a=null}function i(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var s=r.setTimeout;n.prototype.c=function(t){s(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.f(t)}}}this.a=null},n.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.v),reject:t(this.g)}},e.prototype.v=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.o(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.m(t):this.h(t)}},e.prototype.m=function(t){var e=void 0;try{e=t.then}catch(t){return void this.g(t)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new n;return e.prototype.o=function(t){var e=this.f();t.Pa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(t){o(t)}}:e}var i,o,s=new e((function(t,e){i=t,o=e}));return this.Pa(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Pa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=i,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=o(t),s=r.next();!s.done;s=r.next())i(s.value).Pa(e,n)}))},e.all=function(t){var n=o(t),r=n.next();return r.done?i([]):new e((function(t,e){function o(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,i(r.value).Pa(o(s.length-1),e),r=n.next()}while(!r.done)}))},e}));var s=s||{},a=this||self,u=/^[\w+/_-]+[=]{0,2}$/,c=null;function h(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&u.test(t)?t:""}function l(){}function f(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function p(t){var e=f(t);return"array"==e||"object"==e&&"number"==typeof t.length}function d(t){return"function"==f(t)}function v(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function m(t){return Object.prototype.hasOwnProperty.call(t,y)&&t[y]||(t[y]=++g)}var y="closure_uid_"+(1e9*Math.random()>>>0),g=0;function b(t,e,n){return t.call.apply(t.bind,arguments)}function w(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function I(t,e,n){return(I=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:w).apply(null,arguments)}function E(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var T=Date.now;function _(t,e){function n(){}n.prototype=e.prototype,t.$a=e.prototype,t.prototype=new n,t.prototype.constructor=t}function A(t){return t}function N(t,e,n){this.code=x+t,this.message=e||O[t]||"",this.a=n||null}function k(t){var e=t&&t.code;return e?new N(e.substring(x.length),t.message,t.serverResponse):null}_(N,Error),N.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},N.prototype.toJSON=function(){return this.w()};var S,x="auth/",O={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},C={kd:{Sa:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},rd:{Sa:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://securetoken.googleapis.com/v1/token",Va:"https://identitytoolkit.googleapis.com/v2/",id:"p"},td:{Sa:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},ud:{Sa:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Ya:"https://test-securetoken.sandbox.googleapis.com/v1/token",Va:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function D(t){for(var e in C)if(C[e].id===t)return{firebaseEndpoint:(t=C[e]).Sa,secureTokenEndpoint:t.Ya,identityPlatformEndpoint:t.Va};return null}function P(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function R(t){if(Error.captureStackTrace)Error.captureStackTrace(this,R);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function L(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");R.call(this,n+t[r])}function M(t,e){throw new L("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function j(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function U(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function V(){this.b=this.a=null}S=D("__EID__")?"__EID__":void 0,_(R,Error),R.prototype.name="CustomError",_(L,R),L.prototype.name="AssertionError",j.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var F=new j((function(){return new z}),(function(t){t.reset()}));function q(){var t=we,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function z(){this.next=this.b=this.a=null}V.prototype.add=function(t,e){var n=F.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},z.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},z.prototype.reset=function(){this.next=this.b=this.a=null};var B=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},G=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},K=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},H=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},W=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function X(t,e){return 0<=B(t,e)}function Y(t,e){var n;return(n=0<=(e=B(t,e)))&&Array.prototype.splice.call(t,e,1),n}function $(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1).length}))}function Q(t){return Array.prototype.concat.apply([],arguments)}function Z(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var tt,et=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},nt=/&/g,rt=/</g,it=/>/g,ot=/"/g,st=/'/g,at=/\x00/g,ut=/[\x00&<>"']/;function ct(t,e){return-1!=t.indexOf(e)}function ht(t,e){return t<e?-1:t>e?1:0}t:{var lt=a.navigator;if(lt){var ft=lt.userAgent;if(ft){tt=ft;break t}}tt=""}function pt(t){return ct(tt,t)}function dt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function vt(t){for(var e in t)return!1;return!0}function mt(t){var e,n={};for(e in t)n[e]=t[e];return n}var yt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<yt.length;o++)n=yt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function bt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||a).Element&&r.Location){var i=r;break t}}catch(t){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(v(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(t){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;M("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function wt(t,e){this.a=t===_t&&e||"",this.b=Tt}function It(t){return t instanceof wt&&t.constructor===wt&&t.b===Tt?t.a:(M("expected object of type Const, got '"+t+"'"),"type_error:Const")}wt.prototype.sa=!0,wt.prototype.ra=function(){return this.a},wt.prototype.toString=function(){return"Const{"+this.a+"}"};var Et,Tt={},_t={};function At(){if(void 0===Et){var t=null,e=a.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:A,createScript:A,createScriptURL:A})}catch(t){a.console&&a.console.error(t.message)}Et=t}else Et=t}return Et}function Nt(t,e){this.a=e===Ct?t:""}function kt(t){return t instanceof Nt&&t.constructor===Nt?t.a:(M("expected object of type TrustedResourceUrl, got '"+t+"' of type "+f(t)),"type_error:TrustedResourceUrl")}function St(t,e){var n=It(t);if(!Ot.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=At();return new Nt(t=e?e.createScriptURL(t):t,Ct)}(t=n.replace(xt,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof wt?It(t):encodeURIComponent(String(t))})))}Nt.prototype.sa=!0,Nt.prototype.ra=function(){return this.a.toString()},Nt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var xt=/%{(\w+)}/g,Ot=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Ct={};function Dt(t,e){this.a=e===Vt?t:""}function Pt(t){return t instanceof Dt&&t.constructor===Dt?t.a:(M("expected object of type SafeUrl, got '"+t+"' of type "+f(t)),"type_error:SafeUrl")}Dt.prototype.sa=!0,Dt.prototype.ra=function(){return this.a.toString()},Dt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Rt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Lt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Mt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function jt(t){if(t instanceof Dt)return t;if(t="object"==typeof t&&t.sa?t.ra():String(t),Mt.test(t))t=new Dt(t,Vt);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Lt);t=e&&Rt.test(e[1])?new Dt(t,Vt):null}return t}function Ut(t){return t instanceof Dt?t:(t="object"==typeof t&&t.sa?t.ra():String(t),Mt.test(t)||(t="about:invalid#zClosurez"),new Dt(t,Vt))}var Vt={},Ft=new Dt("about:invalid#zClosurez",Vt);function qt(t,e,n){this.a=n===zt?t:""}qt.prototype.sa=!0,qt.prototype.ra=function(){return this.a.toString()},qt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var zt={};function Bt(t,e,n,r){return t=t instanceof Dt?t:Ut(t),e=e||a,n=n instanceof wt?It(n):n||"",e.open(Pt(t),n,r,void 0)}function Gt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Kt(t){return ut.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(nt,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(rt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(it,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(ot,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(st,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(at,"&#0;"))),t}function Ht(t){return Ht[" "](t),t}Ht[" "]=l;var Wt,Xt,Yt=pt("Opera"),Jt=pt("Trident")||pt("MSIE"),$t=pt("Edge"),Qt=$t||Jt,Zt=pt("Gecko")&&!(ct(tt.toLowerCase(),"webkit")&&!pt("Edge"))&&!(pt("Trident")||pt("MSIE"))&&!pt("Edge"),te=ct(tt.toLowerCase(),"webkit")&&!pt("Edge");function ee(){var t=a.document;return t?t.documentMode:void 0}t:{var ne="",re=(Xt=tt,Zt?/rv:([^\);]+)(\)|;)/.exec(Xt):$t?/Edge\/([\d\.]+)/.exec(Xt):Jt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Xt):te?/WebKit\/(\S+)/.exec(Xt):Yt?/(?:Version)[ \/]?(\S+)/.exec(Xt):void 0);if(re&&(ne=re?re[1]:""),Jt){var ie=ee();if(null!=ie&&ie>parseFloat(ne)){Wt=String(ie);break t}}Wt=ne}var oe,se={};function ae(t){return function(t,e){var n=se;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=et(String(Wt)).split("."),r=et(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=ht(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||ht(0==s[2].length,0==a[2].length)||ht(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}a.document&&Jt?oe=ee()||parseInt(Wt,10)||void 0:oe=void 0;var ue=oe;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Xt){}var ce=!Jt||9<=Number(ue);function he(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function le(t,e){dt(e,(function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:de.hasOwnProperty(n)?t.setAttribute(de[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var fe,pe,de={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ve(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!p(o)||v(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(v(o)){var s="function"==typeof o.item||"string"==typeof o.item;break t}if(d(o)){s="function"==typeof o.item;break t}}s=!1}G(s?Z(o):o,r)}}}function me(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function ye(t){a.setTimeout((function(){throw t}),0)}function ge(t,e){pe||function(){if(a.Promise&&a.Promise.resolve){var t=a.Promise.resolve(void 0);pe=function(){t.then(Ie)}}else pe=function(){var t=Ie;!d(a.setImmediate)||a.Window&&a.Window.prototype&&!pt("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(fe||(fe=function(){var t=a.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!pt("Presto")&&(t=function(){var t=me(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=I((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!pt("Trident")&&!pt("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Fb;n.Fb=null,t()}},function(t){r.next={Fb:t},r=r.next,e.port2.postMessage(0)}}return function(t){a.setTimeout(t,0)}}()),fe(t)):a.setImmediate(t)}}(),be||(pe(),be=!0),we.add(t,e)}var be=!1,we=new V;function Ie(){for(var t;t=q();){try{t.a.call(t.b)}catch(t){ye(t)}U(F,t)}be=!1}function Ee(t,e){if(this.a=Te,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=l)try{var n=this;t.call(e,(function(t){Me(n,_e,t)}),(function(t){if(!(t instanceof Be))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}Me(n,Ae,t)}))}catch(t){Me(this,Ae,t)}}var Te=0,_e=2,Ae=3;function Ne(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ne.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var ke=new j((function(){return new Ne}),(function(t){t.reset()}));function Se(t,e,n){var r=ke.get();return r.g=t,r.b=e,r.f=n,r}function xe(t){if(t instanceof Ee)return t;var e=new Ee(l);return Me(e,_e,t),e}function Oe(t){return new Ee((function(e,n){n(t)}))}function Ce(t,e,n){je(t,e,n,null)||ge(E(e,t))}function De(t){return new Ee((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Ob:!0,value:o}:{Ob:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Ce(t[o],E(i,o,!0),E(i,o,!1));else e(r)}))}function Pe(t,e){if(t.a==Te)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,s=n.b;s&&(s.c||(r++,s.a==t&&(i=s),!(i&&1<r)));s=s.next)i||(o=s);i&&(n.a==Te&&1==r?Pe(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Ve(n),Fe(n,i,Ae,e)))}t.c=null}else Me(t,Ae,e)}function Re(t,e){t.b||t.a!=_e&&t.a!=Ae||Ue(t),t.f?t.f.next=e:t.b=e,t.f=e}function Le(t,e,n,r){var i=Se(null,null,null);return i.a=new Ee((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(t){o(t)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Be?o(e):t(i)}catch(t){o(t)}}:o})),i.a.c=t,Re(t,i),i.a}function Me(t,e,n){t.a==Te&&(t===n&&(e=Ae,n=new TypeError("Promise cannot resolve to itself")),t.a=1,je(n,t.Zc,t.$c,t)||(t.i=n,t.a=e,t.c=null,Ue(t),e!=Ae||n instanceof Be||function(t,e){t.g=!0,ge((function(){t.g&&ze.call(null,e)}))}(t,n)))}function je(t,e,n,r){if(t instanceof Ee)return Re(t,Se(e||l,n||null,r)),!0;if(P(t))return t.then(e,n,r),!0;if(v(t))try{var i=t.then;if(d(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}var s=!1;try{e.call(t,(function(t){s||(s=!0,n.call(i,t))}),o)}catch(t){o(t)}}(t,i,e,n,r),!0}catch(t){return n.call(r,t),!0}return!1}function Ue(t){t.h||(t.h=!0,ge(t.fc,t))}function Ve(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Fe(t,e,n,r){if(n==Ae&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,qe(e,n,r);else try{e.c?e.g.call(e.f):qe(e,n,r)}catch(t){ze.call(null,t)}U(ke,e)}function qe(t,e,n){e==_e?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}Ee.prototype.then=function(t,e,n){return Le(this,d(t)?t:null,d(e)?e:null,n)},Ee.prototype.$goog_Thenable=!0,(t=Ee.prototype).na=function(t,e){return(t=Se(t,t,e)).c=!0,Re(this,t),this},t.s=function(t,e){return Le(this,null,t,e)},t.cancel=function(t){if(this.a==Te){var e=new Be(t);ge((function(){Pe(this,e)}),this)}},t.Zc=function(t){this.a=Te,Me(this,_e,t)},t.$c=function(t){this.a=Te,Me(this,Ae,t)},t.fc=function(){for(var t;t=Ve(this);)Fe(this,t,this.a,this.i);this.h=!1};var ze=ye;function Be(t){R.call(this,t)}function Ge(){0!=Ke&&(He[m(this)]=this),this.xa=this.xa,this.oa=this.oa}_(Be,R),Be.prototype.name="cancel";var Ke=0,He={};function We(t){if(!t.xa&&(t.xa=!0,t.Da(),0!=Ke)){var e=m(t);if(0!=Ke&&t.oa&&0<t.oa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete He[e]}}Ge.prototype.xa=!1,Ge.prototype.Da=function(){if(this.oa)for(;this.oa.length;)this.oa.shift()()};var Xe=Object.freeze||function(t){return t},Ye=!Jt||9<=Number(ue),Je=Jt&&!ae("9"),$e=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",l,e),a.removeEventListener("test",l,e)}catch(t){}return t}();function Qe(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Ze(t,e){if(Qe.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Zt){t:{try{Ht(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:tn[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Qe.prototype.preventDefault=function(){this.defaultPrevented=!0},_(Ze,Qe);var tn=Xe({2:"touch",3:"pen",4:"mouse"});Ze.prototype.preventDefault=function(){Ze.$a.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Je)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},Ze.prototype.g=function(){return this.a};var en="closure_listenable_"+(1e6*Math.random()|0),nn=0;function rn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ua=i,this.key=++nn,this.va=this.Oa=!1}function on(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Ua=null}function sn(t){this.src=t,this.a={},this.b=0}function an(t,e){var n=e.type;n in t.a&&Y(t.a[n],e)&&(on(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function un(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Ua==r)return i}return-1}sn.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=un(t,e,r,i);return-1<s?(e=t[s],n||(e.Oa=!1)):((e=new rn(e,this.src,o,!!r,i)).Oa=n,t.push(e)),e};var cn="closure_lm_"+(1e6*Math.random()|0),hn={};function ln(t,e,n,r,i){if(r&&r.once)pn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)ln(t,e[o],n,r,i);else n=En(n),t&&t[en]?_n(t,e,n,v(r)?!!r.capture:!!r,i):fn(t,e,n,!1,r,i)}function fn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=v(i)?!!i.capture:!!i,a=wn(t);if(a||(t[cn]=a=new sn(t)),!(n=a.add(e,n,r,s,o)).proxy)if(r=function(){var t=bn,e=Ye?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)$e||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(mn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function pn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)pn(t,e[o],n,r,i);else n=En(n),t&&t[en]?An(t,e,n,v(r)?!!r.capture:!!r,i):fn(t,e,n,!0,r,i)}function dn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)dn(t,e[o],n,r,i);else r=v(r)?!!r.capture:!!r,n=En(n),t&&t[en]?(t=t.v,(e=String(e).toString())in t.a&&-1<(n=un(o=t.a[e],n,r,i))&&(on(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=wn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=un(e,n,r,i)),(n=-1<t?e[t]:null)&&vn(n))}function vn(t){if("number"!=typeof t&&t&&!t.va){var e=t.src;if(e&&e[en])an(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(mn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=wn(e))?(an(n,t),0==n.b&&(n.src=null,e[cn]=null)):on(t)}}}function mn(t){return t in hn?hn[t]:hn[t]="on"+t}function yn(t,e,n,r){var i=!0;if((t=wn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=gn(o,r),i=i&&!1!==o)}return i}function gn(t,e){var n=t.listener,r=t.Ua||t.src;return t.Oa&&vn(t),n.call(r,e)}function bn(t,e){if(t.va)return!0;if(!Ye){if(!e)t:{e=["window","event"];for(var n=a,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Ze(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=yn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=yn(r[i],t,!1,e),n=n&&o}return n}return gn(t,new Ze(e,this))}function wn(t){return(t=t[cn])instanceof sn?t:null}var In="__closure_events_fn_"+(1e9*Math.random()>>>0);function En(t){return d(t)?t:(t[In]||(t[In]=function(e){return t.handleEvent(e)}),t[In])}function Tn(){Ge.call(this),this.v=new sn(this),this.$b=this,this.fb=null}function _n(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function An(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function Nn(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.va&&s.capture==n){var a=s.listener,u=s.Ua||s.src;s.Oa&&an(t.v,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}function kn(t,e,n){if(d(t))n&&(t=I(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=I(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function Sn(t){var e=null;return new Ee((function(n,r){-1==(e=kn((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).s((function(t){throw a.clearTimeout(e),t}))}function xn(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"==typeof t)return t.split("");if(p(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function On(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.V||"function"!=typeof t.V){if(p(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function Cn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Cn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Dn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Pn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Pn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Pn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}_(Tn,Ge),Tn.prototype[en]=!0,Tn.prototype.addEventListener=function(t,e,n,r){ln(this,t,e,n,r)},Tn.prototype.removeEventListener=function(t,e,n,r){dn(this,t,e,n,r)},Tn.prototype.dispatchEvent=function(t){var e,n=this.fb;if(n)for(e=[];n;n=n.fb)e.push(n);n=this.$b;var r=t.type||t;if("string"==typeof t)t=new Qe(t,n);else if(t instanceof Qe)t.target=t.target||n;else{var i=t;gt(t=new Qe(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=Nn(s,r,!0,t)&&i}if(i=Nn(s=t.b=n,r,!0,t)&&i,i=Nn(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Nn(s=t.b=e[o],r,!1,t)&&i;return i},Tn.prototype.Da=function(){if(Tn.$a.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)on(n[r]);delete e.a[t],e.b--}}this.fb=null},(t=Cn.prototype).V=function(){Dn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return Dn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Pn(this.b,t)?this.b[t]:e},t.set=function(t,e){Pn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Rn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ln(t,e){var n;this.a=this.l=this.f="",this.g=null,this.h=this.c="",this.i=!1,t instanceof Ln?(this.i=void 0!==e?e:t.i,Mn(this,t.f),this.l=t.l,this.a=t.a,jn(this,t.g),this.c=t.c,Un(this,rr(t.b)),this.h=t.h):t&&(n=String(t).match(Rn))?(this.i=!!e,Mn(this,n[1]||"",!0),this.l=Bn(n[2]||""),this.a=Bn(n[3]||"",!0),jn(this,n[4]),this.c=Bn(n[5]||"",!0),Un(this,n[6]||"",!0),this.h=Bn(n[7]||"")):(this.i=!!e,this.b=new $n(null,this.i))}function Mn(t,e,n){t.f=n?Bn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function jn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Un(t,e,n){e instanceof $n?(t.b=e,function(t,e){e&&!t.f&&(Qn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(tr(this,e),nr(this,n,t))}),t)),t.f=e}(t.b,t.i)):(n||(e=Gn(e,Yn)),t.b=new $n(e,t.i))}function Vn(t,e,n){t.b.set(e,n)}function Fn(t,e){return t.b.get(e)}function qn(t){return t instanceof Ln?new Ln(t):new Ln(t,void 0)}function zn(t,e,n,r){var i=new Ln(null,void 0);return t&&Mn(i,t),e&&(i.a=e),n&&jn(i,n),r&&(i.c=r),i}function Bn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Gn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Kn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Kn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ln.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Gn(e,Hn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Gn(e,Hn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.c)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(Gn(n,"/"==n.charAt(0)?Xn:Wn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",Gn(n,Jn)),t.join("")},Ln.prototype.resolve=function(t){var e=new Ln(this),n=!!t.f;n?Mn(e,t.f):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.c;if(n)jn(e,t.g);else if(n=!!t.c){if("/"!=r.charAt(0))if(this.a&&!this.c)r="/"+r;else{var i=e.c.lastIndexOf("/");-1!=i&&(r=e.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ct(i,"./")||ct(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.c=r:n=""!==t.b.toString(),n?Un(e,rr(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Hn=/[#\/\?@]/g,Wn=/[#\?:]/g,Xn=/[#\?]/g,Yn=/[#\?@]/g,Jn=/#/g;function $n(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Qn(t){t.a||(t.a=new Cn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Zn(t){var e=On(t);if(void 0===e)throw Error("Keys are undefined");var n=new $n(null,void 0);t=xn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?nr(n,i,o):n.add(i,o)}return n}function tr(t,e){Qn(t),e=ir(t,e),Pn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Pn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Dn(t)))}function er(t,e){return Qn(t),e=ir(t,e),Pn(t.a.b,e)}function nr(t,e,n){tr(t,e),0<n.length&&(t.c=null,t.a.set(ir(t,e),Z(n)),t.b+=n.length)}function rr(t){var e=new $n;return e.c=t.c,t.a&&(e.a=new Cn(t.a),e.b=t.b),e}function ir(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function or(t){var e=[];return ar(new sr,t,e),e.join("")}function sr(){}function ar(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),ar(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&"function"!=typeof(o=e[r])&&(n.push(i),hr(r,n),n.push(":"),ar(t,o,n),i=",");return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":hr(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=$n.prototype).add=function(t,e){Qn(this),this.c=null,t=ir(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Qn(this),this.a.forEach((function(n,r){G(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){Qn(this);for(var t=this.a.V(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.V=function(t){Qn(this);var e=[];if("string"==typeof t)er(this,t)&&(e=Q(e,this.a.get(ir(this,t))));else{t=this.a.V();for(var n=0;n<t.length;n++)e=Q(e,t[n])}return e},t.set=function(t,e){return Qn(this),this.c=null,er(this,t=ir(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.V(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var ur={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},cr=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function hr(t,e){e.push('"',t.replace(cr,(function(t){var e=ur[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),ur[t]=e),e})),'"')}function lr(){var t=Cr();return Jt&&!!ue&&11==ue||/Edge\/\d+/.test(t)}function fr(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function pr(t,e){e=e||a.window;var n="about:blank";t&&(n=Pt(jt(t)||Ft)),e.location.href=n}function dr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<dr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function vr(t){return!!((t=(t||Cr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function mr(t){t=t||a.window;try{t.close()}catch(t){}}function yr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Cr().toLowerCase(),r&&(e.target=r,ct(n,"crios/")&&(e.target="_blank")),Sr(Cr())==Nr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Dt?n:jt(void 0!==n.href?n.href:String(n))||Ft,n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((pt("iPhone")&&!pt("iPod")&&!pt("iPad")||pt("iPad")||pt("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(bt(s=me(document,"A"),"HTMLAnchorElement"),e=e instanceof Dt?e:Ut(e),s.href=Pt(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=Bt("",r,n,s),t=Pt(e),s&&(Qt&&ct(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Kt(t)+'">',t=new qt(t=(r=At())?r.createHTML(t):t,null,zt),r=s.document)&&(r.write(function(t){return t instanceof qt&&t.constructor===qt?t.a:(M("expected object of type SafeHtml, got '"+t+"' of type "+f(t)),"type_error:SafeHtml")}(t)),r.close())):(s=Bt(e,r,n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(t){}return s}var gr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,br=/^[^@]+@[^@]+$/;function wr(){var t=null;return new Ee((function(e){"complete"==a.document.readyState?e():(t=function(){e()},pn(window,"load",t))})).s((function(e){throw dn(window,"load",t),e}))}function Ir(t){return t=t||Cr(),!("file:"!==Mr()&&"ionic:"!==Mr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Er(){var t=a.window;try{return!(!t||t==t.top)}catch(t){return!1}}function Tr(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function _r(){return J.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":J.INTERNAL.hasOwnProperty("node")?"Node":Tr()?"Worker":"Browser"}function Ar(){var t=_r();return"ReactNative"===t||"Node"===t}var Nr="Firefox",kr="Chrome";function Sr(t){var e=t.toLowerCase();return ct(e,"opera/")||ct(e,"opr/")||ct(e,"opios/")?"Opera":ct(e,"iemobile")?"IEMobile":ct(e,"msie")||ct(e,"trident/")?"IE":ct(e,"edge/")?"Edge":ct(e,"firefox/")?Nr:ct(e,"silk/")?"Silk":ct(e,"blackberry")?"Blackberry":ct(e,"webos")?"Webos":!ct(e,"safari/")||ct(e,"chrome/")||ct(e,"crios/")||ct(e,"android")?!ct(e,"chrome/")&&!ct(e,"crios/")||ct(e,"edge/")?ct(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":kr:"Safari"}var xr={ld:"FirebaseCore-web",nd:"FirebaseUI-web"};function Or(t,e){e=e||[];var n,r=[],i={};for(n in xr)i[xr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=_r())?r=Sr(i=Cr()):"Worker"===r&&(r=Sr(i=Cr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Cr(){return a.navigator&&a.navigator.userAgent||""}function Dr(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Pr(){try{var t=a.localStorage,e=qr();if(t)return t.setItem(e,"1"),t.removeItem(e),!lr()||!!a.indexedDB}catch(t){return Tr()&&!!a.indexedDB}return!1}function Rr(){return(Lr()||"chrome-extension:"===Mr()||Ir())&&!Ar()&&Pr()&&!Tr()}function Lr(){return"http:"===Mr()||"https:"===Mr()}function Mr(){return a.location&&a.location.protocol||null}function jr(t){return!vr(t=t||Cr())&&Sr(t)!=Nr}function Ur(t){return void 0===t?null:or(t)}function Vr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Fr(t){if(null!==t)return JSON.parse(t)}function qr(t){return t||Math.floor(1e9*Math.random()).toString()}function zr(t){return"Safari"!=Sr(t=t||Cr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Br(){var t=a.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Gr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Cr(),e=_r(),this.b=vr(t)||"ReactNative"===e}function Kr(){var t=a.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Hr(t){"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t)}function Wr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function Xr(){return!(!Dr("fireauth.oauthhelper",a)&&!Dr("fireauth.iframe",a))}Gr.prototype.get=function(){var t=a.navigator;return!t||"boolean"!=typeof t.onLine||!Lr()&&"chrome-extension:"!==Mr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Yr,Jr={};function $r(t){Jr[t]||(Jr[t]=!0,Hr(t))}try{var Qr={};Object.defineProperty(Qr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Qr,"abcd",{configurable:!0,enumerable:!0,value:2}),Yr=2==Qr.abcd}catch(Xt){Yr=!1}function Zr(t,e,n){Yr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function ti(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Zr(t,n,e[n])}function ei(t){var e={};return ti(e,t),e}function ni(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Zr(e,n,ni(t[n]));return e}function ri(t){var e=t&&(t[ui]?"phone":null);if(!(e&&t&&t[ai]))throw new N("internal-error","Internal assert: invalid MultiFactorInfo object");Zr(this,"uid",t[ai]),Zr(this,"displayName",t[oi]||null);var n=null;t[si]&&(n=new Date(t[si]).toUTCString()),Zr(this,"enrollmentTime",n),Zr(this,"factorId",e)}function ii(t){try{var e=new ci(t)}catch(t){e=null}return e}ri.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var oi="displayName",si="enrolledAt",ai="mfaEnrollmentId",ui="phoneInfo";function ci(t){ri.call(this,t),Zr(this,"phoneNumber",t[ui])}function hi(t){var e={},n=t[di],r=t[mi],i=t[yi];if(t=ii(t[vi]),!i||i!=fi&&i!=pi&&!n||i==pi&&!r||i==li&&!t)throw Error("Invalid checkActionCode response!");i==pi?(e[bi]=n||null,e[Ii]=n||null,e[gi]=r):(e[bi]=r||null,e[Ii]=r||null,e[gi]=n||null),e[wi]=t||null,Zr(this,Ti,i),Zr(this,Ei,ni(e))}_(ci,ri),ci.prototype.w=function(){var t=ci.$a.w.call(this);return t.phoneNumber=this.phoneNumber,t};var li="REVERT_SECOND_FACTOR_ADDITION",fi="EMAIL_SIGNIN",pi="VERIFY_AND_CHANGE_EMAIL",di="email",vi="mfaInfo",mi="newEmail",yi="requestType",gi="email",bi="fromEmail",wi="multiFactorInfo",Ii="previousEmail",Ei="data",Ti="operation";function _i(t){var e=Fn(t=qn(t),Ai)||null,n=Fn(t,Ni)||null,r=Fn(t,xi)||null;if(r=r&&Ci[r]||null,!e||!n||!r)throw new N("argument-error",Ai+", "+Ni+"and "+xi+" are required in a valid action code URL.");ti(this,{apiKey:e,operation:r,code:n,continueUrl:Fn(t,ki)||null,languageCode:Fn(t,Si)||null,tenantId:Fn(t,Oi)||null})}var Ai="apiKey",Ni="oobCode",ki="continueUrl",Si="languageCode",xi="mode",Oi="tenantId",Ci={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:li,signIn:fi,verifyAndChangeEmail:pi,verifyEmail:"VERIFY_EMAIL"};function Di(t){try{return new _i(t)}catch(t){return null}}function Pi(t){var e=t[Ui];if(void 0===e)throw new N("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new N("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Ri];if(n&&"object"==typeof n){e=n[qi];var r=n[Vi];if(n=n[Fi],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new N("argument-error",Vi+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new N("argument-error",Fi+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new N("argument-error",qi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new N("missing-android-pkg-name")}}else if(void 0!==n)throw new N("argument-error",Ri+" property must be a non null object when specified.");if(this.f=null,(e=t[ji])&&"object"==typeof e){if("string"==typeof(e=e[zi])&&e.length)this.f=e;else if(void 0!==e)throw new N("argument-error",zi+" property must be a non empty string when specified.")}else if(void 0!==e)throw new N("argument-error",ji+" property must be a non null object when specified.");if(void 0!==(e=t[Mi])&&"boolean"!=typeof e)throw new N("argument-error",Mi+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Li])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new N("argument-error",Li+" property must be a non empty string when specified.");this.i=t||null}var Ri="android",Li="dynamicLinkDomain",Mi="handleCodeInApp",ji="iOS",Ui="url",Vi="installApp",Fi="minimumVersion",qi="packageName",zi="bundleId";function Bi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Gi=null;function Ki(t){var e=Wi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.g=t,this.c=e.exp,this.h=e.sub,T(),this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function Hi(t){try{return new Ki(t)}catch(t){return null}}function Wi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(function(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Gi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Gi){Gi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Gi[o]&&(Gi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,(function(t){e+=String.fromCharCode(t)})),e}(t))}catch(t){}return null}Ki.prototype.S=function(){return this.f},Ki.prototype.i=function(){return this.b},Ki.prototype.toString=function(){return this.g};var Xi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Yi=["client_id","response_type","scope","redirect_uri","state"],Ji={md:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Wa:Yi},od:{Ja:null,ua:500,ta:750,fa:"github.com",Wa:Yi},pd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Wa:Yi},vd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Wa:Xi},jd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Wa:[]}};function $i(t){for(var e in Ji)if(Ji[e].fa==t)return Ji[e];return null}function Qi(t){var e={};e["facebook.com"]=ro,e["google.com"]=oo,e["github.com"]=io,e["twitter.com"]=so;var n=t&&t[to];try{if(n)return e[n]?new e[n](t):new no(t);if(void 0!==t[Zi])return new eo(t)}catch(t){}return null}var Zi="idToken",to="providerId";function eo(t){var e=t[to];if(!e&&t[Zi]){var n=Hi(t[Zi]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Zr(this,"providerId",e),Zr(this,"isNewUser",n)}function no(t){eo.call(this,t),Zr(this,"profile",ni((t=Fr(t.rawUserInfo||"{}"))||{}))}function ro(t){if(no.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function io(t){if(no.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Zr(this,"username",this.profile&&this.profile.login||null)}function oo(t){if(no.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function so(t){if(no.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Zr(this,"username",t.screenName||null)}function ao(t){var e=qn(t),n=Fn(e,"link"),r=Fn(qn(n),"link");return e=Fn(e,"deep_link_id"),Fn(qn(e),"link")||e||r||n||t}function uo(t,e){if(!t&&!e)throw new N("internal-error","Internal assert: no raw session string available");if(t&&e)throw new N("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?co:ho}_(no,eo),_(ro,no),_(io,no),_(oo,no),_(so,no);var co="enroll",ho="signin";function lo(){}function fo(t,e){return t.then((function(t){if(t[ta]){var n=Hi(t[ta]);if(!n||e!=n.h)throw new N("user-mismatch");return t}throw new N("user-mismatch")})).s((function(t){throw t&&t.code&&t.code==x+"user-not-found"?new N("user-mismatch"):t}))}function po(t,e){if(!e)throw new N("internal-error","failed to construct a credential");this.a=e,Zr(this,"providerId",t),Zr(this,"signInMethod",t)}function vo(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function mo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new po(t.providerId,t.pendingToken)}catch(t){}return null}function yo(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Zr(this,"idToken",e.idToken),e.accessToken&&Zr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Zr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new N("internal-error","failed to construct a credential");Zr(this,"accessToken",e.oauthToken),Zr(this,"secret",e.oauthTokenSecret)}Zr(this,"providerId",t),Zr(this,"signInMethod",n)}function go(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Zn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function bo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new yo(t.providerId,e,t.signInMethod)}catch(t){}}return null}function wo(t,e){this.Pc=e||[],ti(this,{providerId:t,isOAuthProvider:!0}),this.Hb={},this.ob=($i(t)||{}).Ja||null,this.nb=null}function Io(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new N("argument-error",'SAML provider IDs must be prefixed with "saml."');wo.call(this,t,[])}function Eo(t){wo.call(this,t,Yi),this.a=[]}function To(){Eo.call(this,"facebook.com")}function _o(t){if(!t)throw new N("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return v(t)&&(e=t.accessToken),(new To).credential({accessToken:e})}function Ao(){Eo.call(this,"github.com")}function No(t){if(!t)throw new N("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return v(t)&&(e=t.accessToken),(new Ao).credential({accessToken:e})}function ko(){Eo.call(this,"google.com"),this.Ca("profile")}function So(t,e){var n=t;return v(t)&&(n=t.idToken,e=t.accessToken),(new ko).credential({idToken:n,accessToken:e})}function xo(){wo.call(this,"twitter.com",Xi)}function Oo(t,e){var n=t;if(v(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new N("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new yo("twitter.com",n,"twitter.com")}function Co(t,e,n){this.a=t,this.f=e,Zr(this,"providerId","password"),Zr(this,"signInMethod",n===Po.EMAIL_LINK_SIGN_IN_METHOD?Po.EMAIL_LINK_SIGN_IN_METHOD:Po.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Do(t){return t&&t.email&&t.password?new Co(t.email,t.password,t.signInMethod):null}function Po(){ti(this,{providerId:"password",isOAuthProvider:!1})}function Ro(t,e){if(!(e=Lo(e)))throw new N("argument-error","Invalid email link!");return new Co(t,e.code,Po.EMAIL_LINK_SIGN_IN_METHOD)}function Lo(t){return(t=Di(t=ao(t)))&&t.operation===fi?t:null}function Mo(t){if(!(t.cb&&t.bb||t.La&&t.ea))throw new N("internal-error");this.a=t,Zr(this,"providerId","phone"),this.fa="phone",Zr(this,"signInMethod","phone")}function jo(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return G(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Mo(e)}return null}function Uo(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.cb,code:t.a.bb}}function Vo(t){try{this.a=t||J.auth()}catch(t){throw new N("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}ti(this,{providerId:"phone",isOAuthProvider:!1})}function Fo(t,e){if(!t)throw new N("missing-verification-id");if(!e)throw new N("missing-verification-code");return new Mo({cb:t,bb:e})}function qo(t){if(t.temporaryProof&&t.phoneNumber)return new Mo({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return So(o,n);case"facebook.com":return _o(n);case"github.com":return No(n);case"twitter.com":return Oo(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new po(e,s):new yo(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new Eo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(t){return null}}function zo(t){if(!t.isOAuthProvider)throw new N("invalid-oauth-provider")}function Bo(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new N("invalid-auth-event");if(this.g&&this.a)throw new N("invalid-auth-event");if(this.g&&!this.f)throw new N("invalid-auth-event")}function Go(t){return(t=t||{}).type?new Bo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&k(t.error),t.postBody,t.tenantId):null}function Ko(){this.b=null,this.a=[]}uo.prototype.Ha=function(){return this.a?xe(this.a):xe(this.b)},uo.prototype.w=function(){return this.type==co?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},lo.prototype.ja=function(){},lo.prototype.b=function(){},lo.prototype.c=function(){},lo.prototype.w=function(){},po.prototype.ja=function(t){return Ia(t,vo(this))},po.prototype.b=function(t,e){var n=vo(this);return n.idToken=e,Ea(t,n)},po.prototype.c=function(t,e){return fo(Ta(t,vo(this)),e)},po.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},yo.prototype.ja=function(t){return Ia(t,go(this))},yo.prototype.b=function(t,e){var n=go(this);return n.idToken=e,Ea(t,n)},yo.prototype.c=function(t,e){return fo(Ta(t,go(this)),e)},yo.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},wo.prototype.Ka=function(t){return this.Hb=mt(t),this},_(Io,wo),_(Eo,wo),Eo.prototype.Ca=function(t){return X(this.a,t)||this.a.push(t),this},Eo.prototype.Pb=function(){return Z(this.a)},Eo.prototype.credential=function(t,e){var n;if(!(n=v(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new N("argument-error","credential failed: must provide the ID token and/or the access token.");return new yo(this.providerId,n,this.providerId)},_(To,Eo),Zr(To,"PROVIDER_ID","facebook.com"),Zr(To,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),_(Ao,Eo),Zr(Ao,"PROVIDER_ID","github.com"),Zr(Ao,"GITHUB_SIGN_IN_METHOD","github.com"),_(ko,Eo),Zr(ko,"PROVIDER_ID","google.com"),Zr(ko,"GOOGLE_SIGN_IN_METHOD","google.com"),_(xo,wo),Zr(xo,"PROVIDER_ID","twitter.com"),Zr(xo,"TWITTER_SIGN_IN_METHOD","twitter.com"),Co.prototype.ja=function(t){return this.signInMethod==Po.EMAIL_LINK_SIGN_IN_METHOD?iu(t,Ca,{email:this.a,oobCode:this.f}):iu(t,Za,{email:this.a,password:this.f})},Co.prototype.b=function(t,e){return this.signInMethod==Po.EMAIL_LINK_SIGN_IN_METHOD?iu(t,Da,{idToken:e,email:this.a,oobCode:this.f}):iu(t,Ka,{idToken:e,email:this.a,password:this.f})},Co.prototype.c=function(t,e){return fo(this.ja(t),e)},Co.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},ti(Po,{PROVIDER_ID:"password"}),ti(Po,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),ti(Po,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Mo.prototype.ja=function(t){return t.eb(Uo(this))},Mo.prototype.b=function(t,e){var n=Uo(this);return n.idToken=e,iu(t,eu,n)},Mo.prototype.c=function(t,e){var n=Uo(this);return n.operation="REAUTH",fo(t=iu(t,nu,n),e)},Mo.prototype.w=function(){var t={providerId:"phone"};return this.a.cb&&(t.verificationId=this.a.cb),this.a.bb&&(t.verificationCode=this.a.bb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Vo.prototype.eb=function(t,e){var n=this.a.a;return xe(e.verify()).then((function(r){if("string"!=typeof r)throw new N("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=v(t)?t.session:null,o=v(t)?t.phoneNumber:t;return(i&&i.type==co?i.Ha().then((function(t){return function(t,e){return iu(t,Wa,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==ho?i.Ha().then((function(e){return function(t,e){return iu(t,Xa,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return iu(t,Ba,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new N("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},ti(Vo,{PROVIDER_ID:"phone"}),ti(Vo,{PHONE_SIGN_IN_METHOD:"phone"}),Bo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Bo.prototype.S=function(){return this.h},Bo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Ho,Wo=null;function Xo(t){var e="unauthorized-domain",n=void 0,r=qn(t);t=r.a,"chrome-extension"==(r=r.f)?n=Gt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Gt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",N.call(this,e,n)}function Yo(t,e,n){N.call(this,t,n),(t=e||{}).Ib&&Zr(this,"email",t.Ib),t.ea&&Zr(this,"phoneNumber",t.ea),t.credential&&Zr(this,"credential",t.credential),t.Yb&&Zr(this,"tenantId",t.Yb)}function Jo(t){if(t.code){var e=t.code||"";0==e.indexOf(x)&&(e=e.substring(x.length));var n={credential:qo(t),Yb:t.tenantId};if(t.email)n.Ib=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new N(e,t.message||void 0);return new Yo(e,n,t.message)}return null}function $o(){}function Qo(t){return t.c||(t.c=t.b())}function Zo(){}function ts(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function es(){}function ns(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=I(this.pc,this),this.a.onerror=I(this.Rb,this),this.a.onprogress=I(this.qc,this),this.a.ontimeout=I(this.uc,this)}function rs(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function is(t,e,n){this.reset(t,e,n,void 0,void 0)}function os(t){this.f=t,this.b=this.c=this.a=null}function ss(t,e){this.name=t,this.value=e}_(Xo,N),_(Yo,N),Yo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&gt(t,e),t},Yo.prototype.toJSON=function(){return this.w()},$o.prototype.c=null,_(Zo,$o),Zo.prototype.a=function(){var t=ts(this);return t?new ActiveXObject(t):new XMLHttpRequest},Zo.prototype.b=function(){var t={};return ts(this)&&(t[0]=!0,t[1]=!0),t},Ho=new Zo,_(es,$o),es.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new ns;throw Error("Unsupported browser")},es.prototype.b=function(){return{}},(t=ns.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.pc=function(){this.status=200,this.response=this.responseText=this.a.responseText,rs(this,4)},t.Rb=function(){this.status=500,this.response=this.responseText="",rs(this,4)},t.uc=function(){this.Rb()},t.qc=function(){this.status=200,rs(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},is.prototype.a=null,is.prototype.reset=function(t,e,n,r,i){r||T(),delete this.a},ss.prototype.toString=function(){return this.name};var as=new ss("SEVERE",1e3),us=new ss("WARNING",900),cs=new ss("CONFIG",700),hs=new ss("FINE",500);function ls(t){return t.c?t.c:t.a?ls(t.a):(M("Root logger has no level set."),null)}os.prototype.log=function(t,e,n){if(t.value>=ls(this).value)for(d(e)&&(e=e()),t=new is(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var fs={},ps=null;function ds(t){var e;if(ps||(ps=new os(""),fs[""]=ps,ps.c=cs),!(e=fs[t])){e=new os(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=ds(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,fs[t]=e}return e}function vs(t,e){t&&t.log(hs,e,void 0)}function ms(t){this.f=t}function ys(t){Tn.call(this),this.u=t,this.h=void 0,this.readyState=gs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.o="GET",this.f="",this.a=!1,this.i=ds("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}_(ms,$o),ms.prototype.a=function(){return new ys(this.f)},ms.prototype.b=function(t){return function(){return t}}({}),_(ys,Tn);var gs=0;function bs(t){t.c.read().then(t.oc.bind(t)).catch(t.Ta.bind(t))}function ws(t){t.readyState=4,t.g=null,t.c=null,t.m=null,Is(t)}function Is(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function Es(t){Tn.call(this),this.headers=new Cn,this.O=t||null,this.c=!1,this.A=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.G=!1,this.g=0,this.o=null,this.m=Ts,this.u=this.R=!1}(t=ys.prototype).open=function(t,e){if(this.readyState!=gs)throw this.abort(),Error("Error reopening a connection");this.o=t,this.f=e,this.readyState=1,Is(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.o,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.tc.bind(this),this.Ta.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ws(this)),this.readyState=gs},t.tc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,Is(this)),this.a&&(this.readyState=3,Is(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.rc.bind(this),this.Ta.bind(this)):void 0!==a.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,bs(this)):t.text().then(this.sc.bind(this),this.Ta.bind(this)))))},t.oc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?ws(this):Is(this),3==this.readyState&&bs(this)}},t.sc=function(t){this.a&&(this.response=this.responseText=t,ws(this))},t.rc=function(t){this.a&&(this.response=t,ws(this))},t.Ta=function(t){var e=this.i;e&&e.log(us,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&ws(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(us,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(us,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(ys.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),_(Es,Tn);var Ts="";Es.prototype.b=ds("goog.net.XhrIo");var _s=/^https?$/i,As=["POST","PUT"];function Ns(t){return"content-type"==t.toLowerCase()}function ks(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Ss(t),Os(t)}function Ss(t){t.G||(t.G=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function xs(t){if(t.c&&void 0!==s)if(t.A[1]&&4==Ds(t)&&2==Ps(t))vs(t.b,Rs(t,"Local request error detected and ignored"));else if(t.i&&4==Ds(t))kn(t.Ub,0,t);else if(t.dispatchEvent("readystatechange"),4==Ds(t)){vs(t.b,Rs(t,"Request complete")),t.c=!1;try{var e,n=Ps(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(Rn)[1]||null;if(!o&&a.self&&a.self.location){var u=a.self.location.protocol;o=u.substr(0,u.length-1)}i=!_s.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Ds(t)?t.a.statusText:""}catch(e){vs(t.b,"Can not get status: "+e.message),c=""}t.h=c+" ["+Ps(t)+"]",Ss(t)}}finally{Os(t)}}}function Os(t,e){if(t.a){Cs(t);var n=t.a,r=t.A[0]?l:null;t.a=null,t.A=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(as,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function Cs(t){t.a&&t.u&&(t.a.ontimeout=null),t.o&&(a.clearTimeout(t.o),t.o=null)}function Ds(t){return t.a?t.a.readyState:0}function Ps(t){try{return 2<Ds(t)?t.a.status:-1}catch(t){return-1}}function Rs(t,e){return e+" ["+t.P+" "+t.l+" "+Ps(t)+"]"}function Ls(t){var e=Hs;this.g=[],this.u=e,this.o=t||null,this.f=this.a=!1,this.c=void 0,this.m=this.A=this.i=!1,this.h=0,this.b=null,this.l=0}function Ms(t,e,n){t.a=!0,t.c=n,t.f=!e,Fs(t)}function js(t){if(t.a){if(!t.m)throw new qs(t);t.m=!1}}function Us(t,e,n,r){t.g.push([e,n,r]),t.a&&Fs(t)}function Vs(t){return W(t.g,(function(t){return d(t[1])}))}function Fs(t){if(t.h&&t.a&&Vs(t)){var e=t.h,n=Gs[e];n&&(a.clearTimeout(n.a),delete Gs[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],s=i[1];if(i=i[2],o=t.f?s:o)try{var u=o.call(i||t.o,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(P(e)||"function"==typeof a.Promise&&e instanceof a.Promise)&&(r=!0,t.i=!0)}catch(r){e=r,t.f=!0,Vs(t)||(n=!0)}}t.c=e,r&&(u=I(t.v,t,!0),r=I(t.v,t,!1),e instanceof Ls?(Us(e,u,r),e.A=!0):e.then(u,r)),n&&(e=new Bs(e),Gs[e.a]=e,t.h=e.a)}function qs(){R.call(this)}function zs(){R.call(this)}function Bs(t){this.a=a.setTimeout(I(this.c,this),0),this.b=t}(t=Es.prototype).Ma=function(){void 0!==s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",vs(this.b,Rs(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(vs(this.b,Rs(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Os(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Os(this,!0)),Es.$a.Da.call(this)},t.Ub=function(){this.xa||(this.N||this.i||this.f?xs(this):this.Ic())},t.Ic=function(){xs(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Ts:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(as,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return vs(this.b,"Can not get response: "+t.message),null}},Ls.prototype.cancel=function(t){if(this.a)this.c instanceof Ls&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.o,this):this.m=!0,this.a||(t=new zs(this),js(this),Ms(this,!1,t))}},Ls.prototype.v=function(t,e){this.i=!1,Ms(this,t,e)},Ls.prototype.then=function(t,e,n){var r,i,o=new Ee((function(t,e){r=t,i=e}));return Us(this,r,(function(t){t instanceof zs?o.cancel():i(t)})),o.then(t,e,n)},Ls.prototype.$goog_Thenable=!0,_(qs,R),qs.prototype.message="Deferred has already fired",qs.prototype.name="AlreadyCalledError",_(zs,R),zs.prototype.message="Deferred was canceled",zs.prototype.name="CanceledError",Bs.prototype.c=function(){throw delete Gs[this.a],this.b};var Gs={};function Ks(t){var e={},n=e.document||document,r=kt(t).toString(),i=me(document,"SCRIPT"),o={Vb:i,Ma:void 0},s=new Ls(o),u=null,l=null!=e.timeout?e.timeout:5e3;return 0<l&&(u=window.setTimeout((function(){Ws(i,!0);var t=new Js(Ys,"Timeout reached for loading script "+r);js(s),Ms(s,!1,t)}),l),o.Ma=u),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ws(i,e.wd||!1,u),js(s),Ms(s,!0,null))},i.onerror=function(){Ws(i,!0,u);var t=new Js(Xs,"Error while loading script "+r);js(s),Ms(s,!1,t)},gt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),le(i,o),function(t,e){bt(t,"HTMLScriptElement"),t.src=kt(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=a?e=h(e.document):(null===c&&(c=h(a.document)),e=c),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),s}function Hs(){if(this&&this.Vb){var t=this.Vb;t&&"SCRIPT"==t.tagName&&Ws(t,!0,this.Ma)}}function Ws(t,e,n){null!=n&&a.clearTimeout(n),t.onload=l,t.onerror=l,t.onreadystatechange=l,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Xs=0,Ys=1;function Js(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),R.call(this,n),this.code=t}function $s(t){this.f=t}function Qs(t,e,n){if(this.c=t,t=e||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.v=t.secureTokenTimeout||ea,this.g=mt(t.secureTokenHeaders||na),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.m=t.firebaseTimeout||ra,this.a=mt(t.firebaseHeaders||ia),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==_r(),!(n=a.XMLHttpRequest||n&&J.INTERNAL.node&&J.INTERNAL.node.XMLHttpRequest)&&!Tr())throw new N("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Tr()?this.f=new ms(self):Ar()?this.f=new $s(n):this.f=new es,this.b=null}_(Js,R),_($s,$o),$s.prototype.a=function(){return new this.f},$s.prototype.b=function(){return{}};var Zs,ta="idToken",ea=new Gr(3e4,6e4),na={"Content-Type":"application/x-www-form-urlencoded"},ra=new Gr(3e4,6e4),ia={"Content-Type":"application/json"};function oa(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function sa(t,e){e&&(t.l=aa("https://securetoken.googleapis.com/v1/token",e),t.h=aa("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=aa("https://identitytoolkit.googleapis.com/v2/",e))}function aa(t,e){return t=qn(t),e=qn(e.url),t.c=t.a+t.c,Mn(t,e.f),t.a=e.a,jn(t,e.g),t.toString()}function ua(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function ca(t,e,n,r,i,o,s){(function(){var t=Cr();return!((t=Sr(t)!=kr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Jt&&ue&&!(9<ue))})()||Tr()?t=I(t.u,t):(Zs||(Zs=new Ee((function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(a[la]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Us(t,null,e,void 0)}(Ks(St(ha,{onload:la})),(function(){e(Error("CORS_UNSUPPORTED"))})))}(t,e)}))),t=I(t.o,t)),t(e,n,r,i,o,s)}Qs.prototype.S=function(){return this.b},Qs.prototype.u=function(t,e,n,r,i,o){if(Tr()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new N("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new Es(this.f);if(o){s.g=Math.max(0,o);var u=setTimeout((function(){s.dispatchEvent("timeout")}),o)}_n(s,"complete",(function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return vs(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(e){t=null}e&&e(t)})),An(s,"ready",(function(){u&&clearTimeout(u),We(this)})),An(s,"timeout",(function(){u&&clearTimeout(u),We(this),e&&e(null)})),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.G=!1,t.c=!0,t.a=t.O?t.O.a():Ho.a(),t.A=t.O?Qo(t.O):Qo(Ho),t.a.onreadystatechange=I(t.Ub,t);try{vs(t.b,Rs(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(e){return vs(t.b,Rs(t,"Error opening Xhr: "+e.message)),void ks(t,e)}e=r||"";var o=new Cn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(p(t)||"string"==typeof t)G(t,e,void 0);else for(var n=On(t),r=xn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=Ns,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=a.FormData&&e instanceof a.FormData,!X(As,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.R&&(t.a.withCredentials=t.R);try{Cs(t),0<t.g&&(t.u=function(t){return Jt&&ae(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),vs(t.b,Rs(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=I(t.Ma,t)):t.o=kn(t.Ma,t.g,t)),vs(t.b,Rs(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(e){vs(t.b,Rs(t,"Send error: "+e.message)),ks(t,e)}}(s,t,n,r,i)};var ha=new wt(_t,"https://apis.google.com/js/client.js?onload=%{onload}"),la="__fcb"+Math.floor(1e6*Math.random()).toString();function fa(t){if("string"!=typeof(t=t.email)||!br.test(t))throw new N("invalid-email")}function pa(t){"email"in t&&fa(t)}function da(t){if(!t[ta]){if(t.mfaPendingCredential)throw new N("multi-factor-auth-required",null,mt(t));throw new N("internal-error")}}function va(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new N("internal-error")}else{if(!t.sessionInfo)throw new N("missing-verification-id");if(!t.code)throw new N("missing-verification-code")}}Qs.prototype.o=function(t,e,n,r,i){var o=this;Zs.then((function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})})).s((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Qs.prototype.yb=function(){return iu(this,Ha,{})},Qs.prototype.Ab=function(t,e){return iu(this,Ga,{idToken:t,email:e})},Qs.prototype.Bb=function(t,e){return iu(this,Ka,{idToken:t,password:e})};var ma={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ya(t){if(!t.phoneVerificationInfo)throw new N("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new N("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new N("missing-verification-code")}function ga(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new N("internal-error")}function ba(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&er(t=new $n(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function wa(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Jo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Jo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Jo(t)):t.errorMessage&&(e=ou(t.errorMessage)),e)throw e;da(t)}function Ia(t,e){return e.returnIdpCredential=!0,iu(t,Ya,e)}function Ea(t,e){return e.returnIdpCredential=!0,iu(t,$a,e)}function Ta(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,iu(t,Ja,e)}function _a(t){if(!t.oobCode)throw new N("invalid-action-code")}(t=Qs.prototype).Cb=function(t,e){var n={idToken:t},r=[];return dt(ma,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),iu(this,Ga,n)},t.ub=function(t,e){return gt(t={requestType:"PASSWORD_RESET",email:t},e),iu(this,Va,t)},t.vb=function(t,e){return gt(t={requestType:"EMAIL_SIGNIN",email:t},e),iu(this,Ma,t)},t.tb=function(t,e){return gt(t={requestType:"VERIFY_EMAIL",idToken:t},e),iu(this,ja,t)},t.Db=function(t,e,n){return gt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),iu(this,Ua,t)},t.eb=function(t){return iu(this,tu,t)},t.mb=function(t,e){return iu(this,za,{oobCode:t,newPassword:e})},t.Qa=function(t){return iu(this,Na,{oobCode:t})},t.ib=function(t){return iu(this,Aa,{oobCode:t})};var Aa={endpoint:"setAccountInfo",B:_a,Z:"email",C:!0},Na={endpoint:"resetPassword",B:_a,F:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new N("internal-error")},C:!0},ka={endpoint:"signupNewUser",B:function(t){if(fa(t),!t.password)throw new N("weak-password")},F:da,U:!0,C:!0},Sa={endpoint:"createAuthUri",C:!0},xa={endpoint:"deleteAccount",M:["idToken"]},Oa={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],B:function(t){if(!Array.isArray(t.deleteProvider))throw new N("internal-error")}},Ca={endpoint:"emailLinkSignin",M:["email","oobCode"],B:fa,F:da,U:!0,C:!0},Da={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],B:fa,F:da,U:!0},Pa={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],B:ya,F:da,C:!0,Na:!0},Ra={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],B:ya,F:da,C:!0,Na:!0},La={endpoint:"getAccountInfo"},Ma={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new N("internal-error");fa(t)},Z:"email",C:!0},ja={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],B:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new N("internal-error")},Z:"email",C:!0},Ua={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],B:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new N("internal-error")},Z:"email",C:!0},Va={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(t){if("PASSWORD_RESET"!=t.requestType)throw new N("internal-error");fa(t)},Z:"email",C:!0},Fa={kb:!0,endpoint:"getProjectConfig",Tb:"GET"},qa={kb:!0,endpoint:"getRecaptchaParam",Tb:"GET",F:function(t){if(!t.recaptchaSiteKey)throw new N("internal-error")}},za={endpoint:"resetPassword",B:_a,Z:"email",C:!0},Ba={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Z:"sessionInfo",C:!0},Ga={endpoint:"setAccountInfo",M:["idToken"],B:pa,U:!0},Ka={endpoint:"setAccountInfo",M:["idToken"],B:function(t){if(pa(t),!t.password)throw new N("weak-password")},F:da,U:!0},Ha={endpoint:"signupNewUser",F:da,U:!0,C:!0},Wa={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],B:function(t){if(!t.phoneEnrollmentInfo)throw new N("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new N("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new N("missing-app-credential")},F:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new N("internal-error")},C:!0,Na:!0},Xa={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],B:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new N("missing-app-credential")},F:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new N("internal-error")},C:!0,Na:!0},Ya={endpoint:"verifyAssertion",B:ga,Xa:ba,F:wa,U:!0,C:!0},Ja={endpoint:"verifyAssertion",B:ga,Xa:ba,F:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new N("user-not-found");if(t.errorMessage)throw ou(t.errorMessage);da(t)},U:!0,C:!0},$a={endpoint:"verifyAssertion",B:function(t){if(ga(t),!t.idToken)throw new N("internal-error")},Xa:ba,F:wa,U:!0},Qa={endpoint:"verifyCustomToken",B:function(t){if(!t.token)throw new N("invalid-custom-token")},F:da,U:!0,C:!0},Za={endpoint:"verifyPassword",B:function(t){if(fa(t),!t.password)throw new N("wrong-password")},F:da,U:!0,C:!0},tu={endpoint:"verifyPhoneNumber",B:va,F:da,C:!0},eu={endpoint:"verifyPhoneNumber",B:function(t){if(!t.idToken)throw new N("internal-error");va(t)},F:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Jo(t);da(t)}},nu={Gb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",B:va,F:da,C:!0},ru={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],F:function(t){if(!!t[ta]^!!t.refreshToken)throw new N("internal-error")},C:!0,Na:!0};function iu(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.M))return Oe(new N("internal-error"));var r,i=!!e.Na,o=e.Tb||"POST";return xe(n).then(e.B).then((function(){return e.U&&(n.returnSecureToken=!0),e.C&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,o,s){var a=qn(e+n);Vn(a,"key",t.c),s&&Vn(a,"cb",T().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Vn(a,c,i[c]);return new Ee((function(e,n){ca(t,a.toString(),(function(t){t?t.error?n(su(t,o||{})):e(t):n(new N("network-request-failed"))}),r,u?void 0:or(Vr(i)),t.a,t.m.get())}))}(t,i?t.i:t.h,e.endpoint,o,n,e.Gb,e.kb||!1)})).then((function(t){return r=t,e.Xa?e.Xa(n,r):r})).then(e.F).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new N("internal-error");return r[e.Z]}))}function ou(t){return su({error:{errors:[{message:t}],code:400,message:t}})}function su(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new N(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",gt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new N(r[i],e);return!e&&t&&(e=Ur(t)),new N("internal-error",e)}function au(t){this.b=t,this.a=null,this.qb=function(t){return(lu||(lu=new Ee((function(t,e){function n(){Br(),Dr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Br(),e(Error("Network Error"))},timeout:cu.get()})}if(Dr("gapi.iframes.Iframe"))t();else if(Dr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();a[r]=function(){Dr("gapi.load")?n():e(Error("Network Error"))},xe(Ks(r=St(uu,{onload:r}))).s((function(){e(Error("Network Error"))}))}})).s((function(t){throw lu=null,t})))).then((function(){return new Ee((function(e,n){Dr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Dr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),hu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var uu=new wt(_t,"https://apis.google.com/js/api.js?onload=%{onload}"),cu=new Gr(3e4,6e4),hu=new Gr(5e3,15e3),lu=null;function fu(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,t=this.g?zn((t=qn(this.g.url)).f,t.a,t.g,"/emulator/auth/iframe"):zn("https",this.l,null,"/__/auth/iframe"),this.a=t,Vn(this.a,"apiKey",this.h),Vn(this.a,"appName",this.i),this.b=null,this.c=[]}function pu(t,e,n,r,i,o){this.u=t,this.o=e,this.c=n,this.v=r,this.m=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function du(t){try{return J.app(t).auth().Ga()}catch(t){return[]}}function vu(t,e,n,r,i,o){this.o=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.A=null,this.h=[],this.v=this.a=null}function mu(t){var e=fr();return function(t){return iu(t,Fa,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=qn(e),r=n.f;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=qn(o).a==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:gr.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new Xo(fr())}))}function yu(t){return t.v||(t.v=wr().then((function(){if(!t.u){var e=t.c,n=t.i,r=du(t.b),i=new fu(t.o,t.g,t.b,t.f);i.f=e,i.b=n,i.c=Z(r||[]),t.u=i.toString()}t.m=new au(t.u),function(t){if(!t.m)throw Error("IfcHandler must be initialized!");!function(t,e){t.qb.then((function(){t.a.register("authEvent",e,Dr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.m,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Go(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",xe(n)}return n.status="ERROR",xe(n)}))}(t)}))),t.v}function gu(t){return t.l||(t.A=t.c?Or(t.c,du(t.b)):null,t.l=new Qs(t.g,D(t.i),t.A),t.f&&sa(t.l,t.f)),t.l}function bu(t,e,n,r,i,o,s,a,u,c,h,l){return(t=new pu(t,e,n,r,i,l)).l=o,t.g=s,t.i=a,t.b=mt(u||null),t.f=c,t.xb(h).toString()}function wu(t){if(this.a=t||J.INTERNAL.reactNative&&J.INTERNAL.reactNative.AsyncStorage,!this.a)throw new N("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Iu(t){this.b=t,this.a={},this.f=I(this.c,this)}fu.prototype.toString=function(){return this.f?Vn(this.a,"v",this.f):tr(this.a.b,"v"),this.b?Vn(this.a,"eid",this.b):tr(this.a.b,"eid"),this.c.length?Vn(this.a,"fw",this.c.join(",")):tr(this.a.b,"fw"),this.a.toString()},pu.prototype.xb=function(t){return this.h=t,this},pu.prototype.toString=function(){if(this.m){var t=qn(this.m.url);t=zn(t.f,t.a,t.g,"/emulator/auth/handler")}else t=zn("https",this.u,null,"/__/auth/handler");if(Vn(t,"apiKey",this.o),Vn(t,"appName",this.c),Vn(t,"authType",this.v),this.a.isOAuthProvider){var e=this.a;try{var n=J.app(this.c).auth().ka()}catch(t){n=null}for(var r in e.nb=n,Vn(t,"providerId",this.a.providerId),e=Vr((n=this.a).Hb))e[r]=e[r].toString();r=n.Pc,e=mt(e);for(var i=0;i<r.length;i++){var o=r[i];o in e&&delete e[o]}n.ob&&n.nb&&!e[n.ob]&&(e[n.ob]=n.nb),vt(e)||Vn(t,"customParameters",Ur(e))}if("function"==typeof this.a.Pb&&(n=this.a.Pb()).length&&Vn(t,"scopes",n.join(",")),this.l?Vn(t,"redirectUrl",this.l):tr(t.b,"redirectUrl"),this.g?Vn(t,"eventId",this.g):tr(t.b,"eventId"),this.i?Vn(t,"v",this.i):tr(t.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Fn(t,s)&&Vn(t,s,this.b[s]);return this.h?Vn(t,"tid",this.h):tr(t.b,"tid"),this.f?Vn(t,"eid",this.f):tr(t.b,"eid"),(s=du(this.c)).length&&Vn(t,"fw",s.join(",")),t.toString()},(t=vu.prototype).Nb=function(t,e,n){var r=new N("popup-closed-by-user"),i=new N("web-storage-unsupported"),o=this,s=!1;return this.la().then((function(){(function(t){var e={type:"webStorageSupport"};return yu(t).then((function(){return function(t,e){return t.qb.then((function(){return new Ee((function(n){t.a.send(e.type,e,n,Dr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.m,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&mr(t),e(i),s=!0)}))})).s((function(){})).then((function(){if(!s)return function(t){return new Ee((function(e){return function n(){Sn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!s)return Sn(n).then((function(){e(r)}))}))},t.Wb=function(){var t=Cr();return!jr(t)&&!zr(t)},t.Sb=function(){return!1},t.Lb=function(t,e,n,r,i,o,s,a){if(!t)return Oe(new N("popup-blocked"));if(s&&!jr())return this.la().s((function(e){mr(t),i(e)})),r(),xe();this.a||(this.a=mu(gu(this)));var u=this;return this.a.then((function(){var e=u.la().s((function(e){throw mr(t),i(e),e}));return r(),e})).then((function(){zo(n),s||pr(bu(u.o,u.g,u.b,e,n,null,o,u.c,void 0,u.i,a,u.f),t)})).s((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Mb=function(t,e,n,r){this.a||(this.a=mu(gu(this)));var i=this;return this.a.then((function(){zo(e),pr(bu(i.o,i.g,i.b,t,e,fr(),n,i.c,void 0,i.i,r,i.f))})).s((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.la=function(){var t=this;return yu(this).then((function(){return t.m.qb})).s((function(){throw t.a=null,new N("network-request-failed")}))},t.Zb=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Ra=function(t){$(this.h,(function(e){return e==t}))},(t=wu.prototype).get=function(t){return xe(this.a.getItem(t)).then((function(t){return t&&Fr(t)}))},t.set=function(t,e){return xe(this.a.setItem(t,Ur(e)))},t.T=function(t){return xe(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var Eu,Tu=[];function _u(t,e,n){vt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function Au(t){this.a=t}function Nu(t){this.c=t,this.b=!1,this.a=[]}function ku(t,e,n,r){var i,o,s,a,u=n||{},c=null;if(t.b)return Oe(Error("connection_unavailable"));var h=r?800:50,l="undefined"!=typeof MessageChannel?new MessageChannel:null;return new Ee((function(n,r){l?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),l.port1.start(),s=setTimeout((function(){r(Error("unsupported_event"))}),h),c={messageChannel:l,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}},t.a.push(c),l.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[l.port2])):r(Error("connection_unavailable"))})).then((function(e){return Su(t,c),e})).s((function(e){throw Su(t,c),e}))}function Su(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),$(t.a,(function(t){return t==e}))}}function xu(){if(!Pu())throw new N("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.v=a.indexedDB,this.type="indexedDB",this.g=this.m=this.f=this.l=null,this.o=!1,this.h=null;var t=this;Tr()&&self?(this.m=function(){var t=Tr()?self:null;if(G(Tu,(function(n){n.b==t&&(e=n)})),!e){var e=new Iu(t);Tu.push(e)}return e}(),_u(this.m,"keyChanged",(function(e,n){return Uu(t).then((function(e){return 0<e.length&&G(t.a,(function(t){t(e)})),{keyProcessed:X(e,n.key)}}))})),_u(this.m,"ping",(function(){return xe(["keyChanged"])}))):function(){var t=a.navigator;return t&&t.serviceWorker?xe().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).s((function(){return null})):xe(null)}().then((function(e){(t.h=e)&&(t.g=new Nu(new Au(e)),ku(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&X(e[0].value,"keyChanged")&&(t.o=!0)})).s((function(){})))}))}function Ou(t){return new Ee((function(e,n){var r=t.v.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(t){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new Ee((function(e,n){var r=t.v.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return Ou(t)})).then((function(t){e(t)})).s((function(t){n(t)}))}}))}function Cu(t){return t.i||(t.i=Ou(t)),t.i}function Du(t,e){var n=0;return new Ee((function r(i,o){Cu(t).then(e).then(i).s((function(e){if(!(3<++n))return Cu(t).then((function(e){return e.close(),t.i=void 0,r(i,o)}));o(e)}))}))}function Pu(){try{return!!a.indexedDB}catch(t){return!1}}function Ru(t){return t.objectStore("firebaseLocalStorage")}function Lu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Mu(t){return new Ee((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function ju(t,e){return t.g&&t.h&&function(){var t=a.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?ku(t.g,"keyChanged",{key:e},t.o).then((function(){})).s((function(){})):xe()}function Uu(t){return Cu(t).then((function(t){var e=Ru(Lu(t,!1));return e.getAll?Mu(e.getAll()):new Ee((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=dr(t.c,n),t.c=n}return r}))}function Vu(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Fu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=xe().then((function(){if(Pu()){var t=qr(),r="__sak"+t;return Eu||(Eu=new xu),(n=Eu).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.T(r)})).then((function(){return n})).s((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){G(e.a,(function(e){e(t)}))})),t}))}function qu(){this.a={},this.type="inMemory"}function zu(){if(!function(){var t="Node"==_r();if(!(t=Bu()||t&&J.INTERNAL.node&&J.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==_r())throw new N("internal-error","The LocalStorage compatibility library was not found.");throw new N("web-storage-unsupported")}this.a=Bu()||J.INTERNAL.node.localStorage,this.type="localStorage"}function Bu(){try{var t=a.localStorage,e=qr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Gu(){this.type="nullStorage"}function Ku(){if(!function(){var t="Node"==_r();if(!(t=Hu()||t&&J.INTERNAL.node&&J.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==_r())throw new N("internal-error","The SessionStorage compatibility library was not found.");throw new N("web-storage-unsupported")}this.a=Hu()||J.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Hu(){try{var t=a.sessionStorage,e=qr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Wu(){var t={};t.Browser=Ju,t.Node=$u,t.ReactNative=Qu,t.Worker=Zu,this.a=t[_r()]}Iu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];G(r,(function(e){i.push(xe().then((function(){return e(t.origin,t.data.data)})))})),De(i).then((function(r){var i=[];G(r,(function(t){i.push({fulfilled:t.Ob,value:t.value,reason:t.reason?t.reason.message:void 0})})),G(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},Au.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Nu.prototype.close=function(){for(;0<this.a.length;)Su(this,this.a[0]);this.b=!0},(t=xu.prototype).set=function(t,e){var n=this,r=!1;return Du(this,(function(e){return Mu((e=Ru(Lu(e,!0))).get(t))})).then((function(i){return Du(n,(function(o){if(o=Ru(Lu(o,!0)),i)return i.value=e,Mu(o.put(i));n.b++,r=!0;var s={};return s.fbase_key=t,s.value=e,Mu(o.add(s))}))})).then((function(){return n.c[t]=e,ju(n,t)})).na((function(){r&&n.b--}))},t.get=function(t){return Du(this,(function(e){return Mu(Ru(Lu(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.T=function(t){var e=this,n=!1;return Du(this,(function(r){return n=!0,e.b++,Mu(Ru(Lu(r,!0)).delete(t))})).then((function(){return delete e.c[t],ju(e,t)})).na((function(){n&&e.b--}))},t.ca=function(t){0==this.a.length&&function(t){Vu(t),function e(){t.f=setTimeout((function(){t.l=Uu(t).then((function(e){0<e.length&&G(t.a,(function(t){t(e)}))})).then((function(){e()})).s((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()}(this),this.a.push(t)},t.ia=function(t){$(this.a,(function(e){return e==t})),0==this.a.length&&Vu(this)},(t=Fu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.T=function(t){return this.b.then((function(e){return e.T(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){$(this.a,(function(e){return e==t}))},(t=qu.prototype).get=function(t){return xe(this.a[t])},t.set=function(t,e){return this.a[t]=e,xe()},t.T=function(t){return delete this.a[t],xe()},t.ca=function(){},t.ia=function(){},(t=zu.prototype).get=function(t){var e=this;return xe().then((function(){return Fr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return xe().then((function(){var r=Ur(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return xe().then((function(){e.a.removeItem(t)}))},t.ca=function(t){a.window&&ln(a.window,"storage",t)},t.ia=function(t){a.window&&dn(a.window,"storage",t)},(t=Gu.prototype).get=function(){return xe(null)},t.set=function(){return xe()},t.T=function(){return xe()},t.ca=function(){},t.ia=function(){},(t=Ku.prototype).get=function(t){var e=this;return xe().then((function(){return Fr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return xe().then((function(){var r=Ur(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return xe().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var Xu,Yu,Ju={D:zu,ab:Ku},$u={D:zu,ab:Ku},Qu={D:wu,ab:Gu},Zu={D:zu,ab:Gu},tc={qd:"local",NONE:"none",sd:"session"};function ec(){var t=!(zr(Cr())||!Er()),e=jr(),n=Pr();this.v=t,this.h=e,this.l=n,this.a={},Xu||(Xu=new Wu),t=Xu;try{this.g=!lr()&&Xr()||!a.indexedDB?new t.a.D:new Fu(Tr()?new qu:new t.a.D)}catch(t){this.g=new qu,this.h=!0}try{this.i=new t.a.ab}catch(t){this.i=new qu}this.m=new qu,this.f=I(this.Xb,this),this.b={}}function nc(){return Yu||(Yu=new ec),Yu}function rc(t,e){switch(e){case"session":return t.i;case"none":return t.m;default:return t.g}}function ic(t,e){return"firebase:"+t.name+(e?":"+e:"")}function oc(t,e,n){return n=ic(e,n),"local"==e.D&&(t.b[n]=null),rc(t,e.D).T(n)}function sc(t){t.c&&(clearInterval(t.c),t.c=null)}function ac(t){this.a=t,this.b=nc()}(t=ec.prototype).get=function(t,e){return rc(this,t.D).get(ic(t,e))},t.set=function(t,e,n){var r=ic(t,n),i=this,o=rc(this,t.D);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.D&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=ic(t,e),this.l&&(this.b[t]=a.localStorage.getItem(t)),vt(this.a)&&(rc(this,"local").ca(this.f),this.h||(lr()||!Xr())&&a.indexedDB||!this.l||function(t){sc(t),t.c=setInterval((function(){for(var e in t.a){var n=a.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Ze({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Xb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=ic(t,e),this.a[t]&&($(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),vt(this.a)&&(rc(this,"local").ia(this.f),sc(this))},t.Xb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=a.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.lb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?rc(this,"local").ia(this.f):sc(this),this.v)if(n=a.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?a.localStorage.setItem(e,r):a.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===a.localStorage.getItem(e)||(o.b[e]=a.localStorage.getItem(e),o.lb(e))},Jt&&ue&&10==ue&&a.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else G(t,I(this.lb,this))},t.lb=function(t){this.a[t]&&G(this.a[t],(function(t){t()}))};var uc,cc={name:"authEvent",D:"local"};function hc(){this.a=nc()}function lc(t,e){this.b=fc,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0===uc&&(uc=a.Int32Array?new Int32Array(bc):bc),this.reset()}_(lc,(function(){this.b=-1}));for(var fc=64,pc=fc-1,dc=[],vc=0;vc<pc;vc++)dc[vc]=0;var mc=Q(128,dc);function yc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],u=0|t.a[3],c=0|t.a[4],h=0|t.a[5],l=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((s=(s=c&h^~c&l)+(0|uc[e])|0)+(0|n[e])|0)|0,o=l,l=h,h=c,c=u+s|0,u=a,a=i,i=r,r=s+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+h|0,t.a[6]=t.a[6]+l|0,t.a[7]=t.a[7]+o|0}function gc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(yc(t),i=0);else{if(!p(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(yc(t),i=0)}}t.c=i,t.g+=n}lc.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):Z(this.h)};var bc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function wc(){lc.call(this,8,Ic)}_(wc,lc);var Ic=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Ec(t,e,n,r,i,o){this.m=t,this.i=e,this.l=n,this.v=r||null,this.u=i||null,this.o=o,this.h=e+":"+n,this.A=new hc,this.g=new ac(this.h),this.f=null,this.b=[],this.a=this.c=null}function Tc(t){return new N("invalid-cordova-configuration",t)}function _c(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function Ac(t){return t.f||(t.f=t.la().then((function(){return new Ee((function(e){t.Ea((function n(r){return e(r),t.Ra(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),Nc(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=ao(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Fr(Fn(o=qn(i),"firebaseError")||null))?k(o):null)?new Bo(r.c,r.b,null,null,o,null,r.S()):new Bo(r.c,r.b,i,r.f,null,null,r.S())),i=o||n}_c(t,i)}))}var n=new Bo("unknown",null,null,null,new N("no-auth-event")),r=!1,i=Sn(500).then((function(){return Nc(t).then((function(){r||_c(t,n)}))})),o=a.handleOpenURL;a.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Dr("BuildInfo.packageName",a).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(t){console.error(t)}},Wo||(Wo=new Ko),function(t){var e=Wo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Dr("universalLinks.subscribe",a))&&t(null,e.b))}(e)}(t)}))}))),t.f}function Nc(t){var e=null;return function(t){return t.b.get(cc,t.a).then((function(t){return Go(t)}))}(t.g).then((function(n){return e=n,oc((n=t.g).b,cc,n.a)})).then((function(){return e}))}function kc(t){this.a=t,this.b=nc()}(t=Ec.prototype).la=function(){return this.Ia?this.Ia:this.Ia=(Ir(void 0)?wr().then((function(){return new Ee((function(t,e){var n=a.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Oe(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Dr("universalLinks.subscribe",a))throw Tc("cordova-universal-links-plugin-fix is not installed");if(void 0===Dr("BuildInfo.packageName",a))throw Tc("cordova-plugin-buildinfo is not installed");if("function"!=typeof Dr("cordova.plugins.browsertab.openUrl",a))throw Tc("cordova-plugin-browsertab is not installed");if("function"!=typeof Dr("cordova.InAppBrowser.open",a))throw Tc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new N("cordova-not-ready")}))},t.Nb=function(t,e){return e(new N("operation-not-supported-in-this-environment")),xe()},t.Lb=function(){return Oe(new N("operation-not-supported-in-this-environment"))},t.Zb=function(){return!1},t.Wb=function(){return!0},t.Sb=function(){return!0},t.Mb=function(t,e,n,r){if(this.c)return Oe(new N("redirect-operation-pending"));var i=this,o=a.document,s=null,u=null,c=null,h=null;return this.c=xe().then((function(){return zo(e),Ac(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new Bo(e,r,null,o,new N("no-auth-event"),null,i),u=Dr("BuildInfo.packageName",a);if("string"!=typeof u)throw new N("invalid-cordova-configuration");var c=Dr("BuildInfo.displayName",a),h={};if(Cr().toLowerCase().match(/iphone|ipad|ipod/))h.ibi=u;else{if(!Cr().toLowerCase().match(/android/))return Oe(new N("operation-not-supported-in-this-environment"));h.apn=u}c&&(h.appDisplayName=c),o=function(t){var e=new wc;gc(e,t),t=[];var n=8*e.g;56>e.c?gc(e,mc,56-e.c):gc(e,mc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(yc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return H(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}(o),h.sessionId=o;var l=bu(t.m,t.i,t.l,e,n,null,r,t.v,h,t.u,i,t.o);return t.la().then((function(){var e=t.h;return t.A.a.set(cc,s.w(),e)})).then((function(){var e=Dr("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof e)throw new N("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=Dr("cordova.plugins.browsertab.openUrl",a)))throw new N("invalid-cordova-configuration");n(l)}else{if("function"!=typeof(n=Dr("cordova.InAppBrowser.open",a)))throw new N("invalid-cordova-configuration");e=Cr(),t.a=n(l,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new Ee((function(t,e){u=function(){var e=Dr("cordova.plugins.browsertab.close",a);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){s||(s=Sn(2e3).then((function(){e(new N("redirect-cancelled-by-user"))})))},h=function(){Kr()&&c()},o.addEventListener("resume",c,!1),Cr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",h,!1)})).s((function(t){return Nc(i).then((function(){throw t}))}))})).na((function(){c&&o.removeEventListener("resume",c,!1),h&&o.removeEventListener("visibilitychange",h,!1),s&&s.cancel(),u&&i.Ra(u),i.c=null}))},t.Ea=function(t){this.b.push(t),Ac(this).s((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Bo("unknown",null,null,null,new N("no-auth-event")),t(e))}))},t.Ra=function(t){$(this.b,(function(e){return e==t}))};var Sc={name:"pendingRedirect",D:"session"};function xc(t){return oc(t.b,Sc,t.a)}function Oc(t,e,n,r){this.i={},this.u=0,this.O=t,this.m=e,this.v=n,this.G=r,this.h=[],this.f=!1,this.l=I(this.o,this),this.b=new Kc,this.A=new Jc,this.g=new kc(Bc(this.m,this.v)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.A,this.c.linkViaPopup=this.A,this.c.reauthViaPopup=this.A,this.a=Cc(this.O,this.m,this.v,S,this.G)}function Cc(t,e,n,r,i){var o=J.SDK_VERSION||null;return Ir()?new Ec(t,e,n,o,r,i):new vu(t,e,n,o,r,i)}function Dc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.la().s((function(n){throw t.a==e&&t.reset(),n}))}function Pc(t){t.a.Wb()&&Dc(t).s((function(e){var n=new Bo("unknown",null,null,null,new N("operation-not-supported-in-this-environment"));Vc(e)&&t.o(n)})),t.a.Sb()||Hc(t.b)}function Rc(t,e){X(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Sc,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?xc(t.g).then((function(){Dc(t).s((function(e){var n=new Bo("unknown",null,null,null,new N("operation-not-supported-in-this-environment"));Vc(e)&&t.o(n)}))})):Pc(t)})).s((function(){Pc(t)}))}function Lc(t,e){$(t.h,(function(t){return t==e}))}Oc.prototype.reset=function(){this.f=!1,this.a.Ra(this.l),this.a=Cc(this.O,this.m,this.v,null,this.G),this.i={}},Oc.prototype.o=function(t){if(!t)throw new N("invalid-auth-event");if(6e5<=T()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Eb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=T())),e=!0;break}}return Hc(this.b),e};var Mc=new Gr(2e3,1e4),jc=new Gr(3e4,6e4);function Uc(t,e,n,r,i,o,s){return t.a.Lb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,s)}function Vc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Fc(t,e,n,r,i){var o;return function(t){return t.b.set(Sc,"pending",t.a)}(t.g).then((function(){return t.a.Mb(e,n,r,i).s((function(e){if(Vc(e))throw new N("operation-not-supported-in-this-environment");return o=e,xc(t.g).then((function(){throw o}))})).then((function(){return t.a.Zb()?new Ee((function(){})):xc(t.g).then((function(){return t.qa()})).then((function(){})).s((function(){}))}))}))}function qc(t,e,n,r,i){return t.a.Nb(r,(function(t){e.ma(n,null,t,i)}),Mc.get())}Oc.prototype.qa=function(){return this.b.qa()};var zc={};function Bc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Gc(t,e,n,r){var i=Bc(e,n,r);return zc[i]||(zc[i]=new Oc(t,e,n,r)),zc[i]}function Kc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Hc(t){t.g||(t.g=!0,Yc(t,!1,null,null))}function Wc(t){t.g&&!t.i&&Yc(t,!1,null,null)}function Xc(t,e){if(t.b=function(){return xe(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Yc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Oe(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Xc(t,n):Xc(t,{user:null}),t.f=[],t.c=[]}function Jc(){}function $c(){this.hb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.hb},set:function(t){this.hb=t},enumerable:!1})}function Qc(t,e){this.a=e,Zr(this,"verificationId",t)}function Zc(t,e,n,r){return new Vo(t).eb(e,n).then((function(t){return new Qc(t,r)}))}function th(t){var e=Wi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new N("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");ti(this,{token:t,expirationTime:Wr(1e3*e.exp),authTime:Wr(1e3*e.auth_time),issuedAtTime:Wr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function eh(t,e,n){var r=e&&e[rh];if(!r)throw new N("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=mt(e),this.g=n,this.c=new uo(null,r),this.b=[];var i=this;G(e[nh]||[],(function(t){(t=ii(t))&&i.b.push(t)})),Zr(this,"auth",this.a),Zr(this,"session",this.c),Zr(this,"hints",this.b)}Kc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Kc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Yc(this,!0,null,t.a),xe()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,s=e.S(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then((function(e){Yc(t,a,e,null)})).s((function(e){Yc(t,a,null,e)}))}(this,t,e):Oe(new N("invalid-auth-event")):(Yc(this,!1,null,null),xe())}else Oe(new N("invalid-auth-event"))},Kc.prototype.qa=function(){var t=this;return new Ee((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new N("timeout");t.a&&t.a.cancel(),t.a=Sn(jc.get()).then((function(){t.b||(t.g=!0,Yc(t,!0,null,e))}))}(t))}))},Jc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.ma(t.c,null,t.a,t.b),xe()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.S(),t.i).then((function(t){e.ma(r,t,null,n)})).s((function(t){e.ma(r,null,t,n)}))}(t,e):Oe(new N("invalid-auth-event"))}else Oe(new N("invalid-auth-event"))},Qc.prototype.confirm=function(t){return t=Fo(this.verificationId,t),this.a(t)};var nh="mfaInfo",rh="mfaPendingCredential";function ih(t,e,n,r){N.call(this,"multi-factor-auth-required",r,e),this.b=new eh(t,e,n),Zr(this,"resolver",this.b)}function oh(t,e,n){if(t&&v(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new ih(e,t.serverResponse,n,t.message)}catch(t){}return null}function sh(){}function ah(t){Zr(this,"factorId",t.fa),this.a=t}function uh(t){if(ah.call(this,t),this.a.fa!=Vo.PROVIDER_ID)throw new N("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function ch(t,e){for(var n in Qe.call(this,t),e)this[n]=e[n]}function hh(t,e){this.a=t,this.b=[],this.c=I(this.xc,this),ln(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&G(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[ai]=t.uid),t.displayName&&(r[oi]=t.displayName),t.enrollmentTime&&(r[si]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ui]=t.phoneNumber);try{e=new ci(r)}catch(t){}t=e}else t=null;t&&n.push(t)})),lh(this,n)}function lh(t,e){t.b=e,Zr(t,"enrolledFactors",e)}function fh(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function ph(t,e){t.stop(),t.b=Sn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then((function(){return function(){var t=a.document,e=null;return Kr()||!t?xe():new Ee((function(n){e=function(){Kr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).s((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return t.h()})).then((function(){ph(t,!0)})).s((function(e){t.i(e)&&ph(t,!1)}))}function dh(t){this.c=t,this.b=this.a=null}function vh(t){return t.b&&1e3*t.b.c||0}function mh(t,e){var n=e.refreshToken;t.b=Hi(e[ta]||""),t.a=n}function yh(t,e){this.a=t||null,this.b=e||null,ti(this,{lastSignInTime:Wr(e||null),creationTime:Wr(t||null)})}function gh(t,e,n,r,i,o){ti(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function bh(t,e,n){this.G=[],this.l=t.apiKey,this.m=t.appName,this.o=t.authDomain||null;var r=J.SDK_VERSION?Or(J.SDK_VERSION):null;this.a=new Qs(this.l,D(S),r),t.emulatorConfig&&sa(this.a,t.emulatorConfig),this.b=new dh(this.a),kh(this,e[ta]),mh(this.b,e),Zr(this,"refreshToken",this.b.a),Oh(this,n||{}),Tn.call(this),this.P=!1,this.o&&Rr()&&(this.i=Gc(this.o,this.l,this.m)),this.R=[],this.f=null,this.u=function(t){return new fh((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=vh(t.b)-T()-3e5;return 0<e?e:0}))}(this),this.$=I(this.gb,this);var i=this;this.pa=null,this.Ba=function(t){i.wa(t.h)},this.ba=null,this.za=function(t){sa(i.a,t.c)},this.W=null,this.X=[],this.Aa=function(t){Eh(i,t.f)},this.aa=null,this.N=new hh(this,n),Zr(this,"multiFactor",this.N)}function wh(t,e){t.ba&&dn(t.ba,"languageCodeChanged",t.Ba),(t.ba=e)&&ln(e,"languageCodeChanged",t.Ba)}function Ih(t,e){t.W&&dn(t.W,"emulatorConfigChanged",t.za),(t.W=e)&&ln(e,"emulatorConfigChanged",t.za)}function Eh(t,e){t.X=e,ua(t.a,J.SDK_VERSION?Or(J.SDK_VERSION,t.X):null)}function Th(t,e){t.aa&&dn(t.aa,"frameworkChanged",t.Aa),(t.aa=e)&&ln(e,"frameworkChanged",t.Aa)}function _h(t){try{return J.app(t.m).auth()}catch(e){throw new N("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function Ah(t){t.A||t.u.b||(t.u.start(),dn(t,"tokenChanged",t.$),ln(t,"tokenChanged",t.$))}function Nh(t){dn(t,"tokenChanged",t.$),t.u.stop()}function kh(t,e){t.ya=e,Zr(t,"_lat",e)}function Sh(t){for(var e=[],n=0;n<t.R.length;n++)e.push(t.R[n](t));return De(e).then((function(){return t}))}function xh(t){t.i&&!t.P&&(t.P=!0,Rc(t.i,t))}function Oh(t,e){ti(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new yh(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Ch(){}function Dh(t){return xe().then((function(){if(t.A)throw new N("app-deleted")}))}function Ph(t){return H(t.providerData,(function(t){return t.providerId}))}function Rh(t,e){e&&(Lh(t,e.providerId),t.providerData.push(e))}function Lh(t,e){$(t.providerData,(function(t){return t.providerId==e}))}function Mh(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Zr(t,e,n)}function jh(t,e){t!=e&&(ti(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Zr(t,"metadata",function(t){return new yh(t.a,t.b)}(e.metadata)):Zr(t,"metadata",new yh),G(e.providerData,(function(e){Rh(t,e)})),function(t,e){t.b=e.b,t.a=e.a}(t.b,e.b),Zr(t,"refreshToken",t.b.a),lh(t.N,e.N.b))}function Uh(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return iu(t.a,La,{idToken:e}).then(I(t.Jc,t))}(t,e).then((function(){return n||Mh(t,"isAnonymous",!1),e}))}))}function Vh(t,e){e[ta]&&t.ya!=e[ta]&&(mh(t.b,e),t.dispatchEvent(new ch("tokenChanged")),kh(t,e[ta]),Mh(t,"refreshToken",t.b.a))}function Fh(t,e){return Uh(t).then((function(){if(X(Ph(t),e))return Sh(t).then((function(){throw new N("provider-already-linked")}))}))}function qh(t,e,n){return ei({user:t,credential:qo(e),additionalUserInfo:e=Qi(e),operationType:n})}function zh(t,e){return Vh(t,e),t.reload().then((function(){return t}))}function Bh(t,e,n,r,i){if(!Rr())return Oe(new N("operation-not-supported-in-this-environment"));if(t.f&&!i)return Oe(t.f);var o=$i(n.providerId),s=qr(t.uid+":::"),a=null;(!jr()||Er())&&t.o&&n.isOAuthProvider&&(a=bu(t.o,t.l,t.m,e,n,null,s,J.SDK_VERSION||null,null,null,t.tenantId));var u=yr(a,o&&o.ua,o&&o.ta);return r=r().then((function(){if(Kh(t),!i)return t.I().then((function(){}))})).then((function(){return Uc(t.i,u,e,n,s,!!a,t.tenantId)})).then((function(){return new Ee((function(n,r){t.ma(e,null,new N("cancelled-popup-request"),t.h||null),t.g=n,t.O=r,t.h=s,t.c=qc(t.i,t,e,u,s)}))})).then((function(t){return u&&mr(u),t?ei(t):null})).s((function(t){throw u&&mr(u),t})),Hh(t,r,i)}function Gh(t,e,n,r,i){if(!Rr())return Oe(new N("operation-not-supported-in-this-environment"));if(t.f&&!i)return Oe(t.f);var o=null,s=qr(t.uid+":::");return r=r().then((function(){if(Kh(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=s,Sh(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(Yh,t.w(),e.a)),e})).then((function(){return Fc(t.i,e,n,s,t.tenantId)})).s((function(e){if(o=e,t.ha)return Jh(t.ha);throw o})).then((function(){if(o)throw o})),Hh(t,r,i)}function Kh(t){if(!t.i||!t.P){if(t.i&&!t.P)throw new N("internal-error");throw new N("auth-domain-config-required")}}function Hh(t,e,n){var r=function(t,e,n){return t.f&&!n?(e.cancel(),Oe(t.f)):e.s((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.f||t.dispatchEvent(new ch("userInvalidated")),t.f=e),e}))}(t,e,n);return t.G.push(r),r.na((function(){Y(t.G,r)})),r.s((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=oh(e.w(),_h(t),I(t.ic,t))),n||e}))}function Wh(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[ta]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=new bh(e,n,t);return t.providerData&&G(t.providerData,(function(t){t&&Rh(r,ei(t))})),t.redirectEventId&&(r.ga=t.redirectEventId),r}function Xh(t){this.a=t,this.b=nc()}eh.prototype.Qc=function(t){var e=this;return t.rb(this.a.a,this.c).then((function(t){var n=mt(e.f);return delete n[nh],delete n[rh],gt(n,t),e.g(n)}))},_(ih,N),sh.prototype.rb=function(t,e,n){return e.type==co?function(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),gt(n,{phoneVerificationInfo:Uo(t.a)}),iu(e,Pa,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return gt(n={mfaPendingCredential:n},{phoneVerificationInfo:Uo(t.a)}),iu(e,Ra,n)}))}(this,t,e)},_(ah,sh),_(uh,ah),_(ch,Qe),(t=hh.prototype).xc=function(t){lh(this,function(t){var e=[];return G(t.mfaInfo||[],(function(t){(t=ii(t))&&e.push(t)})),e}(t.gd))},t.Qb=function(){return this.a.I().then((function(t){return new uo(t,null)}))},t.ec=function(t,e){var n=this,r=this.a.a;return this.Qb().then((function(n){return t.rb(r,n,e)})).then((function(t){return Vh(n.a,t),n.a.reload()}))},t.ad=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return iu(r,ru,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=K(e.b,(function(t){return t.uid!=n}));return lh(e,r),Vh(e.a,t),e.a.reload().s((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:H(this.b,(function(t){return t.w()}))}}},fh.prototype.start=function(){this.a=this.c,ph(this,!0)},fh.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},dh.prototype.w=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:vh(this)}},dh.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Oe(new N("user-token-expired")):t||!this.b||T()>vh(this)-3e4?this.a?function(t,e){return function(t,e){return new Ee((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?ca(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(su(t)):t.access_token&&t.refresh_token?n(t):r(new N("internal-error")):r(new N("network-request-failed"))}),"POST",Zn(e).toString(),t.g,t.v.get()):r(new N("internal-error"))}))}(t.c,e).then((function(e){return t.b=Hi(e.access_token),t.a=e.refresh_token,{accessToken:t.b.toString(),refreshToken:t.a}})).s((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}(this,{grant_type:"refresh_token",refresh_token:this.a}):xe(null):xe({accessToken:this.b.toString(),refreshToken:this.a})},yh.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},_(bh,Tn),bh.prototype.wa=function(t){this.pa=t,oa(this.a,t)},bh.prototype.ka=function(){return this.pa},bh.prototype.Ga=function(){return Z(this.X)},bh.prototype.gb=function(){this.u.b&&(this.u.stop(),this.u.start())},Zr(bh.prototype,"providerId","firebase"),(t=bh.prototype).reload=function(){var t=this;return Hh(this,Dh(this).then((function(){return Uh(t).then((function(){return Sh(t)})).then(Ch)})))},t.nc=function(t){return this.I(t).then((function(t){return new th(t)}))},t.I=function(t){var e=this;return Hh(this,Dh(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new N("internal-error");return t.accessToken!=e.ya&&(kh(e,t.accessToken),e.dispatchEvent(new ch("tokenChanged"))),Mh(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Jc=function(t){if(!(t=t.users)||!t.length)throw new N("internal-error");Oh(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?H(t,(function(t){return new gh(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Rh(this,e[n]);Mh(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new ch("userReloaded",{gd:t}))},t.Kc=function(t){return $r("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.sb(t)},t.sb=function(t){var e=this,n=null;return Hh(this,t.c(this.a,this.uid).then((function(t){return Vh(e,t),n=qh(e,t,"reauthenticate"),e.f=null,e.reload()})).then((function(){return n})),!0)},t.Bc=function(t){return $r("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.pb(t)},t.pb=function(t){var e=this,n=null;return Hh(this,Fh(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=qh(e,t,"link"),zh(e,t)})).then((function(){return n})))},t.Cc=function(t,e){var n=this;return Hh(this,Fh(this,"phone").then((function(){return Zc(_h(n),t,e,I(n.pb,n))})))},t.Lc=function(t,e){var n=this;return Hh(this,xe().then((function(){return Zc(_h(n),t,e,I(n.sb,n))})),!0)},t.Ab=function(t){var e=this;return Hh(this,this.I().then((function(n){return e.a.Ab(n,t)})).then((function(t){return Vh(e,t),e.reload()})))},t.dd=function(t){var e=this;return Hh(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Vh(e,t),e.reload()})))},t.Bb=function(t){var e=this;return Hh(this,this.I().then((function(n){return e.a.Bb(n,t)})).then((function(t){return Vh(e,t),e.reload()})))},t.Cb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Dh(this);var e=this;return Hh(this,this.I().then((function(n){return e.a.Cb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Vh(e,t),Mh(e,"displayName",t.displayName||null),Mh(e,"photoURL",t.photoUrl||null),G(e.providerData,(function(t){"password"===t.providerId&&(Zr(t,"displayName",e.displayName),Zr(t,"photoURL",e.photoURL))})),Sh(e)})).then(Ch))},t.bd=function(t){var e=this;return Hh(this,Uh(this).then((function(n){return X(Ph(e),t)?function(t,e,n){return iu(t,Oa,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return G(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),G(Ph(e),(function(t){n[t]||Lh(e,t)})),n[Vo.PROVIDER_ID]||Zr(e,"phoneNumber",null),Sh(e)})):Sh(e).then((function(){throw new N("no-such-provider")}))})))},t.delete=function(){var t=this;return Hh(this,this.I().then((function(e){return iu(t.a,xa,{idToken:e})})).then((function(){t.dispatchEvent(new ch("userDeleted"))}))).then((function(){for(var e=0;e<t.G.length;e++)t.G[e].cancel("app-deleted");wh(t,null),Ih(t,null),Th(t,null),t.G=[],t.A=!0,Nh(t),Zr(t,"refreshToken",null),t.i&&Lc(t.i,t)}))},t.Eb=function(t,e){return!!("linkViaPopup"==t&&(this.h||null)==e&&this.g||"reauthViaPopup"==t&&(this.h||null)==e&&this.g||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.ma=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.h||null)||(n&&this.O?this.O(n):e&&!n&&this.g&&this.g(e),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.h||null)?I(this.Jb,this):"reauthViaPopup"==t&&e==(this.h||null)?I(this.Kb,this):"linkViaRedirect"==t&&(this.ga||null)==e?I(this.Jb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?I(this.Kb,this):null},t.Dc=function(t){var e=this;return Bh(this,"linkViaPopup",t,(function(){return Fh(e,t.providerId).then((function(){return Sh(e)}))}),!1)},t.Mc=function(t){return Bh(this,"reauthViaPopup",t,(function(){return xe()}),!0)},t.Ec=function(t){var e=this;return Gh(this,"linkViaRedirect",t,(function(){return Fh(e,t.providerId)}),!1)},t.Nc=function(t){return Gh(this,"reauthViaRedirect",t,(function(){return xe()}),!0)},t.Jb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Hh(this,this.I().then((function(n){return Ea(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=qh(i,t,"link"),zh(i,t)})).then((function(){return o})))},t.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Hh(this,xe().then((function(){return fo(Ta(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=qh(i,t,"reauthenticate"),Vh(i,t),i.f=null,i.reload()})).then((function(){return o})),!0)},t.tb=function(t){var e=this,n=null;return Hh(this,this.I().then((function(e){return n=e,void 0===t||vt(t)?{}:Bi(new Pi(t))})).then((function(t){return e.a.tb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Db=function(t,e){var n=this,r=null;return Hh(this,this.I().then((function(t){return r=t,void 0===e||vt(e)?{}:Bi(new Pi(e))})).then((function(e){return n.a.Db(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.ic=function(t){var e=null,n=this;return Hh(this,t=fo(xe(t),n.uid).then((function(t){return e=qh(n,t,"reauthenticate"),Vh(n,t),n.f=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.o,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&gt(t,this.metadata.w()),G(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),gt(t,this.N.w()),t};var Yh={name:"redirectUser",D:"session"};function Jh(t){return oc(t.b,Yh,t.a)}function $h(t){this.a=t,this.b=nc(),this.c=null,this.f=function(t){var e=tl("local"),n=tl("session"),r=tl("none");return function(t,e,n){var r=ic(e,n),i=rc(t,e.D);return t.get(e,n).then((function(o){var s=null;try{s=Fr(a.localStorage.getItem(r))}catch(t){}if(s&&!o)return a.localStorage.removeItem(r),t.set(e,s,n);s&&o&&"localStorage"!=i.type&&a.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(Zh,t.a).then((function(t){return t?tl(t):e}))}))}))})).then((function(e){return t.c=e,Qh(t,e.D)})).s((function(){t.c||(t.c=e)}))}(this),this.b.addListener(tl("local"),this.a,I(this.g,this))}function Qh(t,e){var n,r=[];for(n in tc)tc[n]!==e&&r.push(oc(t.b,tl(tc[n]),t.a));return r.push(oc(t.b,Zh,t.a)),function(t){return new Ee((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},a=0;a<t.length;a++)Ce(t[a],E(o,a),s);else e(i)}))}(r)}$h.prototype.g=function(){var t=this,e=tl("local");il(this,(function(){return xe().then((function(){return t.c&&"local"!=t.c.D?t.b.get(e,t.a):null})).then((function(n){if(n)return Qh(t,"local").then((function(){t.c=e}))}))}))};var Zh={name:"persistence",D:"session"};function tl(t){return{name:"authUser",D:t}}function el(t,e){return il(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function nl(t){return il(t,(function(){return oc(t.b,t.c,t.a)}))}function rl(t,e,n){return il(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Wh(t||{})}))}))}function il(t,e){return t.f=t.f.then(e,e),t.f}function ol(t){if(this.m=!1,Zr(this,"settings",new $c),Zr(this,"app",t),!pl(this).options||!pl(this).options.apiKey)throw new N("invalid-api-key");t=J.SDK_VERSION?Or(J.SDK_VERSION):null,this.a=new Qs(pl(this).options&&pl(this).options.apiKey,D(S),t),this.R=[],this.u=[],this.P=[],this.ac=J.INTERNAL.createSubscribe(I(this.yc,this)),this.X=void 0,this.bc=J.INTERNAL.createSubscribe(I(this.zc,this)),ll(this,null),this.l=new $h(pl(this).options.apiKey+":"+pl(this).name),this.G=new Xh(pl(this).options.apiKey+":"+pl(this).name),this.$=yl(this,function(t){var e=pl(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Yh,t.a).then((function(t){return t&&e&&(t.authDomain=e),Wh(t||{})}))}(t.G,pl(t).options.authDomain).then((function(e){return(t.o=e)&&(e.ha=t.G),Jh(t.G)}));return yl(t,e)}(t).then((function(){return rl(t.l,e,t.f)})).then((function(e){return e?(e.ha=t.G,t.o&&(t.o.ga||null)==(e.ga||null)?e:e.reload().then((function(){return el(t.l,e).then((function(){return e}))})).s((function(n){return"auth/network-request-failed"==n.code?e:nl(t.l)}))):null})).then((function(e){ll(t,e||null)}));return yl(t,n)}(this)),this.i=yl(this,function(t){return t.$.then((function(){return hl(t)})).s((function(){})).then((function(){if(!t.m)return t.pa()})).s((function(){})).then((function(){if(!t.m){t.ba=!0;var e=t.l;e.b.addListener(tl("local"),e.a,t.pa)}}))}(this)),this.ba=!1,this.pa=I(this.Yc,this),this.Ba=I(this.da,this),this.ya=I(this.kc,this),this.za=I(this.vc,this),this.Aa=I(this.wc,this),this.b=null,function(t){var e=pl(t).options.authDomain,n=pl(t).options.apiKey;e&&Rr()&&(t.gb=t.$.then((function(){if(!t.m){if(t.b=Gc(e,n,pl(t).name,t.f),Rc(t.b,t),dl(t)&&xh(dl(t)),t.o){xh(t.o);var r=t.o;r.wa(t.ka()),wh(r,t),Eh(r=t.o,t.N),Th(r,t),sa((r=t.o).a,t.f),Ih(r,t),t.o=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=I(this.delete,this),this.INTERNAL.logFramework=I(this.Fc,this),this.A=0,Tn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ka()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.S()},set:function(t){this.xb(t)},enumerable:!1}),t.W=null}(this),this.N=[],this.f=null}function sl(t){Qe.call(this,"languageCodeChanged"),this.h=t}function al(t){Qe.call(this,"emulatorConfigChanged"),this.c=t}function ul(t){Qe.call(this,"frameworkChanged"),this.f=t}function cl(t){return t.gb||Oe(new N("auth-domain-config-required"))}function hl(t){if(!Rr())return Oe(new N("operation-not-supported-in-this-environment"));var e=cl(t).then((function(){return t.b.qa()})).then((function(t){return t?ei(t):null}));return yl(t,e)}function ll(t,e){dl(t)&&(function(t,e){$(t.R,(function(t){return t==e}))}(dl(t),t.Ba),dn(dl(t),"tokenChanged",t.ya),dn(dl(t),"userDeleted",t.za),dn(dl(t),"userInvalidated",t.Aa),Nh(dl(t))),e&&(e.R.push(t.Ba),ln(e,"tokenChanged",t.ya),ln(e,"userDeleted",t.za),ln(e,"userInvalidated",t.Aa),0<t.A&&Ah(e)),Zr(t,"currentUser",e),e&&(e.wa(t.ka()),wh(e,t),Eh(e,t.N),Th(e,t),sa(e.a,t.f),Ih(e,t))}function fl(t,e){var n=null,r=null;return yl(t,e.then((function(e){return n=qo(e),r=Qi(e),function(t,e){var n={};return n.apiKey=pl(t).options.apiKey,n.authDomain=pl(t).options.authDomain,n.appName=pl(t).name,t.f&&(n.emulatorConfig=t.f),t.$.then((function(){return function(t,e,n,r){var i=new bh(t,e);return n&&(i.ha=n),r&&Eh(i,r),i.reload().then((function(){return i}))}(n,e,t.G,t.Ga())})).then((function(e){return dl(t)&&e.uid==dl(t).uid?(jh(dl(t),e),t.da(e)):(ll(t,e),xh(e),t.da(e))})).then((function(){ml(t)}))}(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=oh(e.w(),t,I(t.jc,t))),n||e})).then((function(){return ei({user:dl(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function pl(t){return t.app}function dl(t){return t.currentUser}function vl(t){return dl(t)&&dl(t)._lat||null}function ml(t){if(t.ba){for(var e=0;e<t.u.length;e++)t.u[e]&&t.u[e](vl(t));if(t.X!==t.getUid()&&t.P.length)for(t.X=t.getUid(),e=0;e<t.P.length;e++)t.P[e]&&t.P[e](vl(t))}}function yl(t,e){return t.R.push(e),e.na((function(){Y(t.R,e)})),e}function gl(){}function bl(){this.a={},this.b=1e12}$h.prototype.wb=function(t){var e=null,n=this;return function(t){var e=new N("invalid-persistence-type"),n=new N("unsupported-persistence-type");t:{for(r in tc)if(tc[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(_r()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Pu()&&"none"!==t)throw n;break;default:if(!Pr()&&"none"!==t)throw n}}(t),il(this,(function(){return t!=n.c.D?n.b.get(n.c,n.a).then((function(r){return e=r,Qh(n,t)})).then((function(){if(n.c=tl(t),e)return n.b.set(n.c,e,n.a)})):xe()}))},_(ol,Tn),_(sl,Qe),_(al,Qe),_(ul,Qe),(t=ol.prototype).wb=function(t){return yl(this,t=this.l.wb(t))},t.wa=function(t){this.aa===t||this.m||(this.aa=t,oa(this.a,this.aa),this.dispatchEvent(new sl(this.ka())))},t.ka=function(){return this.aa},t.ed=function(){var t=a.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.fd=function(t){if(!this.f){if(!/^https?:\/\//.test(t))throw new N("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");Hr("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),a.document&&wr().then((function(){var t=a.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),a.document.body.appendChild(t)})),this.f={url:t},this.settings.hb=!0,sa(this.a,this.f),this.dispatchEvent(new al(this.f))}},t.Fc=function(t){this.N.push(t),ua(this.a,J.SDK_VERSION?Or(J.SDK_VERSION,this.N):null),this.dispatchEvent(new ul(this.N))},t.Ga=function(){return Z(this.N)},t.xb=function(t){this.W===t||this.m||(this.W=t,this.a.b=this.W)},t.S=function(){return this.W},t.toJSON=function(){return{apiKey:pl(this).options.apiKey,authDomain:pl(this).options.authDomain,appName:pl(this).name,currentUser:dl(this)&&dl(this).w()}},t.Eb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.h==e&&!!this.g;default:return!1}},t.ma=function(t,e,n,r){"signInViaPopup"==t&&this.h==r&&(n&&this.O?this.O(n):e&&!n&&this.g&&this.g(e),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.h==e&&this.g?I(this.hc,this):null},t.hc=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return fl(i,Ia(i.a,o))}))},t.Wc=function(t){if(!Rr())return Oe(new N("operation-not-supported-in-this-environment"));var e=this,n=$i(t.providerId),r=qr(),i=null;(!jr()||Er())&&pl(this).options.authDomain&&t.isOAuthProvider&&(i=bu(pl(this).options.authDomain,pl(this).options.apiKey,pl(this).name,"signInViaPopup",t,null,r,J.SDK_VERSION||null,null,null,this.S(),this.f));var o=yr(i,n&&n.ua,n&&n.ta);return yl(this,n=cl(this).then((function(n){return Uc(n,o,"signInViaPopup",t,r,!!i,e.S())})).then((function(){return new Ee((function(t,n){e.ma("signInViaPopup",null,new N("cancelled-popup-request"),e.h),e.g=t,e.O=n,e.h=r,e.c=qc(e.b,e,"signInViaPopup",o,r)}))})).then((function(t){return o&&mr(o),t?ei(t):null})).s((function(t){throw o&&mr(o),t})))},t.Xc=function(t){if(!Rr())return Oe(new N("operation-not-supported-in-this-environment"));var e=this;return yl(this,cl(this).then((function(){return function(t){return il(t,(function(){return t.b.set(Zh,t.c.D,t.a)}))}(e.l)})).then((function(){return Fc(e.b,"signInViaRedirect",t,void 0,e.S())})))},t.qa=function(){var t=this;return hl(this).then((function(e){return t.b&&Wc(t.b.b),e})).s((function(e){throw t.b&&Wc(t.b.b),e}))},t.cd=function(t){if(!t)return Oe(new N("null-user"));if(this.W!=t.tenantId)return Oe(new N("tenant-id-mismatch"));var e=this,n={};n.apiKey=pl(this).options.apiKey,n.authDomain=pl(this).options.authDomain,n.appName=pl(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[ta]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new bh(e||{apiKey:t.l,authDomain:t.o,appName:t.m},o),n&&(e.ha=n),r&&Eh(e,r),jh(e,t),e}(t,n,e.G,e.Ga());return yl(this,this.i.then((function(){if(pl(e).options.apiKey!=t.l)return r.reload()})).then((function(){return dl(e)&&t.uid==dl(e).uid?(jh(dl(e),t),e.da(t)):(ll(e,r),xh(r),e.da(r))})).then((function(){ml(e)})))},t.zb=function(){var t=this;return yl(this,this.i.then((function(){return t.b&&Wc(t.b.b),dl(t)?(ll(t,null),nl(t.l).then((function(){ml(t)}))):xe()})))},t.Yc=function(){var t=this;return rl(this.l,pl(this).options.authDomain).then((function(e){if(!t.m){var n;if(n=dl(t)&&e){n=dl(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return jh(dl(t),e),dl(t).I();(dl(t)||e)&&(ll(t,e),e&&(xh(e),e.ha=t.G),t.b&&Rc(t.b,t),ml(t))}}))},t.da=function(t){return el(this.l,t)},t.kc=function(){ml(this),this.da(dl(this))},t.vc=function(){this.zb()},t.wc=function(){this.zb()},t.jc=function(t){var e=this;return this.i.then((function(){return fl(e,xe(t))}))},t.yc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(dl(e))}))},t.zc=function(t){var e=this;!function(t,e){t.P.push(e),yl(t,t.i.then((function(){!t.m&&X(t.P,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(vl(t)))})))}(this,(function(){t.next(dl(e))}))},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof t?t(dl(r)):"function"==typeof t.next&&t.next(dl(r))})),this.ac(t,e,n)},t.Gc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"==typeof t?t(dl(r)):"function"==typeof t.next&&t.next(dl(r))})),this.bc(t,e,n)},t.mc=function(t){var e=this;return yl(this,this.i.then((function(){return dl(e)?dl(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Sc=function(t){var e=this;return this.i.then((function(){return fl(e,iu(e.a,Qa,{token:t}))})).then((function(t){var n=t.user;return Mh(n,"isAnonymous",!1),e.da(n),t}))},t.Tc=function(t,e){var n=this;return this.i.then((function(){return fl(n,iu(n.a,Za,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.i.then((function(){return fl(n,iu(n.a,ka,{email:t,password:e}))}))},t.Za=function(t){var e=this;return this.i.then((function(){return fl(e,t.ja(e.a))}))},t.Rc=function(t){return $r("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Za(t)},t.yb=function(){var t=this;return this.i.then((function(){var e=dl(t);if(e&&e.isAnonymous){var n=ei({providerId:null,isNewUser:!1});return ei({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return fl(t,t.a.yb()).then((function(e){var n=e.user;return Mh(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return dl(this)&&dl(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.A++,0<this.A&&dl(this)&&Ah(dl(this))},t.Oc=function(t){var e=this;G(this.u,(function(n){n==t&&e.A--})),0>this.A&&(this.A=0),0==this.A&&dl(this)&&Nh(dl(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.u.push(t),yl(this,this.i.then((function(){e.m||X(e.u,t)&&t(vl(e))})))},t.removeAuthTokenListener=function(t){$(this.u,(function(e){return e==t}))},t.delete=function(){this.m=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.l&&(t=this.l).b.removeListener(tl("local"),t.a,this.pa),this.b&&(Lc(this.b,this),Wc(this.b.b)),Promise.resolve()},t.gc=function(t){return yl(this,function(t,e){return iu(t,Sa,{identifier:e,continueUri:Lr()?fr():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},t.Ac=function(t){return!!Lo(t)},t.vb=function(t,e){var n=this;return yl(this,xe().then((function(){var t=new Pi(e);if(!t.c)throw new N("argument-error",Mi+" must be true when sending sign in link to email");return Bi(t)})).then((function(e){return n.a.vb(t,e)})).then((function(){})))},t.hd=function(t){return this.Qa(t).then((function(t){return t.data.email}))},t.mb=function(t,e){return yl(this,this.a.mb(t,e).then((function(){})))},t.Qa=function(t){return yl(this,this.a.Qa(t).then((function(t){return new hi(t)})))},t.ib=function(t){return yl(this,this.a.ib(t).then((function(){})))},t.ub=function(t,e){var n=this;return yl(this,xe().then((function(){return void 0===e||vt(e)?{}:Bi(new Pi(e))})).then((function(e){return n.a.ub(t,e)})).then((function(){})))},t.Vc=function(t,e){return yl(this,Zc(this,t,e,I(this.Za,this)))},t.Uc=function(t,e){var n=this;return yl(this,xe().then((function(){var r=e||fr(),i=Ro(t,r);if(!(r=Lo(r)))throw new N("argument-error","Invalid email link!");if(r.tenantId!==n.S())throw new N("tenant-id-mismatch");return n.Za(i)})))},gl.prototype.render=function(){},gl.prototype.reset=function(){},gl.prototype.getResponse=function(){},gl.prototype.execute=function(){};var wl=null;function Il(t,e){return(e=El(e))&&t.a[e]||null}function El(t){return(t=void 0===t?1e12:t)?t.toString():null}function Tl(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=he(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():ln(this.f,"click",this.i)}function _l(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Al(){}function Nl(){}bl.prototype.render=function(t,e){return this.a[this.b.toString()]=new Tl(t,e),this.b++},bl.prototype.reset=function(t){var e=Il(this,t);t=El(t),e&&t&&(e.delete(),delete this.a[t])},bl.prototype.getResponse=function(t){return(t=Il(this,t))?t.getResponse():null},bl.prototype.execute=function(t){(t=Il(this,t))&&t.execute()},Tl.prototype.getResponse=function(){return _l(this),this.b},Tl.prototype.execute=function(){_l(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(t){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(t){}t.h&&t.execute()}),6e4)}),500))},Tl.prototype.delete=function(){_l(this),this.g=!0,clearTimeout(this.a),this.a=null,dn(this.f,"click",this.i)},Zr(Al,"FACTOR_ID","phone"),Nl.prototype.g=function(){return wl||(wl=new bl),xe(wl)},Nl.prototype.c=function(){};var kl=null;function Sl(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var xl=new wt(_t,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Ol=new Gr(3e4,6e4);Sl.prototype.g=function(t){var e=this;return new Ee((function(n,r){var i=setTimeout((function(){r(new N("network-request-failed"))}),Ol.get());!a.grecaptcha||t!==e.f&&!e.b?(a[e.a]=function(){if(a.grecaptcha){e.f=t;var o=a.grecaptcha.render;a.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(a.grecaptcha)}else clearTimeout(i),r(new N("internal-error"));delete a[e.a]},xe(Ks(St(xl,{onload:e.a,hl:t||""}))).s((function(){clearTimeout(i),r(new N("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(a.grecaptcha))}))},Sl.prototype.c=function(){this.b--};var Cl=null;function Dl(t,e,n,r,i,o,s){if(Zr(this,"type","recaptcha"),this.c=this.f=null,this.A=!1,this.m=e,this.g=null,s?(kl||(kl=new Nl),s=kl):(Cl||(Cl=new Sl),s=Cl),this.v=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Ll])throw new N("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Ml],!a.document)throw new N("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!he(e)||!this.i&&he(e).hasChildNodes())throw new N("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.o=new Qs(t,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Pl];this.a[Pl]=function(t){if(jl(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Dr(c,a);"function"==typeof e&&e(t)}};var h=this.a[Rl];this.a[Rl]=function(){if(jl(u,null),"function"==typeof h)h();else if("string"==typeof h){var t=Dr(h,a);"function"==typeof t&&t()}}}var Pl="callback",Rl="expired-callback",Ll="sitekey",Ml="size";function jl(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(t){}}function Ul(t,e){return t.h.push(e),e.na((function(){Y(t.h,e)})),e}function Vl(t){if(t.A)throw new N("internal-error","RecaptchaVerifier instance has been destroyed.")}function Fl(t,e,n){var r=!1;try{this.b=n||J.app()}catch(t){throw new N("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new N("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(t){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}o=J.SDK_VERSION?Or(J.SDK_VERSION,o):null,Dl.call(this,n,t,e,(function(){try{var t=i.b.auth().ka()}catch(e){t=null}return t}),o,D(S),r)}function ql(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new N("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].K(n[i])&&!o){if(e=e[i],0>i||i>=zl.length)throw new N("internal-error","Argument validator received an unsupported number of arguments.");n=zl[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.J+".";break t}r=null}}if(r)throw new N("argument-error",t+" failed: "+r)}(t=Dl.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Ul(this,xe().then((function(){if(Lr()&&!Tr())return wr();throw new N("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.v.g(t.u())})).then((function(e){return t.g=e,iu(t.o,qa,{})})).then((function(e){t.a[Ll]=e.recaptchaSiteKey})).s((function(e){throw t.f=null,e})))},t.render=function(){Vl(this);var t=this;return Ul(this,this.Ia().then((function(){if(null===t.c){var e=t.m;if(!t.i){var n=he(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!ce&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',Kt(s.name),'"'),s.type){o.push(' type="',Kt(s.type),'"');var a={};gt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=me(i,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):le(o,s)),2<r.length&&ve(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){Vl(this);var t=this;return Ul(this,this.render().then((function(e){return new Ee((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){$(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){Vl(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Vl(this),this.A=!0,this.v.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=he(this.m);for(var e;e=t.firstChild;)t.removeChild(e)}},_(Fl,Dl);var zl="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Bl(t,e){return{name:t||"",J:"a valid string",optional:!!e,K:function(t){return"string"==typeof t}}}function Gl(t,e){return{name:t||"",J:"a boolean",optional:!!e,K:function(t){return"boolean"==typeof t}}}function Kl(t,e){return{name:t||"",J:"a valid object",optional:!!e,K:v}}function Hl(t,e){return{name:t||"",J:"a function",optional:!!e,K:function(t){return"function"==typeof t}}}function Wl(t,e){return{name:t||"",J:"null",optional:!!e,K:function(t){return null===t}}}function Xl(t){return{name:t?t+"Credential":"credential",J:t?"a valid "+t+" credential":"a valid credential",optional:!1,K:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ja||!n)}}}function Yl(t,e){return v(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Jl(t){return v(t)&&"string"==typeof t.uid}function $l(t,e,n,r){return{name:n||"",J:t.J+" or "+e.J,optional:!!r,K:function(n){return t.K(n)||e.K(n)}}}function Ql(t,e){for(var n in e){var r=e[n].name;t[r]=ef(r,t[n],e[n].j)}}function Zl(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:E((function(t){return this[t]}),n),set:E((function(t,e,n,r){ql(t,[n],[r],!0),this[e]=r}),r,n,e[n].jb),enumerable:!0})}}function tf(t,e,n,r){t[e]=ef(e,n,r)}function ef(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return ql(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Ql(ol.prototype,{ib:{name:"applyActionCode",j:[Bl("code")]},Qa:{name:"checkActionCode",j:[Bl("code")]},mb:{name:"confirmPasswordReset",j:[Bl("code"),Bl("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Bl("email"),Bl("password")]},gc:{name:"fetchSignInMethodsForEmail",j:[Bl("email")]},qa:{name:"getRedirectResult",j:[]},Ac:{name:"isSignInWithEmailLink",j:[Bl("emailLink")]},Gc:{name:"onAuthStateChanged",j:[$l(Kl(),Hl(),"nextOrObserver"),Hl("opt_error",!0),Hl("opt_completed",!0)]},Hc:{name:"onIdTokenChanged",j:[$l(Kl(),Hl(),"nextOrObserver"),Hl("opt_error",!0),Hl("opt_completed",!0)]},ub:{name:"sendPasswordResetEmail",j:[Bl("email"),$l(Kl("opt_actionCodeSettings",!0),Wl(null,!0),"opt_actionCodeSettings",!0)]},vb:{name:"sendSignInLinkToEmail",j:[Bl("email"),Kl("actionCodeSettings")]},wb:{name:"setPersistence",j:[Bl("persistence")]},Rc:{name:"signInAndRetrieveDataWithCredential",j:[Xl()]},yb:{name:"signInAnonymously",j:[]},Za:{name:"signInWithCredential",j:[Xl()]},Sc:{name:"signInWithCustomToken",j:[Bl("token")]},Tc:{name:"signInWithEmailAndPassword",j:[Bl("email"),Bl("password")]},Uc:{name:"signInWithEmailLink",j:[Bl("email"),Bl("emailLink",!0)]},Vc:{name:"signInWithPhoneNumber",j:[Bl("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Wc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Xc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},cd:{name:"updateCurrentUser",j:[$l({name:"user",J:"an instance of Firebase User",optional:!1,K:function(t){return!!(t&&t instanceof bh)}},Wl(),"user")]},zb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Bl(null,!0)]},ed:{name:"useDeviceLanguage",j:[]},fd:{name:"useEmulator",j:[Bl("url")]},hd:{name:"verifyPasswordResetCode",j:[Bl("code")]}}),Zl(ol.prototype,{lc:{name:"languageCode",jb:$l(Bl(),Wl(),"languageCode")},ti:{name:"tenantId",jb:$l(Bl(),Wl(),"tenantId")}}),ol.Persistence=tc,ol.Persistence.LOCAL="local",ol.Persistence.SESSION="session",ol.Persistence.NONE="none",Ql(bh.prototype,{delete:{name:"delete",j:[]},nc:{name:"getIdTokenResult",j:[Gl("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Gl("opt_forceRefresh",!0)]},Bc:{name:"linkAndRetrieveDataWithCredential",j:[Xl()]},pb:{name:"linkWithCredential",j:[Xl()]},Cc:{name:"linkWithPhoneNumber",j:[Bl("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Dc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Ec:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Kc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Xl()]},sb:{name:"reauthenticateWithCredential",j:[Xl()]},Lc:{name:"reauthenticateWithPhoneNumber",j:[Bl("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Mc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Nc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},tb:{name:"sendEmailVerification",j:[$l(Kl("opt_actionCodeSettings",!0),Wl(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Bl(null,!0)]},bd:{name:"unlink",j:[Bl("provider")]},Ab:{name:"updateEmail",j:[Bl("email")]},Bb:{name:"updatePassword",j:[Bl("password")]},dd:{name:"updatePhoneNumber",j:[Xl("phone")]},Cb:{name:"updateProfile",j:[Kl("profile")]},Db:{name:"verifyBeforeUpdateEmail",j:[Bl("email"),$l(Kl("opt_actionCodeSettings",!0),Wl(null,!0),"opt_actionCodeSettings",!0)]}}),Ql(bl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Ql(gl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Ql(Ee.prototype,{na:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),Zl($c.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",jb:Gl("appVerificationDisabledForTesting")}}),Ql(Qc.prototype,{confirm:{name:"confirm",j:[Bl("verificationCode")]}}),tf(lo,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[bo,Do,jo,mo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[$l(Bl(),Kl(),"json")]),tf(Po,"credential",(function(t,e){return new Co(t,e)}),[Bl("email"),Bl("password")]),Ql(Co.prototype,{w:{name:"toJSON",j:[Bl(null,!0)]}}),Ql(To.prototype,{Ca:{name:"addScope",j:[Bl("scope")]},Ka:{name:"setCustomParameters",j:[Kl("customOAuthParameters")]}}),tf(To,"credential",_o,[$l(Bl(),Kl(),"token")]),tf(Po,"credentialWithLink",Ro,[Bl("email"),Bl("emailLink")]),Ql(Ao.prototype,{Ca:{name:"addScope",j:[Bl("scope")]},Ka:{name:"setCustomParameters",j:[Kl("customOAuthParameters")]}}),tf(Ao,"credential",No,[$l(Bl(),Kl(),"token")]),Ql(ko.prototype,{Ca:{name:"addScope",j:[Bl("scope")]},Ka:{name:"setCustomParameters",j:[Kl("customOAuthParameters")]}}),tf(ko,"credential",So,[$l(Bl(),$l(Kl(),Wl()),"idToken"),$l(Bl(),Wl(),"accessToken",!0)]),Ql(xo.prototype,{Ka:{name:"setCustomParameters",j:[Kl("customOAuthParameters")]}}),tf(xo,"credential",Oo,[$l(Bl(),Kl(),"token"),Bl("secret",!0)]),Ql(Eo.prototype,{Ca:{name:"addScope",j:[Bl("scope")]},credential:{name:"credential",j:[$l(Bl(),$l(Kl(),Wl()),"optionsOrIdToken"),$l(Bl(),Wl(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Kl("customOAuthParameters")]}}),Ql(yo.prototype,{w:{name:"toJSON",j:[Bl(null,!0)]}}),Ql(po.prototype,{w:{name:"toJSON",j:[Bl(null,!0)]}}),tf(Vo,"credential",Fo,[Bl("verificationId"),Bl("verificationCode")]),Ql(Vo.prototype,{eb:{name:"verifyPhoneNumber",j:[$l(Bl(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?Yl(t.session,co)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Yl(t.session,ho)&&Jl(t.multiFactorHint):t.session&&t.multiFactorUid?Yl(t.session,ho)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),Ql(Mo.prototype,{w:{name:"toJSON",j:[Bl(null,!0)]}}),Ql(N.prototype,{toJSON:{name:"toJSON",j:[Bl(null,!0)]}}),Ql(Yo.prototype,{toJSON:{name:"toJSON",j:[Bl(null,!0)]}}),Ql(Xo.prototype,{toJSON:{name:"toJSON",j:[Bl(null,!0)]}}),Ql(ih.prototype,{toJSON:{name:"toJSON",j:[Bl(null,!0)]}}),Ql(eh.prototype,{Qc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.rb}}]}}),Ql(hh.prototype,{Qb:{name:"getSession",j:[]},ec:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.rb}},Bl("displayName",!0)]},ad:{name:"unenroll",j:[$l({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:Jl},Bl(),"multiFactorInfoIdentifier")]}}),Ql(Fl.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),tf(_i,"parseLink",Di,[Bl("link")]),tf(Al,"assertion",(function(t){return new uh(t)}),[Xl("phone")]),function(){if(void 0===J||!J.INTERNAL||!J.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:fi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:li,VERIFY_AND_CHANGE_EMAIL:pi,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:ol,AuthCredential:lo,Error:N};tf(t,"EmailAuthProvider",Po,[]),tf(t,"FacebookAuthProvider",To,[]),tf(t,"GithubAuthProvider",Ao,[]),tf(t,"GoogleAuthProvider",ko,[]),tf(t,"TwitterAuthProvider",xo,[]),tf(t,"OAuthProvider",Eo,[Bl("providerId")]),tf(t,"SAMLAuthProvider",Io,[Bl("providerId")]),tf(t,"PhoneAuthProvider",Vo,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof ol)}}]),tf(t,"RecaptchaVerifier",Fl,[$l(Bl(),{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Kl("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(t){return!!(t&&t instanceof J.app.App)}}]),tf(t,"ActionCodeURL",_i,[]),tf(t,"PhoneMultiFactorGenerator",Al,[]),J.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new ol(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),J.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:I((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:I(t.mc,t),addAuthTokenListener:I(t.cc,t),removeAuthTokenListener:I(t.Oc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),J.registerVersion("@firebase/auth","0.15.2"),J.INTERNAL.extendNamespace({User:bh})}()}.apply(void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var $=function(t,e){return($=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Q(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Z,tt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},et=et||{},nt=tt||self;function rt(){}function it(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function ot(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var st="closure_uid_"+(1e9*Math.random()>>>0),at=0;function ut(t,e,n){return t.call.apply(t.bind,arguments)}function ct(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function ht(t,e,n){return(ht=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ut:ct).apply(null,arguments)}function lt(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function ft(){return Date.now()}function pt(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function dt(){this.j=this.j,this.i=this.i}dt.prototype.j=!1,dt.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,st)&&t[st]||(t[st]=++at)}(this)},dt.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var vt=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},mt=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function yt(t){return Array.prototype.concat.apply([],arguments)}function gt(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function bt(t){return/^[\s\xa0]*$/.test(t)}var wt,It=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Et(t,e){return-1!=t.indexOf(e)}function Tt(t,e){return t<e?-1:t>e?1:0}t:{var _t=nt.navigator;if(_t){var At=_t.userAgent;if(At){wt=At;break t}}wt=""}function Nt(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function kt(t){var e={};for(var n in t)e[n]=t[n];return e}var St="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<St.length;o++)n=St[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ot(t){return Ot[" "](t),t}Ot[" "]=rt;var Ct,Dt,Pt=Et(wt,"Opera"),Rt=Et(wt,"Trident")||Et(wt,"MSIE"),Lt=Et(wt,"Edge"),Mt=Lt||Rt,jt=Et(wt,"Gecko")&&!(Et(wt.toLowerCase(),"webkit")&&!Et(wt,"Edge"))&&!(Et(wt,"Trident")||Et(wt,"MSIE"))&&!Et(wt,"Edge"),Ut=Et(wt.toLowerCase(),"webkit")&&!Et(wt,"Edge");function Vt(){var t=nt.document;return t?t.documentMode:void 0}t:{var Ft="",qt=(Dt=wt,jt?/rv:([^\);]+)(\)|;)/.exec(Dt):Lt?/Edge\/([\d\.]+)/.exec(Dt):Rt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Dt):Ut?/WebKit\/(\S+)/.exec(Dt):Pt?/(?:Version)[ \/]?(\S+)/.exec(Dt):void 0);if(qt&&(Ft=qt?qt[1]:""),Rt){var zt=Vt();if(null!=zt&&zt>parseFloat(Ft)){Ct=String(zt);break t}}Ct=Ft}var Bt,Gt={};function Kt(t){return function(t,e){var n=Gt;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=It(String(Ct)).split("."),r=It(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=Tt(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||Tt(0==s[2].length,0==a[2].length)||Tt(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}nt.document&&Rt?Bt=Vt()||parseInt(Ct,10)||void 0:Bt=void 0;var Ht=Bt,Wt=!Rt||9<=Number(Ht),Xt=Rt&&!Kt("9"),Yt=function(){if(!nt.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{nt.addEventListener("test",rt,e),nt.removeEventListener("test",rt,e)}catch(t){}return t}();function Jt(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function $t(t,e){if(Jt.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(jt){t:{try{Ot(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Qt[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Jt.prototype.b=function(){this.defaultPrevented=!0},pt($t,Jt);var Qt={2:"touch",3:"pen",4:"mouse"};$t.prototype.b=function(){$t.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Xt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var Zt="closure_listenable_"+(1e6*Math.random()|0),te=0;function ee(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++te,this.Y=this.Z=!1}function ne(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function re(t){this.src=t,this.a={},this.b=0}function ie(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=vt(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ne(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function oe(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}re.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=oe(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new ee(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var se="closure_lm_"+(1e6*Math.random()|0),ae={};function ue(t,e,n,r,i){if(r&&r.once)return he(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)ue(t,e[o],n,r,i);return null}return n=ge(n),t&&t[Zt]?t.va(e,n,ot(r)?!!r.capture:!!r,i):ce(t,e,n,!1,r,i)}function ce(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=ot(i)?!!i.capture:!!i;if(s&&!Wt)return null;var a=me(t);if(a||(t[se]=a=new re(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=ve,e=Wt?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Yt||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(pe(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function he(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)he(t,e[o],n,r,i);return null}return n=ge(n),t&&t[Zt]?t.wa(e,n,ot(r)?!!r.capture:!!r,i):ce(t,e,n,!0,r,i)}function le(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)le(t,e[o],n,r,i);else r=ot(r)?!!r.capture:!!r,n=ge(n),t&&t[Zt]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=oe(o=t.a[e],n,r,i))&&(ne(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=me(t))&&(e=t.a[e.toString()],t=-1,e&&(t=oe(e,n,r,i)),(n=-1<t?e[t]:null)&&fe(n))}function fe(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Zt])ie(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(pe(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=me(e))?(ie(n,t),0==n.b&&(n.src=null,e[se]=null)):ne(t)}}}function pe(t){return t in ae?ae[t]:ae[t]="on"+t}function de(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&fe(t),n.call(r,e)}function ve(t,e){if(t.Y)return!0;if(!Wt){if(!e)t:{e=["window","event"];for(var n=nt,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return de(t,e=new $t(e,this))}return de(t,new $t(e,this))}function me(t){return(t=t[se])instanceof re?t:null}var ye="__closure_events_fn_"+(1e9*Math.random()>>>0);function ge(t){return"function"==typeof t?t:(t[ye]||(t[ye]=function(e){return t.handleEvent(e)}),t[ye])}function be(){dt.call(this),this.c=new re(this),this.J=this,this.C=null}function we(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Jt(e,t);else if(e instanceof Jt)e.target=e.target||t;else{var i=e;xt(e=new Jt(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=Ie(s,r,!0,e)&&i}if(i=Ie(s=e.a=t,r,!0,e)&&i,i=Ie(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Ie(s=e.a=n[o],r,!1,e)&&i}function Ie(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&ie(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}pt(be,dt),be.prototype[Zt]=!0,(Z=be.prototype).addEventListener=function(t,e,n,r){ue(this,t,e,n,r)},Z.removeEventListener=function(t,e,n,r){le(this,t,e,n,r)},Z.G=function(){if(be.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ne(n[r]);delete e.a[t],e.b--}}this.C=null},Z.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Z.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Ee=nt.JSON.stringify;function Te(){this.b=this.a=null}var _e,Ae=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())((function(){return new ke}),(function(t){t.reset()}));function Ne(){var t=Ce,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function ke(){this.next=this.b=this.a=null}function Se(t){nt.setTimeout((function(){throw t}),0)}function xe(t,e){_e||function(){var t=nt.Promise.resolve(void 0);_e=function(){t.then(De)}}(),Oe||(_e(),Oe=!0),Ce.add(t,e)}Te.prototype.add=function(t,e){var n=Ae.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},ke.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},ke.prototype.reset=function(){this.next=this.b=this.a=null};var Oe=!1,Ce=new Te;function De(){for(var t;t=Ne();){try{t.a.call(t.b)}catch(t){Se(t)}var e=Ae;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Oe=!1}function Pe(t,e){be.call(this),this.b=t||1,this.a=e||nt,this.f=ht(this.Za,this),this.g=ft()}function Re(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Le(t,e,n){if("function"==typeof t)n&&(t=ht(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=ht(t.handleEvent,t)}return 2147483647<Number(e)?-1:nt.setTimeout(t,e||0)}function Me(t){t.a=Le((function(){t.a=null,t.c&&(t.c=!1,Me(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}pt(Pe,be),(Z=Pe.prototype).aa=!1,Z.M=null,Z.Za=function(){if(this.aa){var t=ft()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),we(this,"tick"),this.aa&&(Re(this),this.start()))}},Z.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=ft())},Z.G=function(){Pe.X.G.call(this),Re(this),delete this.a};var je=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}$(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Me(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(nt.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(dt);function Ue(t){dt.call(this),this.b=t,this.a={}}pt(Ue,dt);var Ve=[];function Fe(t,e,n,r){Array.isArray(n)||(n&&(Ve[0]=n.toString()),n=Ve);for(var i=0;i<n.length;i++){var o=ue(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function qe(t){Nt(t.a,(function(t,e){this.a.hasOwnProperty(e)&&fe(t)}),t),t.a={}}function ze(){this.a=!0}function Be(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Ee(n)}catch(t){return e}}(t,n)+(r?" "+r:"")}))}Ue.prototype.G=function(){Ue.X.G.call(this),qe(this)},Ue.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ze.prototype.info=function(){};var Ge={},Ke=null;function He(){return Ke=Ke||new be}function We(t){Jt.call(this,Ge.Fa,t)}function Xe(t){var e=He();we(e,new We(e,t))}function Ye(t,e){Jt.call(this,Ge.STAT_EVENT,t),this.stat=e}function Je(t){var e=He();we(e,new Ye(e,t))}function $e(t){Jt.call(this,Ge.Ga,t)}function Qe(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return nt.setTimeout((function(){t()}),e)}Ge.Fa="serverreachability",pt(We,Jt),Ge.STAT_EVENT="statevent",pt(Ye,Jt),Ge.Ga="timingevent",pt($e,Jt);var Ze={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},tn={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function en(){}function nn(t){var e;return(e=t.a)||(e=t.a={}),e}function rn(){}en.prototype.a=null;var on,sn={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function an(){Jt.call(this,"d")}function un(){Jt.call(this,"c")}function cn(){}function hn(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Ue(this),this.P=ln,t=Mt?125:void 0,this.R=new Pe(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}pt(an,Jt),pt(un,Jt),pt(cn,en),on=new cn;var ln=45e3,fn={},pn={};function dn(t,e,n){t.H=1,t.i=Mn(On(e)),t.j=n,t.I=!0,vn(t,null)}function vn(t,e){t.u=ft(),gn(t),t.l=On(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Yn(n.b,"t",r),t.D=0,t.a=Br(t.g,t.g.C?e:null),0<t.O&&(t.F=new je(ht(t.Ca,t,t.a),t.O)),Fe(t.J,t.a,"readystatechange",t.Xa),e=t.B?kt(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Xe(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var h=c[0];c=c[1];var l=h.split("_");s=2<=l.length&&"type"==l[1]?s+(h+"=")+c+"&":s+(h+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function mn(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=yn(t,n);if(i==pn){4==e&&(t.h=4,Je(14),r=!1),Be(t.c,t.f,null,"[Incomplete Response]");break}if(i==fn){t.h=4,Je(15),Be(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Be(t.c,t.f,i,null),Tn(t,i)}4==e&&0==n.length&&(t.h=1,Je(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Lr(e),e.F=!0,Je(11))):(Be(t.c,t.f,n,"[Invalid Chunked Response]"),En(t),In(t))}function yn(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?pn:(n=Number(e.substring(n,r)),isNaN(n)?fn:(r+=1)+n>e.length?pn:(e=e.substr(r,n),t.D=r+n,e))}function gn(t){t.T=ft()+t.P,bn(t,t.P)}function bn(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Qe(ht(t.Va,t),e)}function wn(t){t.o&&(nt.clearTimeout(t.o),t.o=null)}function In(t){0==t.g.v||t.A||Ur(t.g,t)}function En(t){wn(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Re(t.R),qe(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Tn(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||nr(n.b,t)))if(n.I=t.N,!t.C&&nr(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(t){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;jr(n),Nr(n)}Rr(n),Je(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Qe(ht(n.Sa,n),6e3));if(1>=er(n.b)&&n.ea){try{n.ea()}catch(t){}n.ea=void 0}}else Fr(n,11)}else if((t.C||n.a==t)&&jr(n),!bt(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var h=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(h){var l=u.b;!l.a&&(Et(h,"spdy")||Et(h,"quic")||Et(h,"h2"))&&(l.f=l.g,l.a=new Set,l.b&&(rr(l,l.b),l.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Ln(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=ft()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var p=t;if((u=n).la=zr(u,u.C?u.ga:null,u.fa),p.C){ir(u.b,p);var d=p,v=u.D;v&&d.setTimeout(v),d.o&&(wn(d),gn(d)),u.a=p}else Pr(u);0<n.g.length&&xr(n)}else"stop"!=i[0]&&"close"!=i[0]||Fr(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Fr(n,7):Ar(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Xe(4)}catch(t){}}function _n(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(it(t)||"string"==typeof t)mt(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(it(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(it(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function An(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof An)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Nn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];kn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)kn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function kn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Z=hn.prototype).setTimeout=function(t){this.P=t},Z.Xa=function(t){t=t.target;var e=this.F;e&&3==Ir(t)?e.f():this.Ca(t)},Z.Ca=function(t){try{if(t==this.a)t:{var e=Ir(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Mt&&!this.a.$())){this.A||4!=e||7==n||Xe(8==n||0>=r?3:2),wn(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!bt(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,Je(12),En(this),In(this);break t}Be(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Tn(this,u)}this.I?(mn(this,e,o),Mt&&this.b&&3==e&&(Fe(this.J,this.R,"tick",this.Wa),this.R.start())):(Be(this.c,this.f,o,null),Tn(this,o)),4==e&&En(this),this.b&&!this.A&&(4==e?Ur(this.g,this):(this.b=!1,gn(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Je(12)):(this.h=0,Je(13)),En(this),In(this)}}}catch(t){}},Z.Wa=function(){if(this.a){var t=Ir(this.a),e=this.a.$();this.D<e.length&&(wn(this),mn(this,t,e),this.b&&4!=t&&gn(this))}},Z.cancel=function(){this.A=!0,En(this)},Z.Va=function(){this.o=null;var t=ft();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(Xe(3),Je(17)),En(this),this.h=2,In(this)):bn(this,this.T-t)},(Z=An.prototype).K=function(){Nn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Z.L=function(){return Nn(this),this.a.concat()},Z.get=function(t,e){return kn(this.b,t)?this.b[t]:e},Z.set=function(t,e){kn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Z.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Sn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function xn(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof xn){this.a=void 0!==e?e:t.a,Cn(this,t.f),this.j=t.j,Dn(this,t.c),Pn(this,t.h),this.g=t.g,e=t.b;var n=new Kn;n.c=e.c,e.a&&(n.a=new An(e.a),n.b=e.b),Rn(this,n),this.i=t.i}else t&&(n=String(t).match(Sn))?(this.a=!!e,Cn(this,n[1]||"",!0),this.j=jn(n[2]||""),Dn(this,n[3]||"",!0),Pn(this,n[4]),this.g=jn(n[5]||"",!0),Rn(this,n[6]||"",!0),this.i=jn(n[7]||"")):(this.a=!!e,this.b=new Kn(null,this.a))}function On(t){return new xn(t)}function Cn(t,e,n){t.f=n?jn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Dn(t,e,n){t.c=n?jn(e,!0):e}function Pn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Rn(t,e,n){e instanceof Kn?(t.b=e,function(t,e){e&&!t.f&&(Hn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Wn(this,e),Yn(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Un(e,Bn)),t.b=new Kn(e,t.a))}function Ln(t,e,n){t.b.set(e,n)}function Mn(t){return Ln(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^ft()).toString(36)),t}function jn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Un(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Vn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Vn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}xn.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Un(e,Fn,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Un(e,Fn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Un(n,"/"==n.charAt(0)?zn:qn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Un(n,Gn)),t.join("")};var Fn=/[#\/\?@]/g,qn=/[#\?:]/g,zn=/[#\?]/g,Bn=/[#\?@]/g,Gn=/#/g;function Kn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Hn(t){t.a||(t.a=new An,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Wn(t,e){Hn(t),e=Jn(t,e),kn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,kn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Nn(t)))}function Xn(t,e){return Hn(t),e=Jn(t,e),kn(t.a.b,e)}function Yn(t,e,n){Wn(t,e),0<n.length&&(t.c=null,t.a.set(Jn(t,e),gt(n)),t.b+=n.length)}function Jn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Z=Kn.prototype).add=function(t,e){Hn(this),this.c=null,t=Jn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Z.forEach=function(t,e){Hn(this),this.a.forEach((function(n,r){mt(n,(function(n){t.call(e,n,r,this)}),this)}),this)},Z.L=function(){Hn(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Z.K=function(t){Hn(this);var e=[];if("string"==typeof t)Xn(this,t)&&(e=yt(e,this.a.get(Jn(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=yt(e,t[n])}return e},Z.set=function(t,e){return Hn(this),this.c=null,Xn(this,t=Jn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Z.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Z.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var $n=function(t,e){this.b=t,this.a=e};function Qn(t){this.g=t||Zn,t=nt.PerformanceNavigationTiming?0<(t=nt.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(nt.ia&&nt.ia.ya&&nt.ia.ya()&&nt.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Zn=10;function tr(t){return!!t.b||!!t.a&&t.a.size>=t.f}function er(t){return t.b?1:t.a?t.a.size:0}function nr(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function rr(t,e){t.a?t.a.add(e):t.b=e}function ir(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function or(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Q(t.a.values()),o=i.next();!o.done;o=i.next()){var s=o.value;r=r.concat(s.s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return gt(t.c)}function sr(){}function ar(){this.a=new sr}function ur(t,e,n){var r=n||"";try{_n(t,(function(t,n){var i=t;ot(t)&&(i=Ee(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function cr(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}Qn.prototype.cancel=function(){var t,e;if(this.c=or(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Q(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},sr.prototype.stringify=function(t){return nt.JSON.stringify(t,void 0)},sr.prototype.parse=function(t){return nt.JSON.parse(t,void 0)};var hr=nt.JSON.parse;function lr(t){be.call(this),this.headers=new An,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=fr,this.D=this.F=!1}pt(lr,be);var fr="",pr=/^https?$/i,dr=["POST","PUT"];function vr(t){return"content-type"==t.toLowerCase()}function mr(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,yr(t),br(t)}function yr(t){t.u||(t.u=!0,we(t,"complete"),we(t,"error"))}function gr(t){if(t.b&&void 0!==et&&(!t.s[1]||4!=Ir(t)||2!=t.W()))if(t.l&&4==Ir(t))Le(t.za,0,t);else if(we(t,"readystatechange"),4==Ir(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Sn)[1]||null;if(!o&&nt.self&&nt.self.location){var s=nt.self.location.protocol;o=s.substr(0,s.length-1)}i=!pr.test(o?o.toLowerCase():"")}e=i}if(e)we(t,"complete"),we(t,"success");else{t.h=6;try{var a=2<Ir(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",yr(t)}}finally{br(t)}}}function br(t,e){if(t.a){wr(t);var n=t.a,r=t.s[0]?rt:null;t.a=null,t.s=null,e||we(t,"ready");try{n.onreadystatechange=r}catch(t){}}}function wr(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(nt.clearTimeout(t.m),t.m=null)}function Ir(t){return t.a?t.a.readyState:0}function Er(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Nt(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ln(t,e,n))}function Tr(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function _r(t){this.pa=0,this.g=[],this.c=new ze,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Tr("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Tr("baseRetryDelayMs",5e3,t),this.Ra=Tr("retryDelaySeedMs",1e4,t),this.Ma=Tr("forwardChannelMaxRetries",2,t),this.ma=Tr("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Qn(t&&t.concurrentRequestLimit),this.ka=new ar,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Ar(t){if(kr(t),3==t.v){var e=t.R++,n=On(t.B);Ln(n,"SID",t.J),Ln(n,"RID",e),Ln(n,"TYPE","terminate"),Cr(t,n),(e=new hn(t,t.c,e,void 0)).H=2,e.i=Mn(On(n)),n=!1,nt.navigator&&nt.navigator.sendBeacon&&(n=nt.navigator.sendBeacon(e.i.toString(),"")),!n&&nt.Image&&((new Image).src=e.i,n=!0),n||(e.a=Br(e.g,null),e.a.ba(e.i)),e.u=ft(),gn(e)}qr(t)}function Nr(t){t.a&&(Lr(t),t.a.cancel(),t.a=null)}function kr(t){Nr(t),t.j&&(nt.clearTimeout(t.j),t.j=null),jr(t),t.b.cancel(),t.h&&("number"==typeof t.h&&nt.clearTimeout(t.h),t.h=null)}function Sr(t,e){t.g.push(new $n(t.Oa++,e)),3==t.v&&xr(t)}function xr(t){tr(t.b)||t.h||(t.h=!0,xe(t.Ba,t),t.u=0)}function Or(t,e){var n;n=e?e.f:t.R++;var r=On(t.B);Ln(r,"SID",t.J),Ln(r,"RID",n),Ln(r,"AID",t.P),Cr(t,r),t.i&&t.l&&Er(r,t.i,t.l),n=new hn(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Dr(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),rr(t.b,n),dn(n,r,e)}function Cr(t,e){t.f&&_n({},(function(t,n){Ln(e,n,t)}))}function Dr(t,e,n){n=Math.min(t.g.length,n);var r=t.f?ht(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?(o=i[0].b,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,h=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{ur(h,s,"req"+c+"_")}catch(t){r&&r(h)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Pr(t){t.a||t.j||(t.T=1,xe(t.Aa,t),t.o=0)}function Rr(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Qe(ht(t.Aa,t),Vr(t,t.o)),t.o++,0))}function Lr(t){null!=t.s&&(nt.clearTimeout(t.s),t.s=null)}function Mr(t){t.a=new hn(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=On(t.la);Ln(e,"RID","rpc"),Ln(e,"SID",t.J),Ln(e,"CI",t.H?"0":"1"),Ln(e,"AID",t.P),Cr(t,e),Ln(e,"TYPE","xmlhttp"),t.i&&t.l&&Er(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Mn(On(e)),n.j=null,n.I=!0,vn(n,t)}function jr(t){null!=t.m&&(nt.clearTimeout(t.m),t.m=null)}function Ur(t,e){var n=null;if(t.a==e){jr(t),Lr(t),t.a=null;var r=2}else{if(!nr(t.b,e))return;n=e.s,ir(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=ft()-e.u;var i=t.u;we(r=He(),new $e(r,n,e,i)),xr(t)}else Pr(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(er(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Qe(ht(t.Ba,t,e),Vr(t,t.u)),t.u++,0)))}(t,e)||2==r&&Rr(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Fr(t,5);break;case 4:Fr(t,10);break;case 3:Fr(t,6);break;default:Fr(t,2)}}function Vr(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Fr(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=ht(t.Ya,t);n||(n=new xn("//www.google.com/images/cleardot.gif"),nt.location&&"http"==nt.location.protocol||Cn(n,"https"),Mn(n)),function(t,e){var n=new ze;if(nt.Image){var r=new Image;r.onload=lt(cr,n,r,"TestLoadImage: loaded",!0,e),r.onerror=lt(cr,n,r,"TestLoadImage: error",!1,e),r.onabort=lt(cr,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=lt(cr,n,r,"TestLoadImage: timeout",!1,e),nt.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Je(2);t.v=0,t.f&&t.f.ra(e),qr(t),kr(t)}function qr(t){t.v=0,t.I=-1,t.f&&(0==or(t.b).length&&0==t.g.length||(t.b.c.length=0,gt(t.g),t.g.length=0),t.f.qa())}function zr(t,e,n){var r=function(t){return t instanceof xn?On(t):new xn(t,void 0)}(n);if(""!=r.c)e&&Dn(r,e+"."+r.c),Pn(r,r.h);else{var i=nt.location;r=function(t,e,n,r){var i=new xn(null,void 0);return t&&Cn(i,t),e&&Dn(i,e),n&&Pn(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Nt(t.V,(function(t,e){Ln(r,e,t)})),e=t.A,n=t.na,e&&n&&Ln(r,e,n),Ln(r,"VER",t.ha),Cr(t,r),r}function Br(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new lr(t.Na)).F=t.C,e}function Gr(){}function Kr(){if(Rt&&!(10<=Number(Ht)))throw Error("Environmental error: no available transport.")}function Hr(t,e){be.call(this),this.a=new _r(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!bt(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!bt(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Yr(this)}function Wr(t){an.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Xr(){un.call(this),this.status=1}function Yr(t){this.a=t}(Z=lr.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?nn(this.H):nn(on),this.a.onreadystatechange=ht(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(t){return void mr(this,t)}t=n||"";var i=new An(this.headers);r&&_n(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=vr,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=nt.FormData&&t instanceof nt.FormData,!(0<=vt(dr,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{wr(this),0<this.o&&((this.D=function(t){return Rt&&Kt(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=ht(this.xa,this)):this.m=Le(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){mr(this,t)}},Z.xa=function(){void 0!==et&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,we(this,"timeout"),this.abort(8))},Z.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,we(this,"complete"),we(this,"abort"),br(this))},Z.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),br(this,!0)),lr.X.G.call(this)},Z.za=function(){this.j||(this.A||this.l||this.g?gr(this):this.Ua())},Z.Ua=function(){gr(this)},Z.W=function(){try{return 2<Ir(this)?this.a.status:-1}catch(t){return-1}},Z.$=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},Z.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),hr(e)}},Z.ua=function(){return this.h},Z.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Z=_r.prototype).ha=8,Z.v=1,Z.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new hn(this,this.c,t,void 0),r=this.l;if(this.O&&(r?xt(r=kt(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Dr(this,n,e),Ln(i=On(this.B),"RID",t),Ln(i,"CVER",22),this.A&&Ln(i,"X-HTTP-Session-Id",this.A),Cr(this,i),this.i&&r&&Er(i,this.i,r),rr(this.b,n),this.Ia&&Ln(i,"TYPE","init"),this.da?(Ln(i,"$req",e),Ln(i,"SID","null"),n.U=!0,dn(n,i,null)):dn(n,i,e),this.v=2}}else 3==this.v&&(t?Or(this,t):0==this.g.length||tr(this.b)||Or(this))},Z.Aa=function(){if(this.j=null,Mr(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Qe(ht(this.Ta,this),t)}},Z.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Je(10),Nr(this),Mr(this))},Z.Sa=function(){null!=this.m&&(this.m=null,Nr(this),Rr(this),Je(19))},Z.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Je(2)):(this.c.info("Failed to ping google.com"),Je(1))},(Z=Gr.prototype).ta=function(){},Z.sa=function(){},Z.ra=function(){},Z.qa=function(){},Z.Ja=function(){},Kr.prototype.a=function(t,e){return new Hr(t,e)},pt(Hr,be),Hr.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Je(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=zr(t,null,t.fa),xr(t)},Hr.prototype.close=function(){Ar(this.a)},Hr.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Sr(this.a,e)}else this.l?((e={}).__data__=Ee(t),Sr(this.a,e)):Sr(this.a,t)},Hr.prototype.G=function(){this.a.f=null,delete this.f,Ar(this.a),delete this.a,Hr.X.G.call(this)},pt(Wr,an),pt(Xr,un),pt(Yr,Gr),Yr.prototype.ta=function(){we(this.a,"a")},Yr.prototype.sa=function(t){we(this.a,new Wr(t))},Yr.prototype.ra=function(t){we(this.a,new Xr(t))},Yr.prototype.qa=function(){we(this.a,"b")},Kr.prototype.createWebChannel=Kr.prototype.a,Hr.prototype.send=Hr.prototype.h,Hr.prototype.open=Hr.prototype.g,Hr.prototype.close=Hr.prototype.close,Ze.NO_ERROR=0,Ze.TIMEOUT=8,Ze.HTTP_ERROR=6,tn.COMPLETE="complete",rn.EventType=sn,sn.OPEN="a",sn.CLOSE="b",sn.ERROR="c",sn.MESSAGE="d",be.prototype.listen=be.prototype.va,lr.prototype.listenOnce=lr.prototype.wa,lr.prototype.getLastError=lr.prototype.Qa,lr.prototype.getLastErrorCode=lr.prototype.ua,lr.prototype.getStatus=lr.prototype.W,lr.prototype.getResponseJson=lr.prototype.Pa,lr.prototype.getResponseText=lr.prototype.$,lr.prototype.send=lr.prototype.ba;var Jr=Ze,$r=tn,Qr=Ge,Zr=10,ti=11,ei=rn,ni=lr,ri=function(t,e,n,r,i,o){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=o},ii=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),oi=function(){function t(t){this.uid=t}return t.prototype.u=function(){return null!=this.uid},t.prototype.h=function(){return this.u()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();oi.UNAUTHENTICATED=new oi(null),oi.l=new oi("google-credentials-uid"),oi._=new oi("first-party-uid");var si=new L("@firebase/firestore");function ai(){return si.logLevel}function ui(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(si.logLevel<=S.DEBUG){var r=e.map(li);si.debug.apply(si,c(["Firestore (8.1.1): "+t],r))}}function ci(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(si.logLevel<=S.ERROR){var r=e.map(li);si.error.apply(si,c(["Firestore (8.1.1): "+t],r))}}function hi(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(si.logLevel<=S.WARN){var r=e.map(li);si.warn.apply(si,c(["Firestore (8.1.1): "+t],r))}}function li(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}function fi(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.1.1) INTERNAL ASSERTION FAILED: "+t;throw ci(e),new Error(e)}function pi(t,e){t||fi()}function di(t,e){return t}var vi={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},mi=function(t){function n(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return e(n,t),n}(Error),yi=function(t,e){this.user=e,this.type="OAuth",this.T={},this.T.Authorization="Bearer "+t},gi=function(){function t(){this.I=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.m=function(){},t.prototype.A=function(t){this.I=t,t(oi.UNAUTHENTICATED)},t.prototype.R=function(){this.I=null},t}(),bi=function(){function t(t){var e=this;this.P=null,this.currentUser=oi.UNAUTHENTICATED,this.g=!1,this.V=0,this.I=null,this.forceRefresh=!1,this.P=function(){e.V++,e.currentUser=e.p(),e.g=!0,e.I&&e.I(e.currentUser)},this.V=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.P):(this.P(null),t.get().then((function(t){e.auth=t,e.P&&e.auth.addAuthTokenListener(e.P)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.V,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.V!==e?(ui("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(pi("string"==typeof n.accessToken),new yi(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.m=function(){this.forceRefresh=!0},t.prototype.A=function(t){this.I=t,this.g&&t(this.currentUser)},t.prototype.R=function(){this.auth&&this.auth.removeAuthTokenListener(this.P),this.P=null,this.I=null},t.prototype.p=function(){var t=this.auth&&this.auth.getUid();return pi(null===t||"string"==typeof t),new oi(t)},t}(),wi=function(){function t(t,e){this.v=t,this.S=e,this.type="FirstParty",this.user=oi._}return Object.defineProperty(t.prototype,"T",{get:function(){var t={"X-Goog-AuthUser":this.S},e=this.v.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Ii=function(){function t(t,e){this.v=t,this.S=e}return t.prototype.getToken=function(){return Promise.resolve(new wi(this.v,this.S))},t.prototype.A=function(t){t(oi._)},t.prototype.R=function(){},t.prototype.m=function(){},t}();function Ei(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Ti=function(){function t(){}return t.D=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Ei(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function _i(t,e){return t<e?-1:t>e?1:0}function Ai(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Ni(t){return t+"\0"}var ki=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new mi(vi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new mi(vi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new mi(vi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new mi(vi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.C=function(t){return this.seconds===t.seconds?_i(this.nanoseconds,t.nanoseconds):_i(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Si=function(){function t(t){this.timestamp=t}return t.N=function(e){return new t(e)},t.min=function(){return new t(new ki(0,0))},t.prototype.F=function(t){return this.timestamp.C(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.O=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.M=function(){return this.timestamp},t}(),xi=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&fi(),void 0===n?n=t.length-e:n>t.length-e&&fi(),this.segments=t,this.offset=e,this.k=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.$(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.L(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.B=function(t){return t=void 0===t?1:t,this.L(this.segments,this.offset+t,this.length-t)},t.prototype.q=function(){return this.L(this.segments,this.offset,this.length-1)},t.prototype.U=function(){return this.segments[this.offset]},t.prototype.K=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.W=function(){return 0===this.length},t.prototype.j=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.G=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.H=function(){return this.segments.slice(this.offset,this.limit())},t.$=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Oi=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.prototype.L=function(t,e,r){return new n(t,e,r)},n.prototype.J=function(){return this.H().join("/")},n.prototype.toString=function(){return this.J()},n.Y=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new mi(vi.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(t){return t.length>0})))}return new n(r)},n.X=function(){return new n([])},n}(xi),Ci=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Di=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.prototype.L=function(t,e,r){return new n(t,e,r)},n.Z=function(t){return Ci.test(t)},n.prototype.J=function(){return this.H().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),n.Z(t)||(t="`"+t+"`"),t})).join(".")},n.prototype.toString=function(){return this.J()},n.prototype.tt=function(){return 1===this.length&&"__name__"===this.get(0)},n.et=function(){return new n(["__name__"])},n.nt=function(t){for(var e=[],r="",i=0,o=function(){if(0===r.length)throw new mi(vi.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");e.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new mi(vi.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new mi(vi.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new mi(vi.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new n(e)},n.X=function(){return new n([])},n}(xi),Pi=function(){function t(t){this.path=t}return t.st=function(e){return new t(Oi.Y(e))},t.it=function(e){return new t(Oi.Y(e).B(5))},t.prototype.rt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Oi.$(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.$=function(t,e){return Oi.$(t.path,e.path)},t.ot=function(t){return t.length%2==0},t.ct=function(e){return new t(new Oi(e.slice()))},t}();function Ri(t){return null==t}function Li(t){return 0===t&&1/t==-1/0}function Mi(t){return"number"==typeof t&&Number.isInteger(t)&&!Li(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var ji=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.ut=null};function Ui(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new ji(t,e,n,r,i,o,s)}function Vi(t){var e=di(t);if(null===e.ut){var n=e.path.J();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.J()+t.op.toString()+Lo(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.J()+t.dir}(t)})).join(","),Ri(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=ja(e.startAt)),e.endAt&&(n+="|ub:",n+=ja(e.endAt)),e.ut=n}return e.ut}function Fi(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!za(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!Co(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Va(t.startAt,e.startAt)&&Va(t.endAt,e.endAt)}function qi(t){return Pi.ot(t.path)&&null===t.collectionGroup&&0===t.filters.length}var zi=function(){function t(t){this.at=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.at,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.at)},t.prototype.ht=function(){return 2*this.at.length},t.prototype.F=function(t){return _i(this.at,t.at)},t.prototype.isEqual=function(t){return this.at===t.at},t}();zi.lt=new zi("");var Bi,Gi,Ki=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=Si.min()),void 0===o&&(o=Si.min()),void 0===s&&(s=zi.lt),this.target=t,this.targetId=e,this._t=n,this.sequenceNumber=r,this.ft=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.dt=function(e){return new t(this.target,this.targetId,this._t,e,this.ft,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.wt=function(e,n){return new t(this.target,this.targetId,this._t,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Et=function(e){return new t(this.target,this.targetId,this._t,this.sequenceNumber,this.ft,e,this.resumeToken)},t}(),Hi=function(t){this.count=t};function Wi(t){switch(t){case vi.OK:return fi();case vi.CANCELLED:case vi.UNKNOWN:case vi.DEADLINE_EXCEEDED:case vi.RESOURCE_EXHAUSTED:case vi.INTERNAL:case vi.UNAVAILABLE:case vi.UNAUTHENTICATED:return!1;case vi.INVALID_ARGUMENT:case vi.NOT_FOUND:case vi.ALREADY_EXISTS:case vi.PERMISSION_DENIED:case vi.FAILED_PRECONDITION:case vi.ABORTED:case vi.OUT_OF_RANGE:case vi.UNIMPLEMENTED:case vi.DATA_LOSS:return!0;default:return fi()}}function Xi(t){if(void 0===t)return ci("GRPC error has no .code"),vi.UNKNOWN;switch(t){case Bi.OK:return vi.OK;case Bi.CANCELLED:return vi.CANCELLED;case Bi.UNKNOWN:return vi.UNKNOWN;case Bi.DEADLINE_EXCEEDED:return vi.DEADLINE_EXCEEDED;case Bi.RESOURCE_EXHAUSTED:return vi.RESOURCE_EXHAUSTED;case Bi.INTERNAL:return vi.INTERNAL;case Bi.UNAVAILABLE:return vi.UNAVAILABLE;case Bi.UNAUTHENTICATED:return vi.UNAUTHENTICATED;case Bi.INVALID_ARGUMENT:return vi.INVALID_ARGUMENT;case Bi.NOT_FOUND:return vi.NOT_FOUND;case Bi.ALREADY_EXISTS:return vi.ALREADY_EXISTS;case Bi.PERMISSION_DENIED:return vi.PERMISSION_DENIED;case Bi.FAILED_PRECONDITION:return vi.FAILED_PRECONDITION;case Bi.ABORTED:return vi.ABORTED;case Bi.OUT_OF_RANGE:return vi.OUT_OF_RANGE;case Bi.UNIMPLEMENTED:return vi.UNIMPLEMENTED;case Bi.DATA_LOSS:return vi.DATA_LOSS;default:return fi()}}(Gi=Bi||(Bi={}))[Gi.OK=0]="OK",Gi[Gi.CANCELLED=1]="CANCELLED",Gi[Gi.UNKNOWN=2]="UNKNOWN",Gi[Gi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gi[Gi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gi[Gi.NOT_FOUND=5]="NOT_FOUND",Gi[Gi.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gi[Gi.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gi[Gi.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gi[Gi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gi[Gi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gi[Gi.ABORTED=10]="ABORTED",Gi[Gi.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gi[Gi.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gi[Gi.INTERNAL=13]="INTERNAL",Gi[Gi.UNAVAILABLE=14]="UNAVAILABLE",Gi[Gi.DATA_LOSS=15]="DATA_LOSS";var Yi=function(){function t(t,e){this.$=t,this.root=e||$i.EMPTY}return t.prototype.Tt=function(e,n){return new t(this.$,this.root.Tt(e,n,this.$).copy(null,null,$i.It,null,null))},t.prototype.remove=function(e){return new t(this.$,this.root.remove(e,this.$).copy(null,null,$i.It,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.W();){var n=this.$(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.W();){var r=this.$(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.W=function(){return this.root.W()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.At=function(){return this.root.At()},t.prototype.Rt=function(){return this.root.Rt()},t.prototype.Pt=function(t){return this.root.Pt(t)},t.prototype.forEach=function(t){this.Pt((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.Pt((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.gt=function(t){return this.root.gt(t)},t.prototype.yt=function(){return new Ji(this.root,null,this.$,!1)},t.prototype.Vt=function(t){return new Ji(this.root,t,this.$,!1)},t.prototype.vt=function(){return new Ji(this.root,null,this.$,!0)},t.prototype.bt=function(t){return new Ji(this.root,t,this.$,!0)},t}(),Ji=function(){function t(t,e,n,r){this.St=r,this.Dt=[];for(var i=1;!t.W();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.St?t.left:t.right;else{if(0===i){this.Dt.push(t);break}this.Dt.push(t),t=this.St?t.right:t.left}}return t.prototype.Ct=function(){var t=this.Dt.pop(),e={key:t.key,value:t.value};if(this.St)for(t=t.left;!t.W();)this.Dt.push(t),t=t.right;else for(t=t.right;!t.W();)this.Dt.push(t),t=t.left;return e},t.prototype.Nt=function(){return this.Dt.length>0},t.prototype.xt=function(){if(0===this.Dt.length)return null;var t=this.Dt[this.Dt.length-1];return{key:t.key,value:t.value}},t}(),$i=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.W=function(){return!1},t.prototype.Pt=function(t){return this.left.Pt(t)||t(this.key,this.value)||this.right.Pt(t)},t.prototype.gt=function(t){return this.right.gt(t)||t(this.key,this.value)||this.left.gt(t)},t.prototype.min=function(){return this.left.W()?this:this.left.min()},t.prototype.At=function(){return this.min().key},t.prototype.Rt=function(){return this.right.W()?this.key:this.right.Rt()},t.prototype.Tt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Tt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Tt(t,e,n))).Ft()},t.prototype.Ot=function(){if(this.left.W())return t.EMPTY;var e=this;return e.left.Mt()||e.left.left.Mt()||(e=e.kt()),(e=e.copy(null,null,null,e.left.Ot(),null)).Ft()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.W()||i.left.Mt()||i.left.left.Mt()||(i=i.kt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.Mt()&&(i=i.$t()),i.right.W()||i.right.Mt()||i.right.left.Mt()||(i=i.Lt()),0===n(e,i.key)){if(i.right.W())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.Ot())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.Ft()},t.prototype.Mt=function(){return this.color},t.prototype.Ft=function(){var t=this;return t.right.Mt()&&!t.left.Mt()&&(t=t.Bt()),t.left.Mt()&&t.left.left.Mt()&&(t=t.$t()),t.left.Mt()&&t.right.Mt()&&(t=t.qt()),t},t.prototype.kt=function(){var t=this.qt();return t.right.left.Mt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.$t())).Bt()).qt()),t},t.prototype.Lt=function(){var t=this.qt();return t.left.left.Mt()&&(t=(t=t.$t()).qt()),t},t.prototype.Bt=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.$t=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.qt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ut=function(){var t=this.Qt();return Math.pow(2,t)<=this.size+1},t.prototype.Qt=function(){if(this.Mt()&&this.left.Mt())throw fi();if(this.right.Mt())throw fi();var t=this.left.Qt();if(t!==this.right.Qt())throw fi();return t+(this.Mt()?0:1)},t}();$i.EMPTY=null,$i.RED=!0,$i.It=!1,$i.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw fi()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw fi()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw fi()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw fi()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw fi()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Tt=function(t,e,n){return new $i(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.W=function(){return!0},t.prototype.Pt=function(t){return!1},t.prototype.gt=function(t){return!1},t.prototype.At=function(){return null},t.prototype.Rt=function(){return null},t.prototype.Mt=function(){return!1},t.prototype.Ut=function(){return!0},t.prototype.Qt=function(){return 0},t}());var Qi=function(){function t(t){this.$=t,this.data=new Yi(this.$)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.At()},t.prototype.last=function(){return this.data.Rt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Pt((function(e,n){return t(e),!1}))},t.prototype.Kt=function(t,e){for(var n=this.data.Vt(t[0]);n.Nt();){var r=n.Ct();if(this.$(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Wt=function(t,e){var n;for(n=void 0!==e?this.data.Vt(e):this.data.yt();n.Nt();)if(!t(n.Ct().key))return},t.prototype.jt=function(t){var e=this.data.Vt(t);return e.Nt()?e.Ct().key:null},t.prototype.yt=function(){return new Zi(this.data.yt())},t.prototype.Vt=function(t){return new Zi(this.data.Vt(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Tt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.W=function(){return this.data.W()},t.prototype.Gt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.yt(),r=e.data.yt();n.Nt();){var i=n.Ct().key,o=r.Ct().key;if(0!==this.$(i,o))return!1}return!0},t.prototype.H=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.$);return n.data=e,n},t}(),Zi=function(){function t(t){this.zt=t}return t.prototype.Ct=function(){return this.zt.Ct().key},t.prototype.Nt=function(){return this.zt.Nt()},t}(),to=new Yi(Pi.$);function eo(){return to}function no(){return eo()}var ro=new Yi(Pi.$);function io(){return ro}var oo=new Yi(Pi.$),so=new Qi(Pi.$);function ao(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=so,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var uo=new Qi(_i);function co(){return uo}var ho=function(){function t(t){this.$=t?function(e,n){return t(e,n)||Pi.$(e.key,n.key)}:function(t,e){return Pi.$(t.key,e.key)},this.Ht=io(),this.Jt=new Yi(this.$)}return t.Yt=function(e){return new t(e.$)},t.prototype.has=function(t){return null!=this.Ht.get(t)},t.prototype.get=function(t){return this.Ht.get(t)},t.prototype.first=function(){return this.Jt.At()},t.prototype.last=function(){return this.Jt.Rt()},t.prototype.W=function(){return this.Jt.W()},t.prototype.indexOf=function(t){var e=this.Ht.get(t);return e?this.Jt.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Jt.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Jt.Pt((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ht.Tt(t.key,t),e.Jt.Tt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ht.remove(t),this.Jt.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Jt.yt(),r=e.Jt.yt();n.Nt();){var i=n.Ct().key,o=r.Ct().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.$=this.$,r.Ht=e,r.Jt=n,r},t}(),lo=function(){function t(){this.Xt=new Yi(Pi.$)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Xt.get(e);n?0!==t.type&&3===n.type?this.Xt=this.Xt.Tt(e,t):3===t.type&&1!==n.type?this.Xt=this.Xt.Tt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Xt=this.Xt.Tt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Xt=this.Xt.Tt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Xt=this.Xt.remove(e):1===t.type&&2===n.type?this.Xt=this.Xt.Tt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Xt=this.Xt.Tt(e,{type:2,doc:t.doc}):fi():this.Xt=this.Xt.Tt(e,t)},t.prototype.Zt=function(){var t=[];return this.Xt.Pt((function(e,n){t.push(n)})),t},t}(),fo=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.te=n,this.docChanges=r,this.ee=i,this.fromCache=o,this.ne=s,this.se=a}return t.ie=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,ho.Yt(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.ee.W()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.ne===t.ne&&this.ee.isEqual(t.ee)&&Ea(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.te.isEqual(t.te)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),po=function(){function t(t,e,n,r,i){this.ft=t,this.re=e,this.oe=n,this.ce=r,this.ue=i}return t.ae=function(e,n){var r=new Map;return r.set(e,vo.he(e,n)),new t(Si.min(),r,co(),eo(),ao())},t}(),vo=function(){function t(t,e,n,r,i){this.resumeToken=t,this.le=e,this._e=n,this.fe=r,this.de=i}return t.he=function(e,n){return new t(zi.lt,n,ao(),ao(),ao())},t}(),mo=function(t,e,n,r){this.we=t,this.removedTargetIds=e,this.key=n,this.Ee=r},yo=function(t,e){this.targetId=t,this.Te=e},go=function(t,e,n,r){void 0===n&&(n=zi.lt),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},bo=function(){function t(){this.Ie=0,this.me=Eo(),this.Ae=zi.lt,this.Re=!1,this.Pe=!0}return Object.defineProperty(t.prototype,"le",{get:function(){return this.Re},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Ae},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ge",{get:function(){return 0!==this.Ie},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ye",{get:function(){return this.Pe},enumerable:!1,configurable:!0}),t.prototype.Ve=function(t){t.ht()>0&&(this.Pe=!0,this.Ae=t)},t.prototype.pe=function(){var t=ao(),e=ao(),n=ao();return this.me.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:fi()}})),new vo(this.Ae,this.Re,t,e,n)},t.prototype.ve=function(){this.Pe=!1,this.me=Eo()},t.prototype.be=function(t,e){this.Pe=!0,this.me=this.me.Tt(t,e)},t.prototype.Se=function(t){this.Pe=!0,this.me=this.me.remove(t)},t.prototype.De=function(){this.Ie+=1},t.prototype.Ce=function(){this.Ie-=1},t.prototype.Ne=function(){this.Pe=!0,this.Re=!0},t}(),wo=function(){function t(t){this.xe=t,this.Fe=new Map,this.Oe=eo(),this.Me=Io(),this.ke=new Qi(_i)}return t.prototype.$e=function(t){for(var e=0,n=t.we;e<n.length;e++){var r=n[e];t.Ee instanceof ua?this.Le(r,t.Ee):t.Ee instanceof ca&&this.Be(r,t.key,t.Ee)}for(var i=0,o=t.removedTargetIds;i<o.length;i++){var s=o[i];this.Be(s,t.key,t.Ee)}},t.prototype.qe=function(t){var e=this;this.Ue(t,(function(n){var r=e.Qe(n);switch(t.state){case 0:e.Ke(n)&&r.Ve(t.resumeToken);break;case 1:r.Ce(),r.ge||r.ve(),r.Ve(t.resumeToken);break;case 2:r.Ce(),r.ge||e.removeTarget(n);break;case 3:e.Ke(n)&&(r.Ne(),r.Ve(t.resumeToken));break;case 4:e.Ke(n)&&(e.We(n),r.Ve(t.resumeToken));break;default:fi()}}))},t.prototype.Ue=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Fe.forEach((function(t,r){n.Ke(r)&&e(r)}))},t.prototype.je=function(t){var e=t.targetId,n=t.Te.count,r=this.Ge(e);if(r){var i=r.target;if(qi(i))if(0===n){var o=new Pi(i.path);this.Be(e,o,new ca(o,Si.min()))}else pi(1===n);else this.ze(e)!==n&&(this.We(e),this.ke=this.ke.add(e))}},t.prototype.He=function(t){var e=this,n=new Map;this.Fe.forEach((function(r,i){var o=e.Ge(i);if(o){if(r.le&&qi(o.target)){var s=new Pi(o.target.path);null!==e.Oe.get(s)||e.Je(i,s)||e.Be(i,s,new ca(s,t))}r.ye&&(n.set(i,r.pe()),r.ve())}}));var r=ao();this.Me.forEach((function(t,n){var i=!0;n.Wt((function(t){var n=e.Ge(t);return!n||2===n._t||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new po(t,n,this.ke,this.Oe,r);return this.Oe=eo(),this.Me=Io(),this.ke=new Qi(_i),i},t.prototype.Le=function(t,e){if(this.Ke(t)){var n=this.Je(t,e.key)?2:0;this.Qe(t).be(e.key,n),this.Oe=this.Oe.Tt(e.key,e),this.Me=this.Me.Tt(e.key,this.Ye(e.key).add(t))}},t.prototype.Be=function(t,e,n){if(this.Ke(t)){var r=this.Qe(t);this.Je(t,e)?r.be(e,1):r.Se(e),this.Me=this.Me.Tt(e,this.Ye(e).delete(t)),n&&(this.Oe=this.Oe.Tt(e,n))}},t.prototype.removeTarget=function(t){this.Fe.delete(t)},t.prototype.ze=function(t){var e=this.Qe(t).pe();return this.xe.Xe(t).size+e._e.size-e.de.size},t.prototype.De=function(t){this.Qe(t).De()},t.prototype.Qe=function(t){var e=this.Fe.get(t);return e||(e=new bo,this.Fe.set(t,e)),e},t.prototype.Ye=function(t){var e=this.Me.get(t);return e||(e=new Qi(_i),this.Me=this.Me.Tt(t,e)),e},t.prototype.Ke=function(t){var e=null!==this.Ge(t);return e||ui("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Ge=function(t){var e=this.Fe.get(t);return e&&e.ge?null:this.xe.Ze(t)},t.prototype.We=function(t){var e=this;this.Fe.set(t,new bo),this.xe.Xe(t).forEach((function(n){e.Be(t,n,null)}))},t.prototype.Je=function(t,e){return this.xe.Xe(t).has(e)},t}();function Io(){return new Yi(Pi.$)}function Eo(){return new Yi(Pi.$)}function To(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function _o(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ao(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function No(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ko(t){var e=t.mapValue.fields.__previous_value__;return No(e)?ko(e):e}function So(t){var e=jo(t.mapValue.fields.__local_write_time__.timestampValue);return new ki(e.seconds,e.nanos)}var xo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?No(t)?4:10:fi()}function Co(t,e){var n=Oo(t);if(n!==Oo(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return So(t).isEqual(So(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=jo(t.timestampValue),r=jo(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Vo(t.bytesValue).isEqual(Vo(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Uo(t.geoPointValue.latitude)===Uo(e.geoPointValue.latitude)&&Uo(t.geoPointValue.longitude)===Uo(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Uo(t.integerValue)===Uo(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Uo(t.doubleValue),r=Uo(e.doubleValue);return n===r?Li(n)===Li(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Ai(t.arrayValue.values||[],e.arrayValue.values||[],Co);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(To(n)!==To(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Co(n[i],r[i])))return!1;return!0}(t,e);default:return fi()}}function Do(t,e){return void 0!==(t.values||[]).find((function(t){return Co(t,e)}))}function Po(t,e){var n=Oo(t),r=Oo(e);if(n!==r)return _i(n,r);switch(n){case 0:return 0;case 1:return _i(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Uo(t.integerValue||t.doubleValue),r=Uo(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Ro(t.timestampValue,e.timestampValue);case 4:return Ro(So(t),So(e));case 5:return _i(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Vo(t),r=Vo(e);return n.F(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=_i(n[i],r[i]);if(0!==o)return o}return _i(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=_i(Uo(t.latitude),Uo(e.latitude));return 0!==n?n:_i(Uo(t.longitude),Uo(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Po(n[i],r[i]);if(o)return o}return _i(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=_i(r[s],o[s]);if(0!==a)return a;var u=Po(n[r[s]],i[o[s]]);if(0!==u)return u}return _i(r.length,o.length)}(t.mapValue,e.mapValue);default:throw fi()}}function Ro(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return _i(t,e);var n=jo(t),r=jo(e),i=_i(n.seconds,r.seconds);return 0!==i?i:_i(n.nanos,r.nanos)}function Lo(t){return Mo(t)}function Mo(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=jo(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Vo(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Pi.it(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Mo(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+Mo(t.fields[o])}return e+"}"}(t.mapValue):fi();var e,n}function jo(t){if(pi(!!t),"string"==typeof t){var e=0,n=xo.exec(t);if(pi(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Uo(t.seconds),nanos:Uo(t.nanos)}}function Uo(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Vo(t){return"string"==typeof t?zi.fromBase64String(t):zi.fromUint8Array(t)}function Fo(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.J()}}function qo(t){return!!t&&"integerValue"in t}function zo(t){return!!t&&"arrayValue"in t}function Bo(t){return!!t&&"nullValue"in t}function Go(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ko(t){return!!t&&"mapValue"in t}var Ho={asc:"ASCENDING",desc:"DESCENDING"},Wo={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Xo=function(t,e){this.t=t,this.tn=e};function Yo(t){return{integerValue:""+t}}function Jo(t,e){if(t.tn){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Li(e)?"-0":e}}function $o(t,e){return Mi(e)?Yo(e):Jo(t,e)}function Qo(t,e){return t.tn?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Zo(t,e){return t.tn?e.toBase64():e.toUint8Array()}function ts(t,e){return Qo(t,e.M())}function es(t){return pi(!!t),Si.N(function(t){var e=jo(t);return new ki(e.seconds,e.nanos)}(t))}function ns(t,e){return function(t){return new Oi(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).J()}function rs(t){var e=Oi.Y(t);return pi(Ns(e)),e}function is(t,e){return ns(t.t,e.path)}function os(t,e){var n=rs(e);if(n.get(1)!==t.t.projectId)throw new mi(vi.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new mi(vi.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new Pi(cs(n))}function ss(t,e){return ns(t.t,e)}function as(t){var e=rs(t);return 4===e.length?Oi.X():cs(e)}function us(t){return new Oi(["projects",t.t.projectId,"databases",t.t.database]).J()}function cs(t){return pi(t.length>4&&"documents"===t.get(4)),t.B(5)}function hs(t,e,n){return{name:is(t,e),fields:n.proto.mapValue.fields}}function ls(t,e){var n;if(e instanceof Js)n={update:hs(t,e.key,e.value)};else if(e instanceof na)n={delete:is(t,e.key)};else if(e instanceof $s)n={update:hs(t,e.key,e.data),updateMask:As(e.en)};else if(e instanceof Zs)n={transform:{document:is(t,e.key),fieldTransforms:e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Cs)return{fieldPath:e.field.J(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ds)return{fieldPath:e.field.J(),appendMissingElements:{values:n.elements}};if(n instanceof Rs)return{fieldPath:e.field.J(),removeAllFromArray:{values:n.elements}};if(n instanceof Ms)return{fieldPath:e.field.J(),increment:n.nn};throw fi()}(0,t)}))}};else{if(!(e instanceof ra))return fi();n={verify:is(t,e.key)}}return e.rn.sn||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:ts(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:fi()}(t,e.rn)),n}function fs(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?zs.updateTime(es(t.updateTime)):void 0!==t.exists?zs.exists(t.exists):zs.on()}(e.currentDocument):zs.on();if(e.update){e.update.name;var r=os(t,e.update.name),i=new ia({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){var e=t.fieldPaths||[];return new Vs(e.map((function(t){return Di.nt(t)})))}(e.updateMask);return new $s(r,i,o,n)}return new Js(r,i,n)}if(e.delete){var s=os(t,e.delete);return new na(s,n)}if(e.transform){var a=os(t,e.transform.document),u=e.transform.fieldTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)pi("REQUEST_TIME"===e.setToServerValue),n=new Cs;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new Ds(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new Rs(i)}else"increment"in e?n=new Ms(t,e.increment):fi();var o=Di.nt(e.fieldPath);return new Fs(o,n)}(t,e)}));return pi(!0===n.exists),new Zs(a,u)}if(e.verify){var c=os(t,e.verify);return new ra(c,n)}return fi()}function ps(t,e){return{documents:[ss(t,e.path)]}}function ds(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=ss(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=ss(t,r.q()),n.structuredQuery.from=[{collectionId:r.K()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(Go(t.value))return{unaryFilter:{field:Is(t.field),op:"IS_NAN"}};if(Bo(t.value))return{unaryFilter:{field:Is(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Go(t.value))return{unaryFilter:{field:Is(t.field),op:"IS_NOT_NAN"}};if(Bo(t.value))return{unaryFilter:{field:Is(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Is(t.field),op:ws(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:Is(t.field),direction:bs(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.tn||Ri(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=ys(e.startAt)),e.endAt&&(n.structuredQuery.endAt=ys(e.endAt)),n}function vs(t){var e=as(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){pi(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=ms(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new Fa(Es(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return Ri(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=gs(n.startAt));var h=null;return n.endAt&&(h=gs(n.endAt)),fa(e,i,a,s,u,"F",c,h)}function ms(t){return t?void 0!==t.unaryFilter?[_s(t)]:void 0!==t.fieldFilter?[Ts(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return ms(t)})).reduce((function(t,e){return t.concat(e)})):fi():[]}function ys(t){return{before:t.before,values:t.position}}function gs(t){var e=!!t.before,n=t.values||[];return new Ma(n,e)}function bs(t){return Ho[t]}function ws(t){return Wo[t]}function Is(t){return{fieldPath:t.J()}}function Es(t){return Di.nt(t.fieldPath)}function Ts(t){return ka.create(Es(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return fi()}}(t.fieldFilter.op),t.fieldFilter.value)}function _s(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Es(t.unaryFilter.field);return ka.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Es(t.unaryFilter.field);return ka.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Es(t.unaryFilter.field);return ka.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Es(t.unaryFilter.field);return ka.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return fi()}}function As(t){var e=[];return t.fields.forEach((function(t){return e.push(t.J())})),{fieldPaths:e}}function Ns(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var ks=function(){this.cn=void 0};function Ss(t,e,n){return t instanceof Cs?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Ds?Ps(t,e):t instanceof Rs?Ls(t,e):function(t,e){var n=Os(t,e),r=js(n)+js(t.nn);return qo(n)&&qo(t.nn)?Yo(r):Jo(t.serializer,r)}(t,e)}function xs(t,e,n){return t instanceof Ds?Ps(t,e):t instanceof Rs?Ls(t,e):n}function Os(t,e){return t instanceof Ms?qo(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Cs=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n}(ks),Ds=function(t){function n(e){var n=this;return(n=t.call(this)||this).elements=e,n}return e(n,t),n}(ks);function Ps(t,e){for(var n=Us(e),r=function(t){n.some((function(e){return Co(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Rs=function(t){function n(e){var n=this;return(n=t.call(this)||this).elements=e,n}return e(n,t),n}(ks);function Ls(t,e){for(var n=Us(e),r=function(t){n=n.filter((function(e){return!Co(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ms=function(t){function n(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.nn=n,r}return e(n,t),n}(ks);function js(t){return Uo(t.integerValue||t.doubleValue)}function Us(t){return zo(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Vs=function(){function t(t){this.fields=t,t.sort(Di.$)}return t.prototype.un=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].j(t))return!0;return!1},t.prototype.isEqual=function(t){return Ai(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Fs=function(t,e){this.field=t,this.transform=e},qs=function(t,e){this.version=t,this.transformResults=e},zs=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.on=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"sn",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Bs(t,e){return void 0!==t.updateTime?e instanceof ua&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof ua}var Gs=function(){};function Ks(t,e,n){return t instanceof Js?function(t,e,n){return new ua(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof $s?function(t,e,n){if(!Bs(t.rn,e))return new ha(t.key,n.version);var r=Qs(t,e);return new ua(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Zs?function(t,e,n){if(pi(null!=n.transformResults),!Bs(t.rn,e))return new ha(t.key,n.version);var r=ta(0,e),i=function(t,e,n){var r=[];pi(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=null;e instanceof ua&&(a=e.field(o.field)),r.push(xs(s,a,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),o=n.version,s=ea(t,r.data(),i);return new ua(t.key,o,s,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new ca(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Hs(t,e,n,r){return t instanceof Js?function(t,e){if(!Bs(t.rn,e))return e;var n=Ys(e);return new ua(t.key,n,t.value,{an:!0})}(t,e):t instanceof $s?function(t,e){if(!Bs(t.rn,e))return e;var n=Ys(e),r=Qs(t,e);return new ua(t.key,n,r,{an:!0})}(t,e):t instanceof Zs?function(t,e,n,r){if(!Bs(t.rn,e))return e;var i=ta(0,e),o=function(t,e,n,r){for(var i=[],o=0,s=t;o<s.length;o++){var a=s[o],u=a.transform,c=null;n instanceof ua&&(c=n.field(a.field)),null===c&&r instanceof ua&&(c=r.field(a.field)),i.push(Ss(u,c,e))}return i}(t.fieldTransforms,n,e,r),s=ea(t,i.data(),o);return new ua(t.key,i.version,s,{an:!0})}(t,e,r,n):function(t,e){return Bs(t.rn,e)?new ca(t.key,Si.min()):e}(t,e)}function Ws(t,e){return t instanceof Zs?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e instanceof ua?e.field(o.field):void 0,a=Os(o.transform,s||null);null!=a&&(n=null==n?(new oa).set(o.field,a):n.set(o.field,a))}return n?n.hn():null}(t,e):null}function Xs(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.rn.isEqual(e.rn)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.en.isEqual(e.en):2!==t.type||Ai(t.fieldTransforms,t.fieldTransforms,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Ds&&e instanceof Ds||t instanceof Rs&&e instanceof Rs?Ai(t.elements,e.elements,Co):t instanceof Ms&&e instanceof Ms?Co(t.nn,e.nn):t instanceof Cs&&e instanceof Cs}(t.transform,e.transform)}(t,e)})))}function Ys(t){return t instanceof ua?t.version:Si.min()}var Js=function(t){function n(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.rn=r,i.type=0,i}return e(n,t),n}(Gs),$s=function(t){function n(e,n,r,i){var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.en=r,o.rn=i,o.type=1,o}return e(n,t),n}(Gs);function Qs(t,e){return function(t,e){var n=new oa(e);return t.en.fields.forEach((function(e){if(!e.W()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.hn()}(t,e instanceof ua?e.data():ia.empty())}var Zs=function(t){function n(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.rn=zs.exists(!0),r}return e(n,t),n}(Gs);function ta(t,e){return e}function ea(t,e,n){for(var r=new oa(e),i=0;i<t.fieldTransforms.length;i++){var o=t.fieldTransforms[i];r.set(o.field,n[i])}return r.hn()}var na=function(t){function n(e,n){var r=this;return(r=t.call(this)||this).key=e,r.rn=n,r.type=3,r}return e(n,t),n}(Gs),ra=function(t){function n(e,n){var r=this;return(r=t.call(this)||this).key=e,r.rn=n,r.type=4,r}return e(n,t),n}(Gs),ia=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.W())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Ko(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.K()])||null},t.prototype.isEqual=function(t){return Co(this.proto,t.proto)},t}(),oa=function(){function t(t){void 0===t&&(t=ia.empty()),this.ln=t,this._n=new Map}return t.prototype.set=function(t,e){return this.fn(t,e),this},t.prototype.delete=function(t){return this.fn(t,null),this},t.prototype.fn=function(t,e){for(var n=this._n,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Oo(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.K(),e)},t.prototype.hn=function(){var t=this.dn(Di.X(),this._n);return null!=t?new ia(t):this.ln},t.prototype.dn=function(t,e){var n=this,r=!1,i=this.ln.field(t),o=Ko(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var s=n.dn(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function sa(t){var e=[];return _o(t.fields||{},(function(t,n){var r=new Di([t]);if(Ko(n)){var i=sa(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++){var a=s[o];e.push(r.child(a))}}else e.push(r)})),new Vs(e)}var aa=function(t,e){this.key=t,this.version=e},ua=function(t){function n(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).wn=r,o.an=!!i.an,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return e(n,t),n.prototype.field=function(t){return this.wn.field(t)},n.prototype.data=function(){return this.wn},n.prototype.En=function(){return this.wn.proto},n.prototype.isEqual=function(t){return t instanceof n&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.an===t.an&&this.hasCommittedMutations===t.hasCommittedMutations&&this.wn.isEqual(t.wn)},n.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.wn.toString()+", {hasLocalMutations: "+this.an+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(n.prototype,"hasPendingWrites",{get:function(){return this.an||this.hasCommittedMutations},enumerable:!1,configurable:!0}),n}(aa),ca=function(t){function n(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return e(n,t),n.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(n.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),n.prototype.isEqual=function(t){return t instanceof n&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},n}(aa),ha=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(n.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),n.prototype.isEqual=function(t){return t instanceof n&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},n}(aa),la=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.Tn=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.In=null,this.mn=null,this.startAt,this.endAt};function fa(t,e,n,r,i,o,s,a){return new la(t,e,n,r,i,o,s,a)}function pa(t){return new la(t)}function da(t){return!Ri(t.limit)&&"F"===t.limitType}function va(t){return!Ri(t.limit)&&"L"===t.limitType}function ma(t){return t.Tn.length>0?t.Tn[0].field:null}function ya(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.An())return r.field}return null}function ga(t){return null!==t.collectionGroup}function ba(t){var e=di(t);if(null===e.In){e.In=[];var n=ya(e),r=ma(e);if(null!==n&&null===r)n.tt()||e.In.push(new Fa(n)),e.In.push(new Fa(Di.et(),"asc"));else{for(var i=!1,o=0,s=e.Tn;o<s.length;o++){var a=s[o];e.In.push(a),a.field.tt()&&(i=!0)}if(!i){var u=e.Tn.length>0?e.Tn[e.Tn.length-1].dir:"asc";e.In.push(new Fa(Di.et(),u))}}}return e.In}function wa(t){var e=di(t);if(!e.mn)if("F"===e.limitType)e.mn=Ui(e.path,e.collectionGroup,ba(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=ba(e);r<i.length;r++){var o=i[r],s="desc"===o.dir?"asc":"desc";n.push(new Fa(o.field,s))}var a=e.endAt?new Ma(e.endAt.position,!e.endAt.before):null,u=e.startAt?new Ma(e.startAt.position,!e.startAt.before):null;e.mn=Ui(e.path,e.collectionGroup,n,e.filters,e.limit,a,u)}return e.mn}function Ia(t,e,n){return new la(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ea(t,e){return Fi(wa(t),wa(e))&&t.limitType===e.limitType}function Ta(t){return Vi(wa(t))+"|lt:"+t.limitType}function _a(t){return"Query(target="+function(t){var e=t.path.J();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.J()+" "+e.op+" "+Lo(e.value);var e})).join(", ")+"]"),Ri(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.J()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+ja(t.startAt)),t.endAt&&(e+=", endAt: "+ja(t.endAt)),"Target("+e+")"}(wa(t))+"; limitType="+t.limitType+")"}function Aa(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.rt(t.collectionGroup)&&t.path.j(n):Pi.ot(t.path)?t.path.isEqual(n):t.path.G(n)}(t,e)&&function(t,e){for(var n=0,r=t.Tn;n<r.length;n++){var i=r[n];if(!i.field.tt()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Ua(t.startAt,ba(t),e)||t.endAt&&Ua(t.endAt,ba(t),e))}(t,e)}function Na(t){return function(e,n){for(var r=!1,i=0,o=ba(t);i<o.length;i++){var s=o[i],a=qa(s,e,n);if(0!==a)return a;r=r||s.field.tt()}return 0}}var ka=function(t){function n(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return e(n,t),n.create=function(t,e,r){return t.tt()?"in"===e||"not-in"===e?this.Rn(t,e,r):new Sa(t,e,r):"array-contains"===e?new Da(t,r):"in"===e?new Pa(t,r):"not-in"===e?new Ra(t,r):"array-contains-any"===e?new La(t,r):new n(t,e,r)},n.Rn=function(t,e,n){return"in"===e?new xa(t,n):new Oa(t,n)},n.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Pn(Po(e,this.value)):null!==e&&Oo(this.value)===Oo(e)&&this.Pn(Po(e,this.value))},n.prototype.Pn=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return fi()}},n.prototype.An=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},n}((function(){})),Sa=function(t){function n(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Pi.it(r.referenceValue),i}return e(n,t),n.prototype.matches=function(t){var e=Pi.$(t.key,this.key);return this.Pn(e)},n}(ka),xa=function(t){function n(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Ca(0,n),r}return e(n,t),n.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},n}(ka),Oa=function(t){function n(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Ca(0,n),r}return e(n,t),n.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},n}(ka);function Ca(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return Pi.it(t.referenceValue)}))}var Da=function(t){function n(e,n){return t.call(this,e,"array-contains",n)||this}return e(n,t),n.prototype.matches=function(t){var e=t.field(this.field);return zo(e)&&Do(e.arrayValue,this.value)},n}(ka),Pa=function(t){function n(e,n){return t.call(this,e,"in",n)||this}return e(n,t),n.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Do(this.value.arrayValue,e)},n}(ka),Ra=function(t){function n(e,n){return t.call(this,e,"not-in",n)||this}return e(n,t),n.prototype.matches=function(t){if(Do(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Do(this.value.arrayValue,e)},n}(ka),La=function(t){function n(e,n){return t.call(this,e,"array-contains-any",n)||this}return e(n,t),n.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!zo(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return Do(e.value.arrayValue,t)}))},n}(ka),Ma=function(t,e){this.position=t,this.before=e};function ja(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return Lo(t)})).join(",")}function Ua(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.tt()?Pi.$(Pi.it(s.referenceValue),n.key):Po(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Va(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Co(t.position[n],e.position[n]))return!1;return!0}var Fa=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function qa(t,e,n){var r=t.field.tt()?Pi.$(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Po(r,i):fi()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return fi()}}function za(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Ba=function(){function t(t,e,n,r){this.batchId=t,this.gn=e,this.baseMutations=n,this.mutations=r}return t.prototype.yn=function(t,e,n){for(var r=n.Vn,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=Ks(o,e,r[i]))}return e},t.prototype.pn=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=Hs(i,e,e,this.gn))}for(var o=e,s=0,a=this.mutations;s<a.length;s++){var u=a[s];u.key.isEqual(t)&&(e=Hs(u,e,o,this.gn))}return e},t.prototype.vn=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.pn(r.key,t.get(r.key));i&&(n=n.Tt(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),ao())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Ai(this.mutations,t.mutations,(function(t,e){return Xs(t,e)}))&&Ai(this.baseMutations,t.baseMutations,(function(t,e){return Xs(t,e)}))},t}(),Ga=function(){function t(t,e,n,r){this.batch=t,this.bn=e,this.Vn=n,this.Sn=r}return t.from=function(e,n,r){pi(e.mutations.length===r.length);for(var i=oo,o=e.mutations,s=0;s<o.length;s++)i=i.Tt(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Ka=function(){function t(t,e){this.Dn=t,this.Cn=e,this.Nn={}}return t.prototype.get=function(t){var e=this.Dn(t),n=this.Nn[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];if(this.Cn(s,t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.Dn(t),r=this.Nn[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.Cn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.Nn[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.Dn(t),n=this.Nn[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.Cn(n[r][0],t))return 1===n.length?delete this.Nn[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){_o(this.Nn,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];t(s,a)}}))},t.prototype.W=function(){return Ao(this.Nn)},t}(),Ha=function(){function t(t){var e=this;this.xn=null,this.Fn=null,this.result=void 0,this.error=void 0,this.On=!1,this.Mn=!1,t((function(t){e.On=!0,e.result=t,e.xn&&e.xn(t)}),(function(t){e.On=!0,e.error=t,e.Fn&&e.Fn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Mn&&fi(),this.Mn=!0,this.On?this.error?this.kn(n,this.error):this.$n(e,this.result):new t((function(t,i){r.xn=function(n){r.$n(e,n).next(t,i)},r.Fn=function(e){r.kn(n,e).next(t,i)}}))},t.prototype.Ln=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Bn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.$n=function(e,n){return e?this.Bn((function(){return e(n)})):t.resolve(n)},t.prototype.kn=function(e,n){return e?this.Bn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.qn=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.Un=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.qn(r)},t}(),Wa=function(){function t(){this.Qn=new Ka((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.Kn=!1}return t.prototype.Wn=function(t){var e=this.Qn.get(t);return e?e.readTime:Si.min()},t.prototype.jn=function(t,e){this.Gn(),this.Qn.set(t.key,{zn:t,readTime:e})},t.prototype.Hn=function(t,e){void 0===e&&(e=null),this.Gn(),this.Qn.set(t,{zn:null,readTime:e})},t.prototype.Jn=function(t,e){this.Gn();var n=this.Qn.get(e);return void 0!==n?Ha.resolve(n.zn):this.Yn(t,e)},t.prototype.getEntries=function(t,e){return this.Xn(t,e)},t.prototype.apply=function(t){return this.Gn(),this.Kn=!0,this.Zn(t)},t.prototype.Gn=function(){},t}(),Xa=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))};function Ya(t){return new Xo(t,!0)}function Ja(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var $a="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Qa=function(){function t(){this.ts=[]}return t.prototype.es=function(t){this.ts.push(t)},t.prototype.ns=function(){this.ts.forEach((function(t){return t()}))},t}(),Za=function(){function t(t,e,n){this.ss=t,this.rs=e,this.os=n}return t.prototype.cs=function(t,e){var n=this;return this.rs.us(t,e).next((function(r){return n.hs(t,e,r)}))},t.prototype.hs=function(t,e,n){return this.ss.Jn(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].pn(e,t);return t}))},t.prototype.ls=function(t,e,n){var r=no();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].pn(t,e);r=r.Tt(t,e)})),r},t.prototype._s=function(t,e){var n=this;return this.ss.getEntries(t,e).next((function(e){return n.fs(t,e)}))},t.prototype.fs=function(t,e){var n=this;return this.rs.ds(t,e).next((function(r){var i=n.ls(t,e,r),o=eo();return i.forEach((function(t,e){e||(e=new ca(t,Si.min())),o=o.Tt(t,e)})),o}))},t.prototype.ws=function(t,e,n){return function(t){return Pi.ot(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Es(t,e.path):ga(e)?this.Ts(t,e,n):this.Is(t,e,n)},t.prototype.Es=function(t,e){return this.cs(t,new Pi(e)).next((function(t){var e=io();return t instanceof ua&&(e=e.Tt(t.key,t)),e}))},t.prototype.Ts=function(t,e,n){var r=this,i=e.collectionGroup,o=io();return this.os.As(t,i).next((function(s){return Ha.forEach(s,(function(s){var a=function(t,e){return new la(e,null,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.Is(t,a,n).next((function(t){t.forEach((function(t,e){o=o.Tt(t,e)}))}))})).next((function(){return o}))}))},t.prototype.Is=function(t,e,n){var r,i,o=this;return this.ss.ws(t,e,n).next((function(n){return r=n,o.rs.Rs(t,e)})).next((function(e){return i=e,o.Ps(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,h=r.get(c),l=Hs(u,h,h,o.gn);r=l instanceof ua?r.Tt(c,l):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){Aa(e,n)||(r=r.remove(t))})),r}))},t.prototype.Ps=function(t,e,n){for(var r=ao(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof $s&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.ss.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof ua&&(c=c.Tt(t,e))})),c}))},t}(),tu=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.gs=n,this.ys=r}return t.Vs=function(e,n){for(var r=ao(),i=ao(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),eu=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.ps=function(t){return n.vs(t)},this.bs=function(t){return e.Ss(t)})}return t.prototype.vs=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.bs&&this.bs(t),t},t}();eu.Ds=-1;var nu=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Cs=t,this.Ns=e,this.xs=n,this.Fs=r,this.Os=i,this.Ms=0,this.ks=null,this.$s=Date.now(),this.reset()}return t.prototype.reset=function(){this.Ms=0},t.prototype.Ls=function(){this.Ms=this.Os},t.prototype.Bs=function(t){var e=this;this.cancel();var n=Math.floor(this.Ms+this.qs()),r=Math.max(0,Date.now()-this.$s),i=Math.max(0,n-r);i>0&&ui("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Ms+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.ks=this.Cs.Us(this.Ns,i,(function(){return e.$s=Date.now(),t()})),this.Ms*=this.Fs,this.Ms<this.xs&&(this.Ms=this.xs),this.Ms>this.Os&&(this.Ms=this.Os)},t.prototype.Qs=function(){null!==this.ks&&(this.ks.Ks(),this.ks=null)},t.prototype.cancel=function(){null!==this.ks&&(this.ks.cancel(),this.ks=null)},t.prototype.qs=function(){return(Math.random()-.5)*this.Ms},t}(),ru=function(){function t(e,n,r){this.name=e,this.version=n,this.Ws=r,12.2===t.js(f())&&ci("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return ui("SimpleDb","Removing database:",t),cu(window.indexedDB.deleteDatabase(t)).Ln()},t.Gs=function(){if("undefined"==typeof indexedDB)return!1;if(t.zs())return!0;var e=f(),n=t.js(e),r=0<n&&n<10,i=t.Hs(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.zs=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Js)},t.Ys=function(t,e){return t.store(e)},t.js=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Hs=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Xs=function(t){return i(this,void 0,void 0,(function(){var e,n=this;return o(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(ui("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new ou(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new mi(vi.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new ou(t,n))},i.onupgradeneeded=function(t){ui("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.Ws.createOrUpgrade(e,i.transaction,t.oldVersion,n.version).next((function(){ui("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Zs&&(this.db.onversionchange=function(t){return n.Zs(t)}),this.db)]}}))}))},t.prototype.ti=function(t){this.Zs=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return i(this,void 0,void 0,(function(){var i,s,a,u,c;return o(this,(function(h){switch(h.label){case 0:i="readonly"===e,s=0,a=function(){var e,a,c,h,l;return o(this,(function(o){switch(o.label){case 0:++s,o.label=1;case 1:return o.trys.push([1,4,,5]),[4,u.Xs(t)];case 2:return u.db=o.sent(),e=au.open(u.db,t,i?"readonly":"readwrite",n),a=r(e).catch((function(t){return e.abort(t),Ha.reject(t)})).Ln(),c={},a.catch((function(){})),[4,e.ei];case 3:return[2,(c.value=(o.sent(),a),c)];case 4:return h=o.sent(),l="FirebaseError"!==h.name&&s<3,ui("SimpleDb","Transaction failed with error:",h.message,"Retrying:",l),u.close(),l?[3,5]:[2,{value:Promise.reject(h)}];case 5:return[2]}}))},u=this,h.label=1;case 1:return[5,a()];case 2:if("object"==typeof(c=h.sent()))return[2,c.value];h.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),iu=function(){function t(t){this.ni=t,this.si=!1,this.ii=null}return Object.defineProperty(t.prototype,"On",{get:function(){return this.si},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ri",{get:function(){return this.ii},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ni=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.si=!0},t.prototype.oi=function(t){this.ii=t},t.prototype.delete=function(){return cu(this.ni.delete())},t}(),ou=function(t){function n(e,n){var r=this;return(r=t.call(this,vi.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return e(n,t),n}(mi);function su(t){return"IndexedDbTransactionError"===t.name}var au=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ci=new Xa,this.transaction.oncomplete=function(){n.ci.resolve()},this.transaction.onabort=function(){e.error?n.ci.reject(new ou(t,e.error)):n.ci.resolve()},this.transaction.onerror=function(e){var r=lu(e.target.error);n.ci.reject(new ou(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new ou(n,e)}},Object.defineProperty(t.prototype,"ei",{get:function(){return this.ci.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ci.reject(t),this.aborted||(ui("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new uu(e)},t}(),uu=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(ui("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(ui("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),cu(n)},t.prototype.add=function(t){return ui("SimpleDb","ADD",this.store.name,t,t),cu(this.store.add(t))},t.prototype.get=function(t){var e=this;return cu(this.store.get(t)).next((function(n){return void 0===n&&(n=null),ui("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return ui("SimpleDb","DELETE",this.store.name,t),cu(this.store.delete(t))},t.prototype.count=function(){return ui("SimpleDb","COUNT",this.store.name),cu(this.store.count())},t.prototype.ui=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.ai(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.hi=function(t,e){ui("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.li=!1;var r=this.cursor(n);return this.ai(r,(function(t,e,n){return n.delete()}))},t.prototype._i=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.ai(r,e)},t.prototype.fi=function(t){var e=this.cursor({});return new Ha((function(n,r){e.onerror=function(t){var e=lu(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.ai=function(t,e){var n=[];return new Ha((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new iu(i),s=e(i.primaryKey,i.value,o);if(s instanceof Ha){var a=s.catch((function(t){return o.done(),Ha.reject(t)}));n.push(a)}o.On?r():null===o.ri?i.continue():i.continue(o.ri)}else r()}})).next((function(){return Ha.qn(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.li?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function cu(t){return new Ha((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=lu(t.target.error);n(e)}}))}var hu=!1;function lu(t){var e=ru.js(f());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new mi("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return hu||(hu=!0,setTimeout((function(){throw r}),0)),r}}return t}function fu(){return"undefined"!=typeof window?window:null}function pu(){return"undefined"!=typeof document?document:null}var du=function(){function t(t,e,n,r,i){this.di=t,this.Ns=e,this.wi=n,this.op=r,this.Ei=i,this.Ti=new Xa,this.then=this.Ti.promise.then.bind(this.Ti.promise),this.Ti.promise.catch((function(t){}))}return t.Ii=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.mi=setTimeout((function(){return e.Ai()}),t)},t.prototype.Ks=function(){return this.Ai()},t.prototype.cancel=function(t){null!==this.mi&&(this.clearTimeout(),this.Ti.reject(new mi(vi.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Ai=function(){var t=this;this.di.Ri((function(){return null!==t.mi?(t.clearTimeout(),t.op().then((function(e){return t.Ti.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.mi&&(this.Ei(this),clearTimeout(this.mi),this.mi=null)},t}(),vu=function(){function t(){var t=this;this.Pi=Promise.resolve(),this.gi=[],this.yi=!1,this.Vi=[],this.pi=null,this.vi=!1,this.bi=[],this.Si=new nu(this,"async_queue_retry"),this.Di=function(){var e=pu();e&&ui("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Si.Qs()};var e=pu();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Di)}return Object.defineProperty(t.prototype,"Ci",{get:function(){return this.yi},enumerable:!1,configurable:!0}),t.prototype.Ri=function(t){this.enqueue(t)},t.prototype.Ni=function(t){this.xi(),this.Fi(t)},t.prototype.Oi=function(){if(!this.yi){this.yi=!0;var t=pu();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Di)}},t.prototype.enqueue=function(t){return this.xi(),this.yi?new Promise((function(t){})):this.Fi(t)},t.prototype.Mi=function(t){var e=this;this.Ri((function(){return e.gi.push(t),e.ki()}))},t.prototype.ki=function(){return i(this,void 0,void 0,(function(){var t,e=this;return o(this,(function(n){switch(n.label){case 0:if(0===this.gi.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.gi[0]()];case 2:return n.sent(),this.gi.shift(),this.Si.reset(),[3,4];case 3:if(!su(t=n.sent()))throw t;return ui("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.gi.length>0&&this.Si.Bs((function(){return e.ki()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Fi=function(t){var e=this,n=this.Pi.then((function(){return e.vi=!0,t().catch((function(t){throw e.pi=t,e.vi=!1,ci("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.vi=!1,t}))}));return this.Pi=n,n},t.prototype.Us=function(t,e,n){var r=this;this.xi(),this.bi.indexOf(t)>-1&&(e=0);var i=du.Ii(this,t,e,n,(function(t){return r.$i(t)}));return this.Vi.push(i),i},t.prototype.xi=function(){this.pi&&fi()},t.prototype.Li=function(){},t.prototype.Bi=function(){return i(this,void 0,void 0,(function(){var t;return o(this,(function(e){switch(e.label){case 0:return[4,t=this.Pi];case 1:e.sent(),e.label=2;case 2:if(t!==this.Pi)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.qi=function(t){for(var e=0,n=this.Vi;e<n.length;e++)if(n[e].Ns===t)return!0;return!1},t.prototype.Ui=function(t){var e=this;return this.Bi().then((function(){e.Vi.sort((function(t,e){return t.wi-e.wi}));for(var n=0,r=e.Vi;n<r.length;n++){var i=r[n];if(i.Ks(),"all"!==t&&i.Ns===t)break}return e.Bi()}))},t.prototype.Qi=function(t){this.bi.push(t)},t.prototype.$i=function(t){var e=this.Vi.indexOf(t);this.Vi.splice(e,1)},t}();function mu(t,e){if(ci("AsyncQueue",e+": "+t),su(t))return new mi(vi.UNAVAILABLE,e+": "+t);throw t}function yu(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],s=_i(n,i);return 0===s?_i(r,o):s}var gu=function(){function t(t){this.Ki=t,this.buffer=new Qi(yu),this.Wi=0}return t.prototype.ji=function(){return++this.Wi},t.prototype.Gi=function(t){var e=[t,this.ji()];if(this.buffer.size<this.Ki)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();yu(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),bu={zi:!1,Hi:0,Ji:0,Yi:0},wu=function(){function t(t,e,n){this.Xi=t,this.Zi=e,this.tr=n}return t.er=function(e){return new t(e,t.nr,t.sr)},t}();wu.nr=10,wu.sr=1e3,wu.ir=new wu(41943040,wu.nr,wu.sr),wu.rr=new wu(-1,0,0);var Iu=function(){function t(t,e){this.cr=t,this.di=e,this.ur=!1,this.ar=null}return t.prototype.start=function(t){-1!==this.cr.params.Xi&&this.hr(t)},t.prototype.stop=function(){this.ar&&(this.ar.cancel(),this.ar=null)},Object.defineProperty(t.prototype,"lr",{get:function(){return null!==this.ar},enumerable:!1,configurable:!0}),t.prototype.hr=function(t){var e=this,n=this.ur?3e5:6e4;ui("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ar=this.di.Us("lru_garbage_collection",n,(function(){return i(e,void 0,void 0,(function(){var e;return o(this,(function(n){switch(n.label){case 0:this.ar=null,this.ur=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t._r(this.cr)];case 2:return n.sent(),[3,7];case 3:return su(e=n.sent())?(ui("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Xc(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.hr(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),Eu=function(){function t(t,e){this.dr=t,this.params=e}return t.prototype.wr=function(t,e){return this.dr.Er(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Tr=function(t,e){var n=this;if(0===e)return Ha.resolve(eu.Ds);var r=new gu(e);return this.dr.Ue(t,(function(t){return r.Gi(t.sequenceNumber)})).next((function(){return n.dr.Ir(t,(function(t){return r.Gi(t)}))})).next((function(){return r.maxValue}))},t.prototype.mr=function(t,e,n){return this.dr.mr(t,e,n)},t.prototype.Ar=function(t,e){return this.dr.Ar(t,e)},t.prototype.Rr=function(t,e){var n=this;return-1===this.params.Xi?(ui("LruGarbageCollector","Garbage collection skipped; disabled"),Ha.resolve(bu)):this.Pr(t).next((function(r){return r<n.params.Xi?(ui("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Xi),bu):n.gr(t,e)}))},t.prototype.Pr=function(t){return this.dr.Pr(t)},t.prototype.gr=function(t,e){var n,r,i,o,s,a,u,c=this,h=Date.now();return this.wr(t,this.params.Zi).next((function(e){return e>c.params.tr?(ui("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.tr+" from "+e),r=c.params.tr):r=e,o=Date.now(),c.Tr(t,r)})).next((function(r){return n=r,s=Date.now(),c.mr(t,n,e)})).next((function(e){return i=e,a=Date.now(),c.Ar(t,n)})).next((function(t){return u=Date.now(),ai()<=S.DEBUG&&ui("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-h)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-h)+"ms"),Ha.resolve({zi:!0,Hi:r,Ji:i,Yi:t})}))},t}();function Tu(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Au(e)),e=_u(t.get(n),e);return Au(e)}function _u(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function Au(t){return t+""}function Nu(t){var e=t.length;if(pi(e>=2),2===e)return pi(""===t.charAt(0)&&""===t.charAt(1)),Oi.X();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("",o);switch((s<0||s>n)&&fi(),t.charAt(s+1)){case"":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"":i+=t.substring(o,s),i+="\0";break;case"":i+=t.substring(o,s+1);break;default:fi()}o=s+2}return new Oi(r)}var ku=function(t){this.yr=t};function Su(t,e){if(e.document)return function(t,e,n){var r=os(t,e.name),i=es(e.updateTime),o=new ia({mapValue:{fields:e.fields}});return new ua(r,i,o,{hasCommittedMutations:!!n})}(t.yr,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Pi.ct(e.noDocument.path),r=Pu(e.noDocument.readTime);return new ca(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Pi.ct(e.unknownDocument.path),o=Pu(e.unknownDocument.version);return new ha(i,o)}return fi()}function xu(t,e,n){var r=Ou(n),i=e.key.path.q().H();if(e instanceof ua){var o=function(t,e){return{name:is(t,e.key),fields:e.En().mapValue.fields,updateTime:Qo(t,e.version.M())}}(t.yr,e),s=e.hasCommittedMutations;return new sc(null,null,o,s,r,i)}if(e instanceof ca){var a=e.key.path.H(),u=Du(e.version),c=e.hasCommittedMutations;return new sc(null,new ic(a,u),null,c,r,i)}if(e instanceof ha){var h=e.key.path.H(),l=Du(e.version);return new sc(new oc(h,l),null,null,!0,r,i)}return fi()}function Ou(t){var e=t.M();return[e.seconds,e.nanoseconds]}function Cu(t){var e=new ki(t[0],t[1]);return Si.N(e)}function Du(t){var e=t.M();return new Zu(e.seconds,e.nanoseconds)}function Pu(t){var e=new ki(t.seconds,t.nanoseconds);return Si.N(e)}function Ru(t,e){var n=(e.baseMutations||[]).map((function(e){return fs(t.yr,e)})),r=e.mutations.map((function(e){return fs(t.yr,e)})),i=ki.fromMillis(e.localWriteTimeMs);return new Ba(e.batchId,i,n,r)}function Lu(t){var e,n,r=Pu(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Pu(t.lastLimboFreeSnapshotVersion):Si.min();return void 0!==t.query.documents?(pi(1===(n=t.query).documents.length),e=wa(pa(as(n.documents[0])))):e=function(t){return wa(vs(t))}(t.query),new Ki(e,t.targetId,0,t.lastListenSequenceNumber,r,i,zi.fromBase64String(t.resumeToken))}function Mu(t,e){var n,r=Du(e.ft),i=Du(e.lastLimboFreeSnapshotVersion);n=qi(e.target)?ps(t.yr,e.target):ds(t.yr,e.target);var o=e.resumeToken.toBase64();return new uc(e.targetId,Vi(e.target),r,o,e.sequenceNumber,i,n)}function ju(t){var e=vs({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Ia(e,e.limit,"L"):e}var Uu=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.os=n,this.Vr=r,this.pr={}}return t.vr=function(e,n,r,i){return pi(""!==e.uid),new t(e.u()?e.uid:"",n,r,i)},t.prototype.br=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return qu(t)._i({index:nc.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Sr=function(t,e,n,r){var i=this,o=zu(t),s=qu(t);return s.add({}).next((function(a){pi("number"==typeof a);for(var u=new Ba(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return ls(t.yr,e)})),i=n.mutations.map((function(e){return ls(t.yr,e)}));return new nc(e,n.batchId,n.gn.toMillis(),r,i)}(i.serializer,i.userId,u),h=[],l=new Qi((function(t,e){return _i(t.J(),e.J())})),f=0,p=r;f<p.length;f++){var d=p[f],v=rc.key(i.userId,d.key.path,a);l=l.add(d.key.path.q()),h.push(s.put(c)),h.push(o.put(v,rc.PLACEHOLDER))}return l.forEach((function(e){h.push(i.os.Dr(t,e))})),t.es((function(){i.pr[a]=u.keys()})),Ha.qn(h).next((function(){return u}))}))},t.prototype.Cr=function(t,e){var n=this;return qu(t).get(e).next((function(t){return t?(pi(t.userId===n.userId),Ru(n.serializer,t)):null}))},t.prototype.Nr=function(t,e){var n=this;return this.pr[e]?Ha.resolve(this.pr[e]):this.Cr(t,e).next((function(t){if(t){var r=t.keys();return n.pr[e]=r,r}return null}))},t.prototype.Fr=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return qu(t)._i({index:nc.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(pi(e.batchId>=r),o=Ru(n.serializer,e)),i.done()})).next((function(){return o}))},t.prototype.Or=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return qu(t)._i({index:nc.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.Mr=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return qu(t).ui(nc.userMutationsIndex,n).next((function(t){return t.map((function(t){return Ru(e.serializer,t)}))}))},t.prototype.us=function(t,e){var n=this,r=rc.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return zu(t)._i({range:i},(function(r,i,s){var a=r[0],u=r[1],c=r[2],h=Nu(u);if(a===n.userId&&e.path.isEqual(h))return qu(t).get(c).next((function(t){if(!t)throw fi();pi(t.userId===n.userId),o.push(Ru(n.serializer,t))}));s.done()})).next((function(){return o}))},t.prototype.ds=function(t,e){var n=this,r=new Qi(_i),i=[];return e.forEach((function(e){var o=rc.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=zu(t)._i({range:s},(function(t,i,o){var s=t[0],a=t[1],u=t[2],c=Nu(a);s===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()}));i.push(a)})),Ha.qn(i).next((function(){return n.kr(t,r)}))},t.prototype.Rs=function(t,e){var n=this,r=e.path,i=r.length+1,o=rc.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Qi(_i);return zu(t)._i({range:s},(function(t,e,o){var s=t[0],u=t[1],c=t[2],h=Nu(u);s===n.userId&&r.j(h)?h.length===i&&(a=a.add(c)):o.done()})).next((function(){return n.kr(t,a)}))},t.prototype.kr=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(qu(t).get(e).next((function(t){if(null===t)throw fi();pi(t.userId===n.userId),r.push(Ru(n.serializer,t))})))})),Ha.qn(i).next((function(){return r}))},t.prototype.$r=function(t,e){var n=this;return Fu(t.Lr,this.userId,e).next((function(r){return t.es((function(){n.Br(e.batchId)})),Ha.forEach(r,(function(e){return n.Vr.qr(t,e)}))}))},t.prototype.Br=function(t){delete this.pr[t]},t.prototype.Ur=function(t){var e=this;return this.br(t).next((function(n){if(!n)return Ha.resolve();var r=IDBKeyRange.lowerBound(rc.prefixForUser(e.userId)),i=[];return zu(t)._i({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Nu(t[1]);i.push(o)}else r.done()})).next((function(){pi(0===i.length)}))}))},t.prototype.Qr=function(t,e){return Vu(t,this.userId,e)},t.prototype.Kr=function(t){var e=this;return Bu(t).get(this.userId).next((function(t){return t||new ec(e.userId,-1,"")}))},t}();function Vu(t,e,n){var r=rc.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return zu(t)._i({range:o,li:!0},(function(t,n,r){var o=t[0],a=t[1];t[2],o===e&&a===i&&(s=!0),r.done()})).next((function(){return s}))}function Fu(t,e,n){var r=t.store(nc.store),i=t.store(rc.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r._i({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){pi(1===a)})));for(var c=[],h=0,l=n.mutations;h<l.length;h++){var f=l[h],p=rc.key(e,f.key.path,n.batchId);o.push(i.delete(p)),c.push(f.key)}return Ha.qn(o).next((function(){return c}))}function qu(t){return xc.Ys(t,nc.store)}function zu(t){return xc.Ys(t,rc.store)}function Bu(t){return xc.Ys(t,ec.store)}var Gu=function(){function t(t,e){this.serializer=t,this.os=e}return t.prototype.jn=function(t,e,n){return Wu(t).put(Xu(e),n)},t.prototype.Hn=function(t,e){var n=Wu(t),r=Xu(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.Wr(t,r)}))},t.prototype.Jn=function(t,e){var n=this;return Wu(t).get(Xu(e)).next((function(t){return n.jr(t)}))},t.prototype.Gr=function(t,e){var n=this;return Wu(t).get(Xu(e)).next((function(t){var e=n.jr(t);return e?{zn:e,size:Yu(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=no();return this.zr(t,e,(function(t,e){var i=n.jr(e);r=r.Tt(t,i)})).next((function(){return r}))},t.prototype.Hr=function(t,e){var n=this,r=no(),i=new Yi(Pi.$);return this.zr(t,e,(function(t,e){var o=n.jr(e);o?(r=r.Tt(t,o),i=i.Tt(t,Yu(e))):(r=r.Tt(t,null),i=i.Tt(t,0))})).next((function(){return{Jr:r,Yr:i}}))},t.prototype.zr=function(t,e,n){if(e.W())return Ha.resolve();var r=IDBKeyRange.bound(e.first().path.H(),e.last().path.H()),i=e.yt(),o=i.Ct();return Wu(t)._i({range:r},(function(t,e,r){for(var s=Pi.ct(t);o&&Pi.$(o,s)<0;)n(o,null),o=i.Ct();o&&o.isEqual(s)&&(n(o,e),o=i.Nt()?i.Ct():null),o?r.oi(o.path.H()):r.done()})).next((function(){for(;o;)n(o,null),o=i.Nt()?i.Ct():null}))},t.prototype.ws=function(t,e,n){var r=this,i=io(),o=e.path.length+1,s={};if(n.isEqual(Si.min())){var a=e.path.H();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.H(),c=Ou(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=sc.collectionReadTimeIndex}return Wu(t)._i(s,(function(t,n,s){if(t.length===o){var a=Su(r.serializer,n);e.path.j(a.key.path)?a instanceof ua&&Aa(e,a)&&(i=i.Tt(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.Xr=function(t){return new Ku(this,!!t&&t.Zr)},t.prototype.eo=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Hu(t).get(ac.key).next((function(t){return pi(!!t),t}))},t.prototype.Wr=function(t,e){return Hu(t).put(ac.key,e)},t.prototype.jr=function(t){if(t){var e=Su(this.serializer,t);return e instanceof ca&&e.version.isEqual(Si.min())?null:e}return null},t}(),Ku=function(t){function n(e,n){var r=this;return(r=t.call(this)||this).no=e,r.Zr=n,r.so=new Ka((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return e(n,t),n.prototype.Zn=function(t){var e=this,n=[],r=0,i=new Qi((function(t,e){return _i(t.J(),e.J())}));return this.Qn.forEach((function(o,s){var a=e.so.get(o);if(s.zn){var u=xu(e.no.serializer,s.zn,e.Wn(o));i=i.add(o.path.q());var c=Yu(u);r+=c-a,n.push(e.no.jn(t,o,u))}else if(r-=a,e.Zr){var h=xu(e.no.serializer,new ca(o,Si.min()),e.Wn(o));n.push(e.no.jn(t,o,h))}else n.push(e.no.Hn(t,o))})),i.forEach((function(r){n.push(e.no.os.Dr(t,r))})),n.push(this.no.updateMetadata(t,r)),Ha.qn(n)},n.prototype.Yn=function(t,e){var n=this;return this.no.Gr(t,e).next((function(t){return null===t?(n.so.set(e,0),null):(n.so.set(e,t.size),t.zn)}))},n.prototype.Xn=function(t,e){var n=this;return this.no.Hr(t,e).next((function(t){var e=t.Jr;return t.Yr.forEach((function(t,e){n.so.set(t,e)})),e}))},n}(Wa);function Hu(t){return xc.Ys(t,ac.store)}function Wu(t){return xc.Ys(t,sc.store)}function Xu(t){return t.path.H()}function Yu(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw fi();e=t.noDocument}return JSON.stringify(e).length}var Ju=function(){function t(){this.io=new $u}return t.prototype.Dr=function(t,e){return this.io.add(e),Ha.resolve()},t.prototype.As=function(t,e){return Ha.resolve(this.io.getEntries(e))},t}(),$u=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.K(),n=t.q(),r=this.index[e]||new Qi(Oi.$),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.K(),n=t.q(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Qi(Oi.$)).H()},t}(),Qu=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;pi(n<r&&n>=0&&r<=11);var o=new au("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(tc.store)}(t),function(t){t.createObjectStore(ec.store,{keyPath:ec.keyPath}),t.createObjectStore(nc.store,{keyPath:nc.keyPath,autoIncrement:!0}).createIndex(nc.userMutationsIndex,nc.userMutationsKeyPath,{unique:!0}),t.createObjectStore(rc.store)}(t),fc(t),function(t){t.createObjectStore(sc.store)}(t));var s=Ha.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(cc.store),t.deleteObjectStore(uc.store),t.deleteObjectStore(hc.store)}(t),fc(t)),s=s.next((function(){return function(t){var e=t.store(hc.store),n=new hc(0,0,Si.min().M(),0);return e.put(hc.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(nc.store).ui().next((function(n){t.deleteObjectStore(nc.store),t.createObjectStore(nc.store,{keyPath:nc.keyPath,autoIncrement:!0}).createIndex(nc.userMutationsIndex,nc.userMutationsKeyPath,{unique:!0});var r=e.store(nc.store),i=n.map((function(t){return r.put(t)}));return Ha.qn(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(pc.store,{keyPath:pc.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(ac.store)}(t),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.createCollectionParentIndex(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(sc.store);e.createIndex(sc.readTimeIndex,sc.readTimeIndexPath,{unique:!1}),e.createIndex(sc.collectionReadTimeIndex,sc.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.rewriteCanonicalIds(o)}))),n<11&&r>=11&&(s=s.next((function(){!function(t){t.createObjectStore(dc.store,{keyPath:dc.keyPath})}(t),function(t){t.createObjectStore(vc.store,{keyPath:vc.keyPath})}(t)}))),s},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(sc.store)._i((function(t,n){e+=Yu(n)})).next((function(){var n=new ac(e);return t.store(ac.store).put(ac.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(ec.store),r=t.store(nc.store);return n.ui().next((function(n){return Ha.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.ui(nc.userMutationsIndex,i).next((function(r){return Ha.forEach(r,(function(r){pi(r.userId===n.userId);var i=Ru(e.serializer,r);return Fu(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(cc.store),n=t.store(sc.store);return t.store(hc.store).get(hc.key).next((function(t){var r=[];return n._i((function(n,i){var o=new Oi(n),s=function(t){return[0,Tu(t)]}(o);r.push(e.get(s).next((function(n){return n?Ha.resolve():function(n){return e.put(new cc(0,Tu(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return Ha.qn(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(lc.store,{keyPath:lc.keyPath});var n=e.store(lc.store),r=new $u,i=function(t){if(r.add(t)){var e=t.K(),i=t.q();return n.put({collectionId:e,parent:Tu(i)})}};return e.store(sc.store)._i({li:!0},(function(t,e){var n=new Oi(t);return i(n.q())})).next((function(){return e.store(rc.store)._i({li:!0},(function(t,e){t[0];var n=t[1],r=(t[2],Nu(n));return i(r.q())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(uc.store);return n._i((function(t,r){var i=Lu(r),o=Mu(e.serializer,i);return n.put(o)}))},t}(),Zu=function(t,e){this.seconds=t,this.nanoseconds=e},tc=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};tc.store="owner",tc.key="owner";var ec=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};ec.store="mutationQueues",ec.keyPath="userId";var nc=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};nc.store="mutations",nc.keyPath="batchId",nc.userMutationsIndex="userMutationsIndex",nc.userMutationsKeyPath=["userId","batchId"];var rc=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Tu(e)]},t.key=function(t,e,n){return[t,Tu(e),n]},t}();rc.store="documentMutations",rc.PLACEHOLDER=new rc;var ic=function(t,e){this.path=t,this.readTime=e},oc=function(t,e){this.path=t,this.version=e},sc=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};sc.store="remoteDocuments",sc.readTimeIndex="readTimeIndex",sc.readTimeIndexPath="readTime",sc.collectionReadTimeIndex="collectionReadTimeIndex",sc.collectionReadTimeIndexPath=["parentPath","readTime"];var ac=function(t){this.byteSize=t};ac.store="remoteDocumentGlobal",ac.key="remoteDocumentGlobalKey";var uc=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};uc.store="targets",uc.keyPath="targetId",uc.queryTargetsIndexName="queryTargetsIndex",uc.queryTargetsKeyPath=["canonicalId","targetId"];var cc=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};cc.store="targetDocuments",cc.keyPath=["targetId","path"],cc.documentTargetsIndex="documentTargetsIndex",cc.documentTargetsKeyPath=["path","targetId"];var hc=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};hc.key="targetGlobalKey",hc.store="targetGlobal";var lc=function(t,e){this.collectionId=t,this.parent=e};function fc(t){t.createObjectStore(cc.store,{keyPath:cc.keyPath}).createIndex(cc.documentTargetsIndex,cc.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(uc.store,{keyPath:uc.keyPath}).createIndex(uc.queryTargetsIndexName,uc.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(hc.store)}lc.store="collectionParents",lc.keyPath=["collectionId","parent"];var pc=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};pc.store="clientMetadata",pc.keyPath="clientId";var dc=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};dc.store="bundles",dc.keyPath="bundleId";var vc=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};vc.store="namedQueries",vc.keyPath="name";var mc=c(c(c(c([ec.store,nc.store,rc.store,sc.store,uc.store,tc.store,hc.store,cc.store],[pc.store]),[ac.store]),[lc.store]),[dc.store,vc.store]),yc=function(){function t(t){this.serializer=t}return t.prototype.ro=function(t,e){return gc(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Pu(e.createTime),version:e.version};var e}))},t.prototype.oo=function(t,e){return gc(t).put({bundleId:(n=e).id,createTime:Du(es(n.createTime)),version:n.version});var n},t.prototype.co=function(t,e){return bc(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:ju(e.bundledQuery),readTime:Pu(e.readTime)};var e}))},t.prototype.uo=function(t,e){return bc(t).put(function(t){return{name:t.name,readTime:Du(es(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function gc(t){return xc.Ys(t,dc.store)}function bc(t){return xc.Ys(t,vc.store)}var wc=function(){function t(){this.ao=new $u}return t.prototype.Dr=function(t,e){var n=this;if(!this.ao.has(e)){var r=e.K(),i=e.q();t.es((function(){n.ao.add(e)}));var o={collectionId:r,parent:Tu(i)};return Ic(t).put(o)}return Ha.resolve()},t.prototype.As=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Ni(e),""],!1,!0);return Ic(t).ui(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Nu(o.parent))}return n}))},t}();function Ic(t){return xc.Ys(t,lc.store)}var Ec=function(){function t(t){this.ho=t}return t.prototype.next=function(){return this.ho+=2,this.ho},t.lo=function(){return new t(0)},t._o=function(){return new t(-1)},t}(),Tc=function(){function t(t,e){this.Vr=t,this.serializer=e}return t.prototype.fo=function(t){var e=this;return this.wo(t).next((function(n){var r=new Ec(n.highestTargetId);return n.highestTargetId=r.next(),e.Eo(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.To=function(t){return this.wo(t).next((function(t){return Si.N(new ki(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.Io=function(t){return this.wo(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.mo=function(t,e,n){var r=this;return this.wo(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.M()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Eo(t,i)}))},t.prototype.Ao=function(t,e){var n=this;return this.Ro(t,e).next((function(){return n.wo(t).next((function(r){return r.targetCount+=1,n.Po(e,r),n.Eo(t,r)}))}))},t.prototype.yo=function(t,e){return this.Ro(t,e)},t.prototype.Vo=function(t,e){var n=this;return this.po(t,e.targetId).next((function(){return _c(t).delete(e.targetId)})).next((function(){return n.wo(t)})).next((function(e){return pi(e.targetCount>0),e.targetCount-=1,n.Eo(t,e)}))},t.prototype.mr=function(t,e,n){var r=this,i=0,o=[];return _c(t)._i((function(s,a){var u=Lu(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Vo(t,u)))})).next((function(){return Ha.qn(o)})).next((function(){return i}))},t.prototype.Ue=function(t,e){return _c(t)._i((function(t,n){var r=Lu(n);e(r)}))},t.prototype.wo=function(t){return Ac(t).get(hc.key).next((function(t){return pi(null!==t),t}))},t.prototype.Eo=function(t,e){return Ac(t).put(hc.key,e)},t.prototype.Ro=function(t,e){return _c(t).put(Mu(this.serializer,e))},t.prototype.Po=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.vo=function(t){return this.wo(t).next((function(t){return t.targetCount}))},t.prototype.bo=function(t,e){var n=Vi(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return _c(t)._i({range:r,index:uc.queryTargetsIndexName},(function(t,n,r){var o=Lu(n);Fi(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.So=function(t,e,n){var r=this,i=[],o=Nc(t);return e.forEach((function(e){var s=Tu(e.path);i.push(o.put(new cc(n,s))),i.push(r.Vr.Do(t,n,e))})),Ha.qn(i)},t.prototype.Co=function(t,e,n){var r=this,i=Nc(t);return Ha.forEach(e,(function(e){var o=Tu(e.path);return Ha.qn([i.delete([n,o]),r.Vr.No(t,n,e)])}))},t.prototype.po=function(t,e){var n=Nc(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.xo=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Nc(t),i=ao();return r._i({range:n,li:!0},(function(t,e,n){var r=Nu(t[1]),o=new Pi(r);i=i.add(o)})).next((function(){return i}))},t.prototype.Qr=function(t,e){var n=Tu(e.path),r=IDBKeyRange.bound([n],[Ni(n)],!1,!0),i=0;return Nc(t)._i({index:cc.documentTargetsIndex,li:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Ze=function(t,e){return _c(t).get(e).next((function(t){return t?Lu(t):null}))},t}();function _c(t){return xc.Ys(t,uc.store)}function Ac(t){return xc.Ys(t,hc.store)}function Nc(t){return xc.Ys(t,cc.store)}var kc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Sc=function(t){function n(e,n){var r=this;return(r=t.call(this)||this).Lr=e,r.Fo=n,r}return e(n,t),n}(Qa),xc=function(){function t(e,n,r,i,o,s,a,u,c,h){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Cs=o,this.window=s,this.document=a,this.Oo=c,this.Mo=h,this.ko=null,this.$o=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Lo=null,this.inForeground=!1,this.Bo=null,this.qo=null,this.Uo=Number.NEGATIVE_INFINITY,this.Qo=function(t){return Promise.resolve()},!t.Gs())throw new mi(vi.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Vr=new Dc(this,i),this.Ko=n+"main",this.serializer=new ku(u),this.Wo=new ru(this.Ko,11,new Qu(this.serializer)),this.jo=new Tc(this.Vr,this.serializer),this.os=new wc,this.ss=function(t,e){return new Gu(t,e)}(this.serializer,this.os),this.Go=new yc(this.serializer),this.window&&this.window.localStorage?this.zo=this.window.localStorage:(this.zo=null,!1===h&&ci("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Ys=function(t,e){if(t instanceof Sc)return ru.Ys(t.Lr,e);throw fi()},t.prototype.start=function(){var t=this;return this.Ho().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new mi(vi.FAILED_PRECONDITION,kc);return t.Jo(),t.Yo(),t.Xo(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.jo.Io(e)}))})).then((function(e){t.ko=new eu(e,t.Oo)})).then((function(){t.$o=!0})).catch((function(e){return t.Wo&&t.Wo.close(),Promise.reject(e)}))},t.prototype.Zo=function(t){var e=this;return this.Qo=function(n){return i(e,void 0,void 0,(function(){return o(this,(function(e){return this.lr?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.tc=function(t){var e=this;this.Wo.ti((function(n){return i(e,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.ec=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Cs.Ri((function(){return i(e,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return this.lr?[4,this.Ho()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.Ho=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Cc(e).put(new pc(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.nc(e).next((function(e){e||(t.isPrimary=!1,t.Cs.Mi((function(){return t.Qo(!1)})))}))})).next((function(){return t.sc(e)})).next((function(n){return t.isPrimary&&!n?t.ic(e).next((function(){return!1})):!!n&&t.rc(e).next((function(){return!0}))}))})).catch((function(e){if(su(e))return ui("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return ui("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Cs.Mi((function(){return t.Qo(e)})),t.isPrimary=e}))},t.prototype.nc=function(t){var e=this;return Oc(t).get(tc.key).next((function(t){return Ha.resolve(e.oc(t))}))},t.prototype.cc=function(t){return Cc(t).delete(this.clientId)},t.prototype.uc=function(){return i(this,void 0,void 0,(function(){var e,n,r,i,s=this;return o(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.ac(this.Uo,18e5)?[3,2]:(this.Uo=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var n=t.Ys(e,pc.store);return n.ui().next((function(t){var e=s.hc(t,18e5),r=t.filter((function(t){return-1===e.indexOf(t)}));return Ha.forEach(r,(function(t){return n.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=o.sent(),this.zo)for(n=0,r=e;n<r.length;n++)i=r[n],this.zo.removeItem(this.lc(i.clientId));o.label=2;case 2:return[2]}}))}))},t.prototype.Xo=function(){var t=this;this.qo=this.Cs.Us("client_metadata_refresh",4e3,(function(){return t.Ho().then((function(){return t.uc()})).then((function(){return t.Xo()}))}))},t.prototype.oc=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.sc=function(t){var e=this;return this.Mo?Ha.resolve(!0):Oc(t).get(tc.key).next((function(n){if(null!==n&&e.ac(n.leaseTimestampMs,5e3)&&!e._c(n.ownerId)){if(e.oc(n)&&e.networkEnabled)return!0;if(!e.oc(n)){if(!n.allowTabSynchronization)throw new mi(vi.FAILED_PRECONDITION,kc);return!1}}return!(!e.networkEnabled||!e.inForeground)||Cc(t).ui().next((function(t){return void 0===e.hc(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&ui("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.fc=function(){return i(this,void 0,void 0,(function(){var t=this;return o(this,(function(e){switch(e.label){case 0:return this.$o=!1,this.dc(),this.qo&&(this.qo.cancel(),this.qo=null),this.wc(),this.Ec(),[4,this.Wo.runTransaction("shutdown","readwrite",[tc.store,pc.store],(function(e){var n=new Sc(e,eu.Ds);return t.ic(n).next((function(){return t.cc(n)}))}))];case 1:return e.sent(),this.Wo.close(),this.Tc(),[2]}}))}))},t.prototype.hc=function(t,e){var n=this;return t.filter((function(t){return n.ac(t.updateTimeMs,e)&&!n._c(t.clientId)}))},t.prototype.Ic=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Cc(e).ui().next((function(e){return t.hc(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"lr",{get:function(){return this.$o},enumerable:!1,configurable:!0}),t.prototype.mc=function(t){return Uu.vr(t,this.serializer,this.os,this.Vr)},t.prototype.Ac=function(){return this.jo},t.prototype.Rc=function(){return this.ss},t.prototype.Pc=function(){return this.os},t.prototype.gc=function(){return this.Go},t.prototype.runTransaction=function(t,e,n){var r=this;ui("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.Wo.runTransaction(t,o,mc,(function(o){return i=new Sc(o,r.ko?r.ko.next():eu.Ds),"readwrite-primary"===e?r.nc(i).next((function(t){return!!t||r.sc(i)})).next((function(e){if(!e)throw ci("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Cs.Mi((function(){return r.Qo(!1)})),new mi(vi.FAILED_PRECONDITION,$a);return n(i)})).next((function(t){return r.rc(i).next((function(){return t}))})):r.yc(i).next((function(){return n(i)}))})).then((function(t){return i.ns(),t}))},t.prototype.yc=function(t){var e=this;return Oc(t).get(tc.key).next((function(t){if(null!==t&&e.ac(t.leaseTimestampMs,5e3)&&!e._c(t.ownerId)&&!e.oc(t)&&!(e.Mo||e.allowTabSynchronization&&t.allowTabSynchronization))throw new mi(vi.FAILED_PRECONDITION,kc)}))},t.prototype.rc=function(t){var e=new tc(this.clientId,this.allowTabSynchronization,Date.now());return Oc(t).put(tc.key,e)},t.Gs=function(){return ru.Gs()},t.prototype.ic=function(t){var e=this,n=Oc(t);return n.get(tc.key).next((function(t){return e.oc(t)?(ui("IndexedDbPersistence","Releasing primary lease."),n.delete(tc.key)):Ha.resolve()}))},t.prototype.ac=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(ci("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Jo=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Bo=function(){t.Cs.Ri((function(){return t.inForeground="visible"===t.document.visibilityState,t.Ho()}))},this.document.addEventListener("visibilitychange",this.Bo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.wc=function(){this.Bo&&(this.document.removeEventListener("visibilitychange",this.Bo),this.Bo=null)},t.prototype.Yo=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Lo=function(){e.dc(),e.Cs.Ri((function(){return e.fc()}))},this.window.addEventListener("unload",this.Lo))},t.prototype.Ec=function(){this.Lo&&(this.window.removeEventListener("unload",this.Lo),this.Lo=null)},t.prototype._c=function(t){var e;try{var n=null!==(null===(e=this.zo)||void 0===e?void 0:e.getItem(this.lc(t)));return ui("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return ci("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.dc=function(){if(this.zo)try{this.zo.setItem(this.lc(this.clientId),String(Date.now()))}catch(t){ci("Failed to set zombie client id.",t)}},t.prototype.Tc=function(){if(this.zo)try{this.zo.removeItem(this.lc(this.clientId))}catch(t){}},t.prototype.lc=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Oc(t){return xc.Ys(t,tc.store)}function Cc(t){return xc.Ys(t,pc.store)}var Dc=function(){function t(t,e){this.db=t,this.cr=new Eu(this,e)}return t.prototype.Er=function(t){var e=this.Vc(t);return this.db.Ac().vo(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Vc=function(t){var e=0;return this.Ir(t,(function(t){e++})).next((function(){return e}))},t.prototype.Ue=function(t,e){return this.db.Ac().Ue(t,e)},t.prototype.Ir=function(t,e){return this.vc(t,(function(t,n){return e(n)}))},t.prototype.Do=function(t,e,n){return Pc(t,n)},t.prototype.No=function(t,e,n){return Pc(t,n)},t.prototype.mr=function(t,e,n){return this.db.Ac().mr(t,e,n)},t.prototype.qr=function(t,e){return Pc(t,e)},t.prototype.bc=function(t,e){return function(t,e){var n=!1;return Bu(t).fi((function(r){return Vu(t,r,e).next((function(t){return t&&(n=!0),Ha.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.Ar=function(t,e){var n=this,r=this.db.Rc().Xr(),i=[],o=0;return this.vc(t,(function(s,a){if(a<=e){var u=n.bc(t,s).next((function(e){if(!e)return o++,r.Jn(t,s).next((function(){return r.Hn(s),Nc(t).delete([0,Tu(s.path)])}))}));i.push(u)}})).next((function(){return Ha.qn(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.dt(t.Fo);return this.db.Ac().yo(t,n)},t.prototype.Sc=function(t,e){return Pc(t,e)},t.prototype.vc=function(t,e){var n,r=Nc(t),i=eu.Ds;return r._i({index:cc.documentTargetsIndex},(function(t,r){var o=t[0],s=(t[1],r.path),a=r.sequenceNumber;0===o?(i!==eu.Ds&&e(new Pi(Nu(n)),i),i=a,n=s):i=eu.Ds})).next((function(){i!==eu.Ds&&e(new Pi(Nu(n)),i)}))},t.prototype.Pr=function(t){return this.db.Rc().eo(t)},t}();function Pc(t,e){return Nc(t).put(function(t,e){return new cc(0,Tu(t.path),e)}(e,t.Fo))}function Rc(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Lc=function(){function t(t,e,n,r){this.persistence=t,this.Dc=e,this.serializer=r,this.Cc=new Yi(_i),this.Nc=new Ka((function(t){return Vi(t)}),Fi),this.xc=Si.min(),this.rs=t.mc(n),this.Fc=t.Rc(),this.jo=t.Ac(),this.Oc=new Za(this.Fc,this.rs,this.persistence.Pc()),this.Go=t.gc(),this.Dc.Mc(this.Oc)}return t.prototype._r=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.Rr(n,e.Cc)}))},t}();function Mc(t,e,n,r){return new Lc(t,e,n,r)}function jc(t,e){return i(this,void 0,void 0,(function(){var n,r,i,s;return o(this,(function(o){switch(o.label){case 0:return n=di(t),r=n.rs,i=n.Oc,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n.rs.Mr(t).next((function(s){return o=s,r=n.persistence.mc(e),i=new Za(n.Fc,r,n.persistence.Pc()),r.Mr(t)})).next((function(e){for(var n=[],r=[],s=ao(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var h=0,l=c.mutations;h<l.length;h++){var f=l[h];s=s.add(f.key)}}for(var p=0,d=e;p<d.length;p++){var v=d[p];r.push(v.batchId);for(var m=0,y=v.mutations;m<y.length;m++){var g=y[m];s=s.add(g.key)}}return i._s(t,s).next((function(t){return{kc:t,$c:n,Lc:r}}))}))}))];case 1:return s=o.sent(),[2,(n.rs=r,n.Oc=i,n.Dc.Mc(n.Oc),s)]}}))}))}function Uc(t,e){var n=di(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Fc.Xr({Zr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=Ha.resolve();return o.forEach((function(t){s=s.next((function(){return r.Jn(e,t)})).next((function(e){var o=e,s=n.Sn.get(t);pi(null!==s),(!o||o.version.F(s)<0)&&(o=i.yn(t,o,n))&&r.jn(o,n.bn)}))})),s.next((function(){return t.rs.$r(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.rs.Ur(t)})).next((function(){return n.Oc._s(t,r)}))}))}function Vc(t){var e=di(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.jo.To(t)}))}function Fc(t,e){var n=di(t),r=e.ft,i=n.Cc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Fc.Xr({Zr:!0});i=n.Cc;var s=[];e.re.forEach((function(e,o){var a=i.get(o);if(a){s.push(n.jo.Co(t,e.de,o).next((function(){return n.jo.So(t,e._e,o)})));var u=e.resumeToken;if(u.ht()>0){var c=a.wt(u,r).dt(t.Fo);i=i.Tt(o,c),function(t,e,n){return pi(e.resumeToken.ht()>0),0===t.resumeToken.ht()||e.ft.O()-t.ft.O()>=3e8||n._e.size+n.fe.size+n.de.size>0}(a,c,e)&&s.push(n.jo.yo(t,c))}}}));var a=eo();if(e.ce.forEach((function(r,i){e.ue.has(r)&&s.push(n.persistence.Vr.Sc(t,r))})),s.push(function(t,e,n,r,i){var o=ao();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var i=eo();return n.forEach((function(n,o){var s=t.get(n),a=r;o instanceof ca&&o.version.isEqual(Si.min())?(e.Hn(n,a),i=i.Tt(n,o)):null==s||o.version.F(s.version)>0||0===o.version.F(s.version)&&s.hasPendingWrites?(e.jn(o,a),i=i.Tt(n,o)):ui("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),i}))}(t,o,e.ce,r).next((function(t){a=t}))),!r.isEqual(Si.min())){var u=n.jo.To(t).next((function(e){return n.jo.mo(t,t.Fo,r)}));s.push(u)}return Ha.qn(s).next((function(){return o.apply(t)})).next((function(){return n.Oc.fs(t,a)}))})).then((function(t){return n.Cc=i,t}))}function qc(t,e){var n=di(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.rs.Fr(t,e)}))}function zc(t,e){var n=di(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.jo.bo(t,e).next((function(i){return i?(r=i,Ha.resolve(r)):n.jo.fo(t).next((function(i){return r=new Ki(e,i,0,t.Fo),n.jo.Ao(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Cc.get(t.targetId);return(null===r||t.ft.F(r.ft)>0)&&(n.Cc=n.Cc.Tt(t.targetId,t),n.Nc.set(e,t.targetId)),t}))}function Bc(t,e,n){return i(this,void 0,void 0,(function(){var r,i,s,a;return o(this,(function(o){switch(o.label){case 0:r=di(t),i=r.Cc.get(e),s=n?"readwrite":"readwrite-primary",o.label=1;case 1:return o.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,(function(t){return r.persistence.Vr.removeTarget(t,i)}))];case 2:o.sent(),o.label=3;case 3:return[3,5];case 4:if(!su(a=o.sent()))throw a;return ui("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.Cc=r.Cc.remove(e),r.Nc.delete(i.target),[2]}}))}))}function Gc(t,e,n){var r=di(t),i=Si.min(),o=ao();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=di(t),i=r.Nc.get(n);return void 0!==i?Ha.resolve(r.Cc.get(i)):r.jo.bo(e,n)}(r,t,wa(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.jo.xo(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.Dc.ws(t,e,n?i:Si.min(),n?o:ao())})).next((function(t){return{documents:t,Bc:o}}))}))}function Kc(t,e){var n=di(t),r=di(n.jo),i=n.Cc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Ze(t,e).next((function(t){return t?t.target:null}))}))}function Hc(t){var e=di(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=di(t),i=eo(),o=Ou(n),s=Wu(e),a=IDBKeyRange.lowerBound(o,!0);return s._i({index:sc.readTimeIndex,range:a},(function(t,e){var n=Su(r.serializer,e);i=i.Tt(n.key,n),o=e.readTime})).next((function(){return{qc:i,readTime:Cu(o)}}))}(e.Fc,t,e.xc)})).then((function(t){var n=t.qc,r=t.readTime;return e.xc=r,n}))}function Wc(t){return i(this,void 0,void 0,(function(){var e;return o(this,(function(n){return[2,(e=di(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=Wu(t),n=Si.min();return e._i({index:sc.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Cu(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.xc=t}))]}))}))}function Xc(t){return i(this,void 0,void 0,(function(){return o(this,(function(e){if(t.code!==vi.FAILED_PRECONDITION||t.message!==$a)throw t;return ui("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}var Yc=function(){function t(t,e,n,r,i,o){this.Cs=t,this.Uc=n,this.Qc=r,this.Kc=i,this.listener=o,this.state=0,this.Wc=0,this.jc=null,this.stream=null,this.Si=new nu(t,e)}return t.prototype.Gc=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.zc=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Hc()},t.prototype.stop=function(){return i(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return this.Gc()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.Jc=function(){this.state=0,this.Si.reset()},t.prototype.Yc=function(){var t=this;this.zc()&&null===this.jc&&(this.jc=this.Cs.Us(this.Uc,6e4,(function(){return t.Xc()})))},t.prototype.Zc=function(t){this.tu(),this.stream.send(t)},t.prototype.Xc=function(){return i(this,void 0,void 0,(function(){return o(this,(function(t){return this.zc()?[2,this.close(0)]:[2]}))}))},t.prototype.tu=function(){this.jc&&(this.jc.cancel(),this.jc=null)},t.prototype.close=function(t,e){return i(this,void 0,void 0,(function(){return o(this,(function(n){switch(n.label){case 0:return this.tu(),this.Si.cancel(),this.Wc++,3!==t?this.Si.reset():e&&e.code===vi.RESOURCE_EXHAUSTED?(ci(e.toString()),ci("Using maximum backoff delay to prevent overloading the backend."),this.Si.Ls()):e&&e.code===vi.UNAUTHENTICATED&&this.Kc.m(),null!==this.stream&&(this.eu(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.nu(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.eu=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.su(this.Wc),n=this.Wc;this.Kc.getToken().then((function(e){t.Wc===n&&t.iu(e)}),(function(n){e((function(){var e=new mi(vi.UNKNOWN,"Fetching auth token failed: "+n.message);return t.ru(e)}))}))},t.prototype.iu=function(t){var e=this,n=this.su(this.Wc);this.stream=this.ou(t),this.stream.cu((function(){n((function(){return e.state=2,e.listener.cu()}))})),this.stream.nu((function(t){n((function(){return e.ru(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.Hc=function(){var t=this;this.state=4,this.Si.Bs((function(){return i(t,void 0,void 0,(function(){return o(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.ru=function(t){return ui("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.su=function(t){var e=this;return function(n){e.Cs.Ri((function(){return e.Wc===t?n():(ui("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Jc=function(t){function n(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,s}return e(n,t),n.prototype.ou=function(t){return this.Qc.uu("Listen",t)},n.prototype.onMessage=function(t){this.Si.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:fi()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.tn?(pi(void 0===e||"string"==typeof e),zi.fromBase64String(e||"")):(pi(void 0===e||e instanceof Uint8Array),zi.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(t){var e=void 0===t.code?vi.UNKNOWN:Xi(t.code);return new mi(e,t.message||"")}(s);n=new go(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;var u=e.documentChange;u.document,u.document.name,u.document.updateTime;var c=os(t,u.document.name),h=es(u.document.updateTime),l=new ia({mapValue:{fields:u.document.fields}}),f=new ua(c,h,l,{}),p=u.targetIds||[],d=u.removedTargetIds||[];n=new mo(p,d,f.key,f)}else if("documentDelete"in e){e.documentDelete;var v=e.documentDelete;v.document;var m=os(t,v.document),y=v.readTime?es(v.readTime):Si.min(),g=new ca(m,y),b=v.removedTargetIds||[];n=new mo([],b,g.key,g)}else if("documentRemove"in e){e.documentRemove;var w=e.documentRemove;w.document;var I=os(t,w.document),E=w.removedTargetIds||[];n=new mo([],E,I,null)}else{if(!("filter"in e))return fi();e.filter;var T=e.filter;T.targetId;var _=T.count||0,A=new Hi(_),N=T.targetId;n=new yo(N,A)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return Si.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Si.min():e.readTime?es(e.readTime):Si.min()}(t);return this.listener.au(e,n)},n.prototype.hu=function(t){var e={};e.database=us(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=qi(r)?{documents:ps(t,r)}:{query:ds(t,r)}).targetId=e.targetId,e.resumeToken.ht()>0?n.resumeToken=Zo(t,e.resumeToken):e.ft.F(Si.min())>0&&(n.readTime=Qo(t,e.ft.M())),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return fi()}}(0,e._t);return null==n?null:{"goog-listen-tags":n}}(this.serializer,t);n&&(e.labels=n),this.Zc(e)},n.prototype.lu=function(t){var e={};e.database=us(this.serializer),e.removeTarget=t,this.Zc(e)},n}(Yc),$c=function(t){function n(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,s._u=!1,s}return e(n,t),Object.defineProperty(n.prototype,"fu",{get:function(){return this._u},enumerable:!1,configurable:!0}),n.prototype.start=function(){this._u=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},n.prototype.eu=function(){this._u&&this.du([])},n.prototype.ou=function(t){return this.Qc.uu("Write",t)},n.prototype.onMessage=function(t){if(pi(!!t.streamToken),this.lastStreamToken=t.streamToken,this._u){this.Si.reset();var e=function(t,e){return t&&t.length>0?(pi(void 0!==e),t.map((function(t){return function(t,e){var n=t.updateTime?es(t.updateTime):es(e);n.isEqual(Si.min())&&(n=es(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new qs(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=es(t.commitTime);return this.listener.wu(n,e)}return pi(!t.writeResults||0===t.writeResults.length),this._u=!0,this.listener.Eu()},n.prototype.Tu=function(){var t={};t.database=us(this.serializer),this.Zc(t)},n.prototype.du=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return ls(e.serializer,t)}))};this.Zc(n)},n}(Yc),Qc=function(t){function n(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Qc=n,i.serializer=r,i.Iu=!1,i}return e(n,t),n.prototype.mu=function(){if(this.Iu)throw new mi(vi.FAILED_PRECONDITION,"The client has already been terminated.")},n.prototype.Au=function(t,e,n){var r=this;return this.mu(),this.credentials.getToken().then((function(i){return r.Qc.Au(t,e,n,i)})).catch((function(t){throw t.code===vi.UNAUTHENTICATED&&r.credentials.m(),t}))},n.prototype.Ru=function(t,e,n){var r=this;return this.mu(),this.credentials.getToken().then((function(i){return r.Qc.Ru(t,e,n,i)})).catch((function(t){throw t.code===vi.UNAUTHENTICATED&&r.credentials.m(),t}))},n.prototype.terminate=function(){this.Iu=!1},n}((function(){})),Zc=function(){function t(t,e){this.di=t,this.Pu=e,this.state="Unknown",this.gu=0,this.yu=null,this.Vu=!0}return t.prototype.pu=function(){var t=this;0===this.gu&&(this.vu("Unknown"),this.yu=this.di.Us("online_state_timeout",1e4,(function(){return t.yu=null,t.bu("Backend didn't respond within 10 seconds."),t.vu("Offline"),Promise.resolve()})))},t.prototype.Su=function(t){"Online"===this.state?this.vu("Unknown"):(this.gu++,this.gu>=1&&(this.Du(),this.bu("Connection failed 1 times. Most recent error: "+t.toString()),this.vu("Offline")))},t.prototype.set=function(t){this.Du(),this.gu=0,"Online"===t&&(this.Vu=!1),this.vu(t)},t.prototype.vu=function(t){t!==this.state&&(this.state=t,this.Pu(t))},t.prototype.bu=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vu?(ci(e),this.Vu=!1):ui("OnlineStateTracker",e)},t.prototype.Du=function(){null!==this.yu&&(this.yu.cancel(),this.yu=null)},t}(),th=function(t,e,n,r,s){var a=this;this.Cu=t,this.Nu=e,this.di=n,this.xu={},this.Fu=[],this.Ou=new Map,this.Mu=new Set,this.ku=[],this.$u=s,this.$u.Lu((function(t){n.Ri((function(){return i(a,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return ch(this)?(ui("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return i(this,void 0,void 0,(function(){var e;return o(this,(function(n){switch(n.label){case 0:return(e=di(t)).Mu.add(4),[4,nh(e)];case 1:return n.sent(),e.Bu.set("Unknown"),e.Mu.delete(4),[4,eh(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Bu=new Zc(n,r)};function eh(t){return i(this,void 0,void 0,(function(){var e,n;return o(this,(function(r){switch(r.label){case 0:if(!ch(t))return[3,4];e=0,n=t.ku,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function nh(t){return i(this,void 0,void 0,(function(){var e,n;return o(this,(function(r){switch(r.label){case 0:e=0,n=t.ku,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function rh(t,e){var n=di(t);n.Ou.has(e.targetId)||(n.Ou.set(e.targetId,e),uh(n)?ah(n):_h(n).zc()&&oh(n,e))}function ih(t,e){var n=di(t),r=_h(n);n.Ou.delete(e),r.zc()&&sh(n,e),0===n.Ou.size&&(r.zc()?r.Yc():ch(n)&&n.Bu.set("Unknown"))}function oh(t,e){t.qu.De(e.targetId),_h(t).hu(e)}function sh(t,e){t.qu.De(e),_h(t).lu(e)}function ah(t){t.qu=new wo({Xe:function(e){return t.xu.Xe(e)},Ze:function(e){return t.Ou.get(e)||null}}),_h(t).start(),t.Bu.pu()}function uh(t){return ch(t)&&!_h(t).Gc()&&t.Ou.size>0}function ch(t){return 0===di(t).Mu.size}function hh(t){t.qu=void 0}function lh(t){return i(this,void 0,void 0,(function(){return o(this,(function(e){return t.Ou.forEach((function(e,n){oh(t,e)})),[2]}))}))}function fh(t,e){return i(this,void 0,void 0,(function(){return o(this,(function(n){return hh(t),uh(t)?(t.Bu.Su(e),ah(t)):t.Bu.set("Unknown"),[2]}))}))}function ph(t,e,n){return i(this,void 0,void 0,(function(){var r,s,a;return o(this,(function(u){switch(u.label){case 0:if(t.Bu.set("Online"),!(e instanceof go&&2===e.state&&e.cause))return[3,6];u.label=1;case 1:return u.trys.push([1,3,,5]),[4,function(t,e){return i(this,void 0,void 0,(function(){var n,r,i,s;return o(this,(function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?(s=i[r],t.Ou.has(s)?[4,t.xu.Uu(s,n)]:[3,3]):[3,5];case 2:o.sent(),t.Ou.delete(s),t.qu.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return u.sent(),[3,5];case 3:return r=u.sent(),ui("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,dh(t,r)];case 4:return u.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof mo?t.qu.$e(e):e instanceof yo?t.qu.je(e):t.qu.qe(e),n.isEqual(Si.min()))return[3,13];u.label=7;case 7:return u.trys.push([7,11,,13]),[4,Vc(t.Cu)];case 8:return s=u.sent(),n.F(s)>=0?[4,function(t,e){var n=t.qu.He(e);return n.re.forEach((function(n,r){if(n.resumeToken.ht()>0){var i=t.Ou.get(r);i&&t.Ou.set(r,i.wt(n.resumeToken,e))}})),n.oe.forEach((function(e){var n=t.Ou.get(e);if(n){t.Ou.set(e,n.wt(zi.lt,n.ft)),sh(t,e);var r=new Ki(n.target,e,1,n.sequenceNumber);oh(t,r)}})),t.xu.Qu(n)}(t,n)]:[3,10];case 9:u.sent(),u.label=10;case 10:return[3,13];case 11:return ui("RemoteStore","Failed to raise snapshot:",a=u.sent()),[4,dh(t,a)];case 12:return u.sent(),[3,13];case 13:return[2]}}))}))}function dh(t,e,n){return i(this,void 0,void 0,(function(){var r=this;return o(this,(function(s){switch(s.label){case 0:if(!su(e))throw e;return t.Mu.add(1),[4,nh(t)];case 1:return s.sent(),t.Bu.set("Offline"),n||(n=function(){return Vc(t.Cu)}),t.di.Mi((function(){return i(r,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return ui("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Mu.delete(1),[4,eh(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function vh(t,e){return e().catch((function(n){return dh(t,n,e)}))}function mh(t){return i(this,void 0,void 0,(function(){var e,n,r,i,s;return o(this,(function(o){switch(o.label){case 0:e=di(t),n=Ah(e),r=e.Fu.length>0?e.Fu[e.Fu.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return ch(t)&&t.Fu.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,qc(e.Cu,r)];case 3:return null===(i=o.sent())?(0===e.Fu.length&&n.Yc(),[3,7]):(r=i.batchId,function(t,e){t.Fu.push(e);var n=Ah(t);n.zc()&&n.fu&&n.du(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,dh(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return yh(e)&&gh(e),[2]}}))}))}function yh(t){return ch(t)&&!Ah(t).Gc()&&t.Fu.length>0}function gh(t){Ah(t).start()}function bh(t){return i(this,void 0,void 0,(function(){return o(this,(function(e){return Ah(t).Tu(),[2]}))}))}function wh(t){return i(this,void 0,void 0,(function(){var e,n,r,i;return o(this,(function(o){for(e=Ah(t),n=0,r=t.Fu;n<r.length;n++)i=r[n],e.du(i.mutations);return[2]}))}))}function Ih(t,e,n){return i(this,void 0,void 0,(function(){var r,i;return o(this,(function(o){switch(o.label){case 0:return r=t.Fu.shift(),i=Ga.from(r,e,n),[4,vh(t,(function(){return t.xu.Ku(i)}))];case 1:return o.sent(),[4,mh(t)];case 2:return o.sent(),[2]}}))}))}function Eh(t,e){return i(this,void 0,void 0,(function(){return o(this,(function(n){switch(n.label){case 0:return e&&Ah(t).fu?[4,function(t,e){return i(this,void 0,void 0,(function(){var n,r;return o(this,(function(i){switch(i.label){case 0:return Wi(r=e.code)&&r!==vi.ABORTED?(n=t.Fu.shift(),Ah(t).Jc(),[4,vh(t,(function(){return t.xu.Wu(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,mh(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return yh(t)&&gh(t),[2]}}))}))}function Th(t,e){return i(this,void 0,void 0,(function(){var n;return o(this,(function(r){switch(r.label){case 0:return n=di(t),e?(n.Mu.delete(2),[4,eh(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Mu.add(2),[4,nh(n)]);case 3:r.sent(),n.Bu.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function _h(t){var e=this;return t.ju||(t.ju=function(t,e,n){var r=di(t);return r.mu(),new Jc(e,r.Qc,r.credentials,r.serializer,n)}(t.Nu,t.di,{cu:lh.bind(null,t),nu:fh.bind(null,t),au:ph.bind(null,t)}),t.ku.push((function(n){return i(e,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return n?(t.ju.Jc(),uh(t)?ah(t):t.Bu.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.ju.stop()];case 2:e.sent(),hh(t),e.label=3;case 3:return[2]}}))}))}))),t.ju}function Ah(t){var e=this;return t.Gu||(t.Gu=function(t,e,n){var r=di(t);return r.mu(),new $c(e,r.Qc,r.credentials,r.serializer,n)}(t.Nu,t.di,{cu:bh.bind(null,t),nu:Eh.bind(null,t),Eu:wh.bind(null,t),wu:Ih.bind(null,t)}),t.ku.push((function(n){return i(e,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return n?(t.Gu.Jc(),[4,mh(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Gu.stop()];case 3:e.sent(),t.Fu.length>0&&(ui("RemoteStore","Stopping write stream with "+t.Fu.length+" pending writes"),t.Fu=[]),e.label=4;case 4:return[2]}}))}))}))),t.Gu}var Nh=function(){this.zu=void 0,this.listeners=[]},kh=function(){this.queries=new Ka((function(t){return Ta(t)}),Ea),this.onlineState="Unknown",this.Hu=new Set};function Sh(t,e){return i(this,void 0,void 0,(function(){var n,r,i,s,a,u,c;return o(this,(function(o){switch(o.label){case 0:if(n=di(t),r=e.query,i=!1,(s=n.queries.get(r))||(i=!0,s=new Nh),!i)return[3,4];o.label=1;case 1:return o.trys.push([1,3,,4]),a=s,[4,n.Ju(r)];case 2:return a.zu=o.sent(),[3,4];case 3:return u=o.sent(),c=mu(u,"Initialization of query '"+_a(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.Yu(n.onlineState),s.zu&&e.Xu(s.zu)&&Dh(n),[2]}}))}))}function xh(t,e){return i(this,void 0,void 0,(function(){var n,r,i,s,a;return o(this,(function(o){return n=di(t),r=e.query,i=!1,(s=n.queries.get(r))&&(a=s.listeners.indexOf(e))>=0&&(s.listeners.splice(a,1),i=0===s.listeners.length),i?[2,(n.queries.delete(r),n.Zu(r))]:[2]}))}))}function Oh(t,e){for(var n=di(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=s.query,u=n.queries.get(a);if(u){for(var c=0,h=u.listeners;c<h.length;c++)h[c].Xu(s)&&(r=!0);u.zu=s}}r&&Dh(n)}function Ch(t,e,n){var r=di(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Dh(t){t.Hu.forEach((function(t){t.next()}))}var Ph=function(){function t(t,e,n){this.query=t,this.ta=e,this.ea=!1,this.na=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Xu=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new fo(t.query,t.docs,t.te,e,t.ee,t.fromCache,t.ne,!0)}var o=!1;return this.ea?this.sa(t)&&(this.ta.next(t),o=!0):this.ia(t,this.onlineState)&&(this.ra(t),o=!0),this.na=t,o},t.prototype.onError=function(t){this.ta.error(t)},t.prototype.Yu=function(t){this.onlineState=t;var e=!1;return this.na&&!this.ea&&this.ia(this.na,t)&&(this.ra(this.na),e=!0),e},t.prototype.ia=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.oa&&n||t.docs.W()&&"Offline"!==e)},t.prototype.sa=function(t){if(t.docChanges.length>0)return!0;var e=this.na&&this.na.hasPendingWrites!==t.hasPendingWrites;return!(!t.ne&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.ra=function(t){t=fo.ie(t.query,t.docs,t.ee,t.fromCache),this.ea=!0,this.ta.next(t)},t}(),Rh=function(){function t(){this.ca=new Qi(Lh.ua),this.aa=new Qi(Lh.ha)}return t.prototype.W=function(){return this.ca.W()},t.prototype.Do=function(t,e){var n=new Lh(t,e);this.ca=this.ca.add(n),this.aa=this.aa.add(n)},t.prototype.la=function(t,e){var n=this;t.forEach((function(t){return n.Do(t,e)}))},t.prototype.No=function(t,e){this._a(new Lh(t,e))},t.prototype.fa=function(t,e){var n=this;t.forEach((function(t){return n.No(t,e)}))},t.prototype.da=function(t){var e=this,n=new Pi(new Oi([])),r=new Lh(n,t),i=new Lh(n,t+1),o=[];return this.aa.Kt([r,i],(function(t){e._a(t),o.push(t.key)})),o},t.prototype.wa=function(){var t=this;this.ca.forEach((function(e){return t._a(e)}))},t.prototype._a=function(t){this.ca=this.ca.delete(t),this.aa=this.aa.delete(t)},t.prototype.Ea=function(t){var e=new Pi(new Oi([])),n=new Lh(e,t),r=new Lh(e,t+1),i=ao();return this.aa.Kt([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.Qr=function(t){var e=new Lh(t,0),n=this.ca.jt(e);return null!==n&&t.isEqual(n.key)},t}(),Lh=function(){function t(t,e){this.key=t,this.Ta=e}return t.ua=function(t,e){return Pi.$(t.key,e.key)||_i(t.Ta,e.Ta)},t.ha=function(t,e){return _i(t.Ta,e.Ta)||Pi.$(t.key,e.key)},t}();function Mh(t,e){return"firestore_clients_"+t+"_"+e}function jh(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.u()&&(r+="_"+e.uid),r}function Uh(t,e){return"firestore_targets_"+t+"_"+e}var Vh=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Ia=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new mi(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(ci("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ma=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Fh=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Ia=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new mi(r.error.code,r.error.message)),i?new t(e,r.state,o):(ci("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ma=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),qh=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Ia=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=co(),s=0;i&&s<r.activeTargetIds.length;++s)i=Mi(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(ci("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),zh=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Ia=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(ci("SharedClientState","Failed to parse online state: "+e),null)},t}(),Bh=function(){function t(){this.activeTargetIds=co()}return t.prototype.Aa=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Ra=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ma=function(){var t={activeTargetIds:this.activeTargetIds.H(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Gh=function(){function t(t,e,n,r,i){this.window=t,this.Cs=e,this.persistenceKey=n,this.Pa=r,this.ga=null,this.Pu=null,this.ps=null,this.ya=this.Va.bind(this),this.pa=new Yi(_i),this.lr=!1,this.va=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ba=Mh(this.persistenceKey,this.Pa),this.Sa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.pa=this.pa.Tt(this.Pa,new Bh),this.Da=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Ca=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Na=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.xa=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Fa=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.ya)}return t.Gs=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return i(this,void 0,void 0,(function(){var t,e,n,r,i,s,a,u,c,h,l,f=this;return o(this,(function(o){switch(o.label){case 0:return[4,this.ga.Ic()];case 1:for(t=o.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Pa&&(i=this.getItem(Mh(this.persistenceKey,r)))&&(s=qh.Ia(r,i))&&(this.pa=this.pa.Tt(s.clientId,s));for(this.Oa(),(a=this.storage.getItem(this.xa))&&(u=this.Ma(a))&&this.ka(u),c=0,h=this.va;c<h.length;c++)l=h[c],this.Va(l);return this.va=[],this.window.addEventListener("unload",(function(){return f.fc()})),this.lr=!0,[2]}}))}))},t.prototype.Ss=function(t){this.setItem(this.Sa,JSON.stringify(t))},t.prototype.$a=function(){return this.La(this.pa)},t.prototype.Ba=function(t){var e=!1;return this.pa.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.qa=function(t){this.Ua(t,"pending")},t.prototype.Qa=function(t,e,n){this.Ua(t,e,n),this.Ka(t)},t.prototype.Wa=function(t){var e="not-current";if(this.Ba(t)){var n=this.storage.getItem(Uh(this.persistenceKey,t));if(n){var r=Fh.Ia(t,n);r&&(e=r.state)}}return this.ja.Aa(t),this.Oa(),e},t.prototype.Ga=function(t){this.ja.Ra(t),this.Oa()},t.prototype.za=function(t){return this.ja.activeTargetIds.has(t)},t.prototype.Ha=function(t){this.removeItem(Uh(this.persistenceKey,t))},t.prototype.Ja=function(t,e,n){this.Ya(t,e,n)},t.prototype.Xa=function(t,e,n){var r=this;e.forEach((function(t){r.Ka(t)})),this.currentUser=t,n.forEach((function(t){r.qa(t)}))},t.prototype.Za=function(t){this.th(t)},t.prototype.eh=function(){this.nh()},t.prototype.fc=function(){this.lr&&(this.window.removeEventListener("storage",this.ya),this.removeItem(this.ba),this.lr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return ui("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){ui("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){ui("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Va=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(ui("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ba)return void ci("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Cs.Mi((function(){return i(e,void 0,void 0,(function(){var t,e,r,i,s,a;return o(this,(function(o){if(this.lr){if(null!==n.key)if(this.Da.test(n.key)){if(null==n.newValue)return t=this.sh(n.key),[2,this.ih(t,null)];if(e=this.rh(n.key,n.newValue))return[2,this.ih(e.clientId,e)]}else if(this.Ca.test(n.key)){if(null!==n.newValue&&(r=this.oh(n.key,n.newValue)))return[2,this.uh(r)]}else if(this.Na.test(n.key)){if(null!==n.newValue&&(i=this.ah(n.key,n.newValue)))return[2,this.hh(i)]}else if(n.key===this.xa){if(null!==n.newValue&&(s=this.Ma(n.newValue)))return[2,this.ka(s)]}else if(n.key===this.Sa)(a=function(t){var e=eu.Ds;if(null!=t)try{var n=JSON.parse(t);pi("number"==typeof n),e=n}catch(t){ci("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==eu.Ds&&this.ps(a);else if(n.key===this.Fa)return[2,this.ga.lh()]}else this.va.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"ja",{get:function(){return this.pa.get(this.Pa)},enumerable:!1,configurable:!0}),t.prototype.Oa=function(){this.setItem(this.ba,this.ja.ma())},t.prototype.Ua=function(t,e,n){var r=new Vh(this.currentUser,t,e,n),i=jh(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ma())},t.prototype.Ka=function(t){var e=jh(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.th=function(t){var e={clientId:this.Pa,onlineState:t};this.storage.setItem(this.xa,JSON.stringify(e))},t.prototype.Ya=function(t,e,n){var r=Uh(this.persistenceKey,t),i=new Fh(t,e,n);this.setItem(r,i.ma())},t.prototype.nh=function(){this.setItem(this.Fa,"value-not-used")},t.prototype.sh=function(t){var e=this.Da.exec(t);return e?e[1]:null},t.prototype.rh=function(t,e){var n=this.sh(t);return qh.Ia(n,e)},t.prototype.oh=function(t,e){var n=this.Ca.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Vh.Ia(new oi(i),r,e)},t.prototype.ah=function(t,e){var n=this.Na.exec(t),r=Number(n[1]);return Fh.Ia(r,e)},t.prototype.Ma=function(t){return zh.Ia(t)},t.prototype.uh=function(t){return i(this,void 0,void 0,(function(){return o(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.ga._h(t.batchId,t.state,t.error)]:(ui("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.hh=function(t){return this.ga.fh(t.targetId,t.state,t.error)},t.prototype.ih=function(t,e){var n=this,r=e?this.pa.Tt(t,e):this.pa.remove(t),i=this.La(this.pa),o=this.La(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this.ga.dh(s,a).then((function(){n.pa=r}))},t.prototype.ka=function(t){this.pa.get(t.clientId)&&this.Pu(t.onlineState)},t.prototype.La=function(t){var e=co();return t.forEach((function(t,n){e=e.Gt(n.activeTargetIds)})),e},t}(),Kh=function(){function t(){this.wh=new Bh,this.Eh={},this.Pu=null,this.ps=null}return t.prototype.qa=function(t){},t.prototype.Qa=function(t,e,n){},t.prototype.Wa=function(t){return this.wh.Aa(t),this.Eh[t]||"not-current"},t.prototype.Ja=function(t,e,n){this.Eh[t]=e},t.prototype.Ga=function(t){this.wh.Ra(t)},t.prototype.za=function(t){return this.wh.activeTargetIds.has(t)},t.prototype.Ha=function(t){delete this.Eh[t]},t.prototype.$a=function(){return this.wh.activeTargetIds},t.prototype.Ba=function(t){return this.wh.activeTargetIds.has(t)},t.prototype.start=function(){return this.wh=new Bh,Promise.resolve()},t.prototype.Xa=function(t,e,n){},t.prototype.Za=function(t){},t.prototype.fc=function(){},t.prototype.Ss=function(t){},t.prototype.eh=function(){},t}(),Hh=function(t){this.key=t},Wh=function(t){this.key=t},Xh=function(){function t(t,e){this.query=t,this.Th=e,this.Ih=null,this.le=!1,this.mh=ao(),this.ee=ao(),this.Ah=Na(t),this.Rh=new ho(this.Ah)}return Object.defineProperty(t.prototype,"Ph",{get:function(){return this.Th},enumerable:!1,configurable:!0}),t.prototype.gh=function(t,e){var n=this,r=e?e.yh:new lo,i=e?e.Rh:this.Rh,o=e?e.ee:this.ee,s=i,a=!1,u=da(this.query)&&i.size===this.query.limit?i.last():null,c=va(this.query)&&i.size===this.query.limit?i.first():null;if(t.Pt((function(t,e){var h=i.get(t),l=e instanceof ua?e:null;l&&(l=Aa(n.query,l)?l:null);var f=!!h&&n.ee.has(h.key),p=!!l&&(l.an||n.ee.has(l.key)&&l.hasCommittedMutations),d=!1;h&&l?h.data().isEqual(l.data())?f!==p&&(r.track({type:3,doc:l}),d=!0):n.Vh(h,l)||(r.track({type:2,doc:l}),d=!0,(u&&n.Ah(l,u)>0||c&&n.Ah(l,c)<0)&&(a=!0)):!h&&l?(r.track({type:0,doc:l}),d=!0):h&&!l&&(r.track({type:1,doc:h}),d=!0,(u||c)&&(a=!0)),d&&(l?(s=s.add(l),o=p?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),da(this.query)||va(this.query))for(;s.size>this.query.limit;){var h=da(this.query)?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Rh:s,yh:r,ph:a,ee:o}},t.prototype.Vh=function(t,e){return t.an&&e.hasCommittedMutations&&!e.an},t.prototype.Zn=function(t,e,n){var r=this,i=this.Rh;this.Rh=t.Rh,this.ee=t.ee;var o=t.yh.Zt();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fi()}};return n(t)-n(e)}(t.type,e.type)||r.Ah(t.doc,e.doc)})),this.bh(n);var s=e?this.Sh():[],a=0===this.mh.size&&this.le?1:0,u=a!==this.Ih;return this.Ih=a,0!==o.length||u?{snapshot:new fo(this.query,t.Rh,i,o,t.ee,0===a,u,!1),Dh:s}:{Dh:s}},t.prototype.Yu=function(t){return this.le&&"Offline"===t?(this.le=!1,this.Zn({Rh:this.Rh,yh:new lo,ee:this.ee,ph:!1},!1)):{Dh:[]}},t.prototype.Ch=function(t){return!this.Th.has(t)&&!!this.Rh.has(t)&&!this.Rh.get(t).an},t.prototype.bh=function(t){var e=this;t&&(t._e.forEach((function(t){return e.Th=e.Th.add(t)})),t.fe.forEach((function(t){})),t.de.forEach((function(t){return e.Th=e.Th.delete(t)})),this.le=t.le)},t.prototype.Sh=function(){var t=this;if(!this.le)return[];var e=this.mh;this.mh=ao(),this.Rh.forEach((function(e){t.Ch(e.key)&&(t.mh=t.mh.add(e.key))}));var n=[];return e.forEach((function(e){t.mh.has(e)||n.push(new Wh(e))})),this.mh.forEach((function(t){e.has(t)||n.push(new Hh(t))})),n},t.prototype.Nh=function(t){this.Th=t.Bc,this.mh=ao();var e=this.gh(t.documents);return this.Zn(e,!0)},t.prototype.xh=function(){return fo.ie(this.query,this.Rh,this.ee,0===this.Ih)},t}(),Yh=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Jh=function(t){this.key=t,this.Fh=!1},$h=function(){function t(t,e,n,r,i,o){this.Cu=t,this.Oh=e,this.Mh=n,this.kh=r,this.currentUser=i,this.$h=o,this.Lh={},this.Bh=new Ka((function(t){return Ta(t)}),Ea),this.qh=new Map,this.Uh=[],this.Qh=new Yi(Pi.$),this.Kh=new Map,this.Wh=new Rh,this.jh={},this.Gh=new Map,this.zh=Ec._o(),this.onlineState="Unknown",this.Hh=void 0}return Object.defineProperty(t.prototype,"Jh",{get:function(){return!0===this.Hh},enumerable:!1,configurable:!0}),t}();function Qh(t,e){return i(this,void 0,void 0,(function(){var n,r,i,s,a,u;return o(this,(function(o){switch(o.label){case 0:return n=kl(t),(s=n.Bh.get(e))?(r=s.targetId,n.kh.Wa(r),i=s.view.xh(),[3,4]):[3,1];case 1:return[4,zc(n.Cu,wa(e))];case 2:return a=o.sent(),u=n.kh.Wa(a.targetId),r=a.targetId,[4,Zh(n,e,r,"current"===u)];case 3:i=o.sent(),n.Jh&&rh(n.Oh,a),o.label=4;case 4:return[2,i]}}))}))}function Zh(t,e,n,r){return i(this,void 0,void 0,(function(){var s,a,u,c,h,l;return o(this,(function(f){switch(f.label){case 0:return t.Yh=function(e,n,r){return function(t,e,n,r){return i(this,void 0,void 0,(function(){var i,s,a;return o(this,(function(o){switch(o.label){case 0:return(i=e.view.gh(n)).ph?[4,Gc(t.Cu,e.query,!1).then((function(t){var n=t.documents;return e.view.gh(n,i)}))]:[3,2];case 1:i=o.sent(),o.label=2;case 2:return s=r&&r.re.get(e.targetId),a=e.view.Zn(i,t.Jh,s),[2,(fl(t,e.targetId,a.Dh),a.snapshot)]}}))}))}(t,e,n,r)},[4,Gc(t.Cu,e,!0)];case 1:return s=f.sent(),a=new Xh(e,s.Bc),u=a.gh(s.documents),c=vo.he(n,r&&"Offline"!==t.onlineState),h=a.Zn(u,t.Jh,c),fl(t,n,h.Dh),l=new Yh(e,n,a),[2,(t.Bh.set(e,l),t.qh.has(n)?t.qh.get(n).push(e):t.qh.set(n,[e]),h.snapshot)]}}))}))}function tl(t,e){return i(this,void 0,void 0,(function(){var n,r,i;return o(this,(function(o){switch(o.label){case 0:return n=di(t),r=n.Bh.get(e),(i=n.qh.get(r.targetId)).length>1?[2,(n.qh.set(r.targetId,i.filter((function(t){return!Ea(t,e)}))),void n.Bh.delete(e))]:n.Jh?(n.kh.Ga(r.targetId),n.kh.Ba(r.targetId)?[3,2]:[4,Bc(n.Cu,r.targetId,!1).then((function(){n.kh.Ha(r.targetId),ih(n.Oh,r.targetId),hl(n,r.targetId)})).catch(Xc)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return hl(n,r.targetId),[4,Bc(n.Cu,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function el(t,e,n){return i(this,void 0,void 0,(function(){var r,i,s,a;return o(this,(function(o){switch(o.label){case 0:r=Sl(t),o.label=1;case 1:return o.trys.push([1,5,,6]),[4,function(t,e){var n,r=di(t),i=ki.now(),o=e.reduce((function(t,e){return t.add(e.key)}),ao());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Oc._s(t,o).next((function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],h=Ws(c,n.get(c.key));null!=h&&s.push(new $s(c.key,h,sa(h.proto.mapValue),zs.exists(!0)))}return r.rs.Sr(t,i,s,e)}))})).then((function(t){var e=t.vn(n);return{batchId:t.batchId,Qn:e}}))}(r.Cu,e)];case 2:return i=o.sent(),r.kh.qa(i.batchId),function(t,e,n){var r=t.jh[t.currentUser.h()];r||(r=new Yi(_i)),r=r.Tt(e,n),t.jh[t.currentUser.h()]=r}(r,i.batchId,n),[4,vl(r,i.Qn)];case 3:return o.sent(),[4,mh(r.Oh)];case 4:return o.sent(),[3,6];case 5:return s=o.sent(),a=mu(s,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function nl(t,e){return i(this,void 0,void 0,(function(){var n,r;return o(this,(function(i){switch(i.label){case 0:n=di(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Fc(n.Cu,e)];case 2:return r=i.sent(),e.re.forEach((function(t,e){var r=n.Kh.get(e);r&&(pi(t._e.size+t.fe.size+t.de.size<=1),t._e.size>0?r.Fh=!0:t.fe.size>0?pi(r.Fh):t.de.size>0&&(pi(r.Fh),r.Fh=!1))})),[4,vl(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Xc(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function rl(t,e,n){var r=di(t);if(r.Jh&&0===n||!r.Jh&&1===n){var i=[];r.Bh.forEach((function(t,n){var r=n.view.Yu(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=di(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].Yu(e)&&(r=!0)})),r&&Dh(n)}(r.Mh,e),i.length&&r.Lh.au(i),r.onlineState=e,r.Jh&&r.kh.Za(e)}}function il(t,e,n){return i(this,void 0,void 0,(function(){var r,i,s,a,u,c;return o(this,(function(o){switch(o.label){case 0:return(r=di(t)).kh.Ja(e,"rejected",n),i=r.Kh.get(e),(s=i&&i.key)?(a=(a=new Yi(Pi.$)).Tt(s,new ca(s,Si.min())),u=ao().add(s),c=new po(Si.min(),new Map,new Qi(_i),a,u),[4,nl(r,c)]):[3,2];case 1:return o.sent(),r.Qh=r.Qh.remove(s),r.Kh.delete(e),dl(r),[3,4];case 2:return[4,Bc(r.Cu,e,!1).then((function(){return hl(r,e,n)})).catch(Xc)];case 3:o.sent(),o.label=4;case 4:return[2]}}))}))}function ol(t,e){return i(this,void 0,void 0,(function(){var n,r,i;return o(this,(function(o){switch(o.label){case 0:n=di(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Uc(n.Cu,e)];case 2:return i=o.sent(),cl(n,r,null),ul(n,r),n.kh.Qa(r,"acknowledged"),[4,vl(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Xc(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function sl(t,e,n){return i(this,void 0,void 0,(function(){var r,i;return o(this,(function(o){switch(o.label){case 0:r=di(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=di(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.rs.Cr(t,e).next((function(e){return pi(null!==e),r=e.keys(),n.rs.$r(t,e)})).next((function(){return n.rs.Ur(t)})).next((function(){return n.Oc._s(t,r)}))}))}(r.Cu,e)];case 2:return i=o.sent(),cl(r,e,n),ul(r,e),r.kh.Qa(e,"rejected",n),[4,vl(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Xc(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function al(t,e){return i(this,void 0,void 0,(function(){var n,r,i,s,a;return o(this,(function(o){switch(o.label){case 0:ch((n=di(t)).Oh)||ui("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,function(t){var e=di(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.rs.Or(t)}))}(n.Cu)];case 2:return-1===(r=o.sent())?[2,void e.resolve()]:((i=n.Gh.get(r)||[]).push(e),n.Gh.set(r,i),[3,4]);case 3:return s=o.sent(),a=mu(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}}))}))}function ul(t,e){(t.Gh.get(e)||[]).forEach((function(t){t.resolve()})),t.Gh.delete(e)}function cl(t,e,n){var r=di(t),i=r.jh[r.currentUser.h()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.jh[r.currentUser.h()]=i}}function hl(t,e,n){void 0===n&&(n=null),t.kh.Ga(e);for(var r=0,i=t.qh.get(e);r<i.length;r++){var o=i[r];t.Bh.delete(o),n&&t.Lh.Xh(o,n)}t.qh.delete(e),t.Jh&&t.Wh.da(e).forEach((function(e){t.Wh.Qr(e)||ll(t,e)}))}function ll(t,e){var n=t.Qh.get(e);null!==n&&(ih(t.Oh,n),t.Qh=t.Qh.remove(e),t.Kh.delete(n),dl(t))}function fl(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Hh?(t.Wh.Do(o.key,e),pl(t,o)):o instanceof Wh?(ui("SyncEngine","Document no longer in limbo: "+o.key),t.Wh.No(o.key,e),t.Wh.Qr(o.key)||ll(t,o.key)):fi()}}function pl(t,e){var n=e.key;t.Qh.get(n)||(ui("SyncEngine","New document in limbo: "+n),t.Uh.push(n),dl(t))}function dl(t){for(;t.Uh.length>0&&t.Qh.size<t.$h;){var e=t.Uh.shift(),n=t.zh.next();t.Kh.set(n,new Jh(e)),t.Qh=t.Qh.Tt(e,n),rh(t.Oh,new Ki(wa(pa(e.path)),n,2,eu.Ds))}}function vl(t,e,n){return i(this,void 0,void 0,(function(){var r,s,a,u;return o(this,(function(c){switch(c.label){case 0:return r=di(t),s=[],a=[],u=[],r.Bh.W()?[3,3]:(r.Bh.forEach((function(t,i){u.push(r.Yh(i,e,n).then((function(t){if(t){r.Jh&&r.kh.Ja(i.targetId,t.fromCache?"not-current":"current"),s.push(t);var e=tu.Vs(i.targetId,t);a.push(e)}})))})),[4,Promise.all(u)]);case 1:return c.sent(),r.Lh.au(s),[4,function(t,e){return i(this,void 0,void 0,(function(){var n,r,i,s,a,u,c,h,l;return o(this,(function(o){switch(o.label){case 0:n=di(t),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return Ha.forEach(e,(function(e){return Ha.forEach(e.gs,(function(r){return n.persistence.Vr.Do(t,e.targetId,r)})).next((function(){return Ha.forEach(e.ys,(function(r){return n.persistence.Vr.No(t,e.targetId,r)}))}))}))}))];case 2:return o.sent(),[3,4];case 3:if(!su(r=o.sent()))throw r;return ui("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)a=s[i],u=a.targetId,a.fromCache||(c=n.Cc.get(u),h=c.ft,l=c.Et(h),n.Cc=n.Cc.Tt(u,l));return[2]}}))}))}(r.Cu,a)];case 2:c.sent(),c.label=3;case 3:return[2]}}))}))}function ml(t,e){return i(this,void 0,void 0,(function(){var n,r;return o(this,(function(i){switch(i.label){case 0:return(n=di(t)).currentUser.isEqual(e)?[3,3]:(ui("SyncEngine","User change. New user:",e.h()),[4,jc(n.Cu,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Gh.forEach((function(t){t.forEach((function(t){t.reject(new mi(vi.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Gh.clear()}(n),n.kh.Xa(e,r.$c,r.Lc),[4,vl(n,r.kc)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function yl(t,e){var n=di(t),r=n.Kh.get(e);if(r&&r.Fh)return ao().add(r.key);var i=ao(),o=n.qh.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=a[s],c=n.Bh.get(u);i=i.Gt(c.view.Ph)}return i}function gl(t,e){return i(this,void 0,void 0,(function(){var n,r,i;return o(this,(function(o){switch(o.label){case 0:return[4,Gc((n=di(t)).Cu,e.query,!0)];case 1:return r=o.sent(),i=e.view.Nh(r),[2,(n.Jh&&fl(n,e.targetId,i.Dh),i)]}}))}))}function bl(t){return i(this,void 0,void 0,(function(){var e;return o(this,(function(n){return[2,Hc((e=di(t)).Cu).then((function(t){return vl(e,t)}))]}))}))}function wl(t,e,n,r){return i(this,void 0,void 0,(function(){var i,s;return o(this,(function(o){switch(o.label){case 0:return[4,function(t,e){var n=di(t),r=di(n.rs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.Nr(t,e).next((function(e){return e?n.Oc._s(t,e):Ha.resolve(null)}))}))}((i=di(t)).Cu,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,mh(i.Oh)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(cl(i,e,r||null),ul(i,e),function(t,e){di(di(t).rs).Br(e)}(i.Cu,e)):fi(),o.label=4;case 4:return[4,vl(i,s)];case 5:return o.sent(),[3,7];case 6:ui("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}}))}))}function Il(t,e){return i(this,void 0,void 0,(function(){var n,r,i,s,a,u,c,h;return o(this,(function(o){switch(o.label){case 0:return kl(n=di(t)),Sl(n),!0!==e||!0===n.Hh?[3,3]:(r=n.kh.$a(),[4,El(n,r.H())]);case 1:return i=o.sent(),n.Hh=!0,[4,Th(n.Oh,!0)];case 2:for(o.sent(),s=0,a=i;s<a.length;s++)u=a[s],rh(n.Oh,u);return[3,7];case 3:return!1!==e||!1===n.Hh?[3,7]:(c=[],h=Promise.resolve(),n.qh.forEach((function(t,e){n.kh.za(e)?c.push(e):h=h.then((function(){return hl(n,e),Bc(n.Cu,e,!0)})),ih(n.Oh,e)})),[4,h]);case 4:return o.sent(),[4,El(n,c)];case 5:return o.sent(),function(t){var e=di(t);e.Kh.forEach((function(t,n){ih(e.Oh,n)})),e.Wh.wa(),e.Kh=new Map,e.Qh=new Yi(Pi.$)}(n),n.Hh=!1,[4,Th(n.Oh,!1)];case 6:o.sent(),o.label=7;case 7:return[2]}}))}))}function El(t,e,n){return i(this,void 0,void 0,(function(){var n,r,i,s,a,u,c,h,l,f,p,d,v,m;return o(this,(function(o){switch(o.label){case 0:n=di(t),r=[],i=[],s=0,a=e,o.label=1;case 1:return s<a.length?(u=a[s],c=void 0,(h=n.qh.get(u))&&0!==h.length?[4,zc(n.Cu,wa(h[0]))]:[3,7]):[3,13];case 2:c=o.sent(),l=0,f=h,o.label=3;case 3:return l<f.length?(p=f[l],d=n.Bh.get(p),[4,gl(n,d)]):[3,6];case 4:(v=o.sent()).snapshot&&i.push(v.snapshot),o.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Kc(n.Cu,u)];case 8:return m=o.sent(),[4,zc(n.Cu,m)];case 9:return c=o.sent(),[4,Zh(n,Tl(m),u,!1)];case 10:o.sent(),o.label=11;case 11:r.push(c),o.label=12;case 12:return s++,[3,1];case 13:return[2,(n.Lh.au(i),r)]}}))}))}function Tl(t){return fa(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function _l(t){var e=di(t);return di(di(e.Cu).persistence).Ic()}function Al(t,e,n,r){return i(this,void 0,void 0,(function(){var i,s,a;return o(this,(function(o){switch(o.label){case 0:return(i=di(t)).Hh?(ui("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.qh.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Hc(i.Cu)];case 3:return s=o.sent(),a=po.ae(e,"current"===n),[4,vl(i,s,a)];case 4:return o.sent(),[3,8];case 5:return[4,Bc(i.Cu,e,!0)];case 6:return o.sent(),hl(i,e,r),[3,8];case 7:fi(),o.label=8;case 8:return[2]}}))}))}function Nl(t,e,n){return i(this,void 0,void 0,(function(){var r,i,s,a,u,c,h,l,f,p;return o(this,(function(d){switch(d.label){case 0:if(!(r=kl(t)).Hh)return[3,10];i=0,s=e,d.label=1;case 1:return i<s.length?(a=s[i],r.qh.has(a)?(ui("SyncEngine","Adding an already active target "+a),[3,5]):[4,Kc(r.Cu,a)]):[3,6];case 2:return u=d.sent(),[4,zc(r.Cu,u)];case 3:return c=d.sent(),[4,Zh(r,Tl(u),c.targetId,!1)];case 4:d.sent(),rh(r.Oh,c),d.label=5;case 5:return i++,[3,1];case 6:h=function(t){return o(this,(function(e){switch(e.label){case 0:return r.qh.has(t)?[4,Bc(r.Cu,t,!1).then((function(){ih(r.Oh,t),hl(r,t)})).catch(Xc)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,f=n,d.label=7;case 7:return l<f.length?(p=f[l],[5,h(p)]):[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function kl(t){var e=di(t);return e.Oh.xu.Qu=nl.bind(null,e),e.Oh.xu.Xe=yl.bind(null,e),e.Oh.xu.Uu=il.bind(null,e),e.Lh.au=Oh.bind(null,e.Mh),e.Lh.Xh=Ch.bind(null,e.Mh),e}function Sl(t){var e=di(t);return e.Oh.xu.Ku=ol.bind(null,e),e.Oh.xu.Wu=sl.bind(null,e),e}var xl=function(){function t(){}return t.prototype.Mc=function(t){this.Zh=t},t.prototype.ws=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Tn.length||1===t.Tn.length&&t.Tn[0].field.tt())}(e)||n.isEqual(Si.min())?this.tl(t,e):this.Zh._s(t,r).next((function(o){var s=i.el(e,o);return(da(e)||va(e))&&i.ph(e.limitType,s,r,n)?i.tl(t,e):(ai()<=S.DEBUG&&ui("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),_a(e)),i.Zh.ws(t,e,n).next((function(t){return s.forEach((function(e){t=t.Tt(e.key,e)})),t})))}))},t.prototype.el=function(t,e){var n=new Qi(Na(t));return e.forEach((function(e,r){r instanceof ua&&Aa(t,r)&&(n=n.add(r))})),n},t.prototype.ph=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.F(r)>0)},t.prototype.tl=function(t,e){return ai()<=S.DEBUG&&ui("IndexFreeQueryEngine","Using full collection scan to execute query:",_a(e)),this.Zh.ws(t,e,Si.min())},t}(),Ol=function(){function t(t,e){this.os=t,this.Vr=e,this.rs=[],this.nl=1,this.sl=new Qi(Lh.ua)}return t.prototype.br=function(t){return Ha.resolve(0===this.rs.length)},t.prototype.Sr=function(t,e,n,r){var i=this.nl;this.nl++,this.rs.length>0&&this.rs[this.rs.length-1];var o=new Ba(i,e,n,r);this.rs.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.sl=this.sl.add(new Lh(u.key,i)),this.os.Dr(t,u.key.path.q())}return Ha.resolve(o)},t.prototype.Cr=function(t,e){return Ha.resolve(this.il(e))},t.prototype.Fr=function(t,e){var n=e+1,r=this.rl(n),i=r<0?0:r;return Ha.resolve(this.rs.length>i?this.rs[i]:null)},t.prototype.Or=function(){return Ha.resolve(0===this.rs.length?-1:this.nl-1)},t.prototype.Mr=function(t){return Ha.resolve(this.rs.slice())},t.prototype.us=function(t,e){var n=this,r=new Lh(e,0),i=new Lh(e,Number.POSITIVE_INFINITY),o=[];return this.sl.Kt([r,i],(function(t){var e=n.il(t.Ta);o.push(e)})),Ha.resolve(o)},t.prototype.ds=function(t,e){var n=this,r=new Qi(_i);return e.forEach((function(t){var e=new Lh(t,0),i=new Lh(t,Number.POSITIVE_INFINITY);n.sl.Kt([e,i],(function(t){r=r.add(t.Ta)}))})),Ha.resolve(this.ol(r))},t.prototype.Rs=function(t,e){var n=e.path,r=n.length+1,i=n;Pi.ot(i)||(i=i.child(""));var o=new Lh(new Pi(i),0),s=new Qi(_i);return this.sl.Wt((function(t){var e=t.key.path;return!!n.j(e)&&(e.length===r&&(s=s.add(t.Ta)),!0)}),o),Ha.resolve(this.ol(s))},t.prototype.ol=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.il(t);null!==r&&n.push(r)})),n},t.prototype.$r=function(t,e){var n=this;pi(0===this.cl(e.batchId,"removed")),this.rs.shift();var r=this.sl;return Ha.forEach(e.mutations,(function(i){var o=new Lh(i.key,e.batchId);return r=r.delete(o),n.Vr.qr(t,i.key)})).next((function(){n.sl=r}))},t.prototype.Br=function(t){},t.prototype.Qr=function(t,e){var n=new Lh(e,0),r=this.sl.jt(n);return Ha.resolve(e.isEqual(r&&r.key))},t.prototype.Ur=function(t){return this.rs.length,Ha.resolve()},t.prototype.cl=function(t,e){return this.rl(t)},t.prototype.rl=function(t){return 0===this.rs.length?0:t-this.rs[0].batchId},t.prototype.il=function(t){var e=this.rl(t);return e<0||e>=this.rs.length?null:this.rs[e]},t}(),Cl=function(){function t(t,e){this.os=t,this.ul=e,this.docs=new Yi(Pi.$),this.size=0}return t.prototype.jn=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ul(e);return this.docs=this.docs.Tt(r,{zn:e,size:s,readTime:n}),this.size+=s-o,this.os.Dr(t,r.path.q())},t.prototype.Hn=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Jn=function(t,e){var n=this.docs.get(e);return Ha.resolve(n?n.zn:null)},t.prototype.getEntries=function(t,e){var n=this,r=no();return e.forEach((function(t){var e=n.docs.get(t);r=r.Tt(t,e?e.zn:null)})),Ha.resolve(r)},t.prototype.ws=function(t,e,n){for(var r=io(),i=new Pi(e.path.child("")),o=this.docs.Vt(i);o.Nt();){var s=o.Ct(),a=s.key,u=s.value,c=u.zn,h=u.readTime;if(!e.path.j(a.path))break;h.F(n)<=0||c instanceof ua&&Aa(e,c)&&(r=r.Tt(c.key,c))}return Ha.resolve(r)},t.prototype.al=function(t,e){return Ha.forEach(this.docs,(function(t){return e(t)}))},t.prototype.Xr=function(t){return new Dl(this)},t.prototype.eo=function(t){return Ha.resolve(this.size)},t}(),Dl=function(t){function n(e){var n=this;return(n=t.call(this)||this).no=e,n}return e(n,t),n.prototype.Zn=function(t){var e=this,n=[];return this.Qn.forEach((function(r,i){i&&i.zn?n.push(e.no.jn(t,i.zn,e.Wn(r))):e.no.Hn(r)})),Ha.qn(n)},n.prototype.Yn=function(t,e){return this.no.Jn(t,e)},n.prototype.Xn=function(t,e){return this.no.getEntries(t,e)},n}(Wa),Pl=function(){function t(t){this.persistence=t,this.hl=new Ka((function(t){return Vi(t)}),Fi),this.lastRemoteSnapshotVersion=Si.min(),this.highestTargetId=0,this.ll=0,this._l=new Rh,this.targetCount=0,this.fl=Ec.lo()}return t.prototype.Ue=function(t,e){return this.hl.forEach((function(t,n){return e(n)})),Ha.resolve()},t.prototype.To=function(t){return Ha.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Io=function(t){return Ha.resolve(this.ll)},t.prototype.fo=function(t){return this.highestTargetId=this.fl.next(),Ha.resolve(this.highestTargetId)},t.prototype.mo=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ll&&(this.ll=e),Ha.resolve()},t.prototype.Ro=function(t){this.hl.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.fl=new Ec(e),this.highestTargetId=e),t.sequenceNumber>this.ll&&(this.ll=t.sequenceNumber)},t.prototype.Ao=function(t,e){return this.Ro(e),this.targetCount+=1,Ha.resolve()},t.prototype.yo=function(t,e){return this.Ro(e),Ha.resolve()},t.prototype.Vo=function(t,e){return this.hl.delete(e.target),this._l.da(e.targetId),this.targetCount-=1,Ha.resolve()},t.prototype.mr=function(t,e,n){var r=this,i=0,o=[];return this.hl.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.hl.delete(s),o.push(r.po(t,a.targetId)),i++)})),Ha.qn(o).next((function(){return i}))},t.prototype.vo=function(t){return Ha.resolve(this.targetCount)},t.prototype.bo=function(t,e){var n=this.hl.get(e)||null;return Ha.resolve(n)},t.prototype.So=function(t,e,n){return this._l.la(e,n),Ha.resolve()},t.prototype.Co=function(t,e,n){this._l.fa(e,n);var r=this.persistence.Vr,i=[];return r&&e.forEach((function(e){i.push(r.qr(t,e))})),Ha.qn(i)},t.prototype.po=function(t,e){return this._l.da(e),Ha.resolve()},t.prototype.xo=function(t,e){var n=this._l.Ea(e);return Ha.resolve(n)},t.prototype.Qr=function(t,e){return Ha.resolve(this._l.Qr(e))},t}(),Rl=function(){function t(t){this.serializer=t,this.dl=new Map,this.wl=new Map}return t.prototype.ro=function(t,e){return Ha.resolve(this.dl.get(e))},t.prototype.oo=function(t,e){var n;return this.dl.set(e.id,{id:(n=e).id,version:n.version,createTime:es(n.createTime)}),Ha.resolve()},t.prototype.co=function(t,e){return Ha.resolve(this.wl.get(e))},t.prototype.uo=function(t,e){var n;return this.wl.set(e.name,{name:(n=e).name,query:ju(n.bundledQuery),readTime:es(n.readTime)}),Ha.resolve()},t}(),Ll=function(){function t(t,e){var n=this;this.El={},this.ko=new eu(0),this.$o=!1,this.$o=!0,this.Vr=t(this),this.jo=new Pl(this),this.os=new Ju,this.ss=function(t,e){return new Cl(t,(function(t){return n.Vr.Tl(t)}))}(this.os),this.serializer=new ku(e),this.Go=new Rl(this.serializer)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.fc=function(){return this.$o=!1,Promise.resolve()},Object.defineProperty(t.prototype,"lr",{get:function(){return this.$o},enumerable:!1,configurable:!0}),t.prototype.tc=function(){},t.prototype.ec=function(){},t.prototype.Pc=function(){return this.os},t.prototype.mc=function(t){var e=this.El[t.h()];return e||(e=new Ol(this.os,this.Vr),this.El[t.h()]=e),e},t.prototype.Ac=function(){return this.jo},t.prototype.Rc=function(){return this.ss},t.prototype.gc=function(){return this.Go},t.prototype.runTransaction=function(t,e,n){var r=this;ui("MemoryPersistence","Starting transaction:",t);var i=new Ml(this.ko.next());return this.Vr.Il(),n(i).next((function(t){return r.Vr.ml(i).next((function(){return t}))})).Ln().then((function(t){return i.ns(),t}))},t.prototype.Al=function(t,e){return Ha.Un(Object.values(this.El).map((function(n){return function(){return n.Qr(t,e)}})))},t}(),Ml=function(t){function n(e){var n=this;return(n=t.call(this)||this).Fo=e,n}return e(n,t),n}(Qa),jl=function(){function t(t){this.persistence=t,this.Rl=new Rh,this.Pl=null}return t.gl=function(e){return new t(e)},Object.defineProperty(t.prototype,"yl",{get:function(){if(this.Pl)return this.Pl;throw fi()},enumerable:!1,configurable:!0}),t.prototype.Do=function(t,e,n){return this.Rl.Do(n,e),this.yl.delete(n.toString()),Ha.resolve()},t.prototype.No=function(t,e,n){return this.Rl.No(n,e),this.yl.add(n.toString()),Ha.resolve()},t.prototype.qr=function(t,e){return this.yl.add(e.toString()),Ha.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.Rl.da(e.targetId).forEach((function(t){return n.yl.add(t.toString())}));var r=this.persistence.Ac();return r.xo(t,e.targetId).next((function(t){t.forEach((function(t){return n.yl.add(t.toString())}))})).next((function(){return r.Vo(t,e)}))},t.prototype.Il=function(){this.Pl=new Set},t.prototype.ml=function(t){var e=this,n=this.persistence.Rc().Xr();return Ha.forEach(this.yl,(function(r){var i=Pi.st(r);return e.Vl(t,i).next((function(t){t||n.Hn(i)}))})).next((function(){return e.Pl=null,n.apply(t)}))},t.prototype.Sc=function(t,e){var n=this;return this.Vl(t,e).next((function(t){t?n.yl.delete(e.toString()):n.yl.add(e.toString())}))},t.prototype.Tl=function(t){return 0},t.prototype.Vl=function(t,e){var n=this;return Ha.Un([function(){return Ha.resolve(n.Rl.Qr(e))},function(){return n.persistence.Ac().Qr(t,e)},function(){return n.persistence.Al(t,e)}])},t}(),Ul=function(){function t(t){this.pl=t.pl,this.vl=t.vl}return t.prototype.cu=function(t){this.bl=t},t.prototype.nu=function(t){this.Sl=t},t.prototype.onMessage=function(t){this.Dl=t},t.prototype.close=function(){this.vl()},t.prototype.send=function(t){this.pl(t)},t.prototype.Cl=function(){this.bl()},t.prototype.Nl=function(t){this.Sl(t)},t.prototype.xl=function(t){this.Dl(t)},t}(),Vl={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Fl=function(t){function n(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.i=e.i,n}return e(n,t),n.prototype.Ll=function(t,e,n,r){return new Promise((function(i,o){var s=new ni;s.listenOnce($r.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case Jr.NO_ERROR:var e=s.getResponseJson();ui("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Jr.TIMEOUT:ui("Connection",'RPC "'+t+'" timed out'),o(new mi(vi.DEADLINE_EXCEEDED,"Request time out"));break;case Jr.HTTP_ERROR:var n=s.getStatus();if(ui("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(vi).indexOf(e)>=0?e:vi.UNKNOWN}(r.status);o(new mi(a,r.message))}else o(new mi(vi.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new mi(vi.UNAVAILABLE,"Connection failed."));break;default:fi()}}finally{ui("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(r);s.send(e,"POST",a,n,15)}))},n.prototype.uu=function(t,e){var n,r=[this.Ol,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=new Kr,o=He(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.$l(s.initMessageHeaders,e),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())||"object"==typeof navigator&&"ReactNative"===navigator.product||f().indexOf("Electron/")>=0||function(){var t=f();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()||f().indexOf("MSAppHost/")>=0||"object"==typeof(n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0)&&void 0!==n.id||(s.httpHeadersOverwriteParam="$httpHeaders");var a=r.join("");ui("Connection","Creating WebChannel: "+a,s);var u=i.createWebChannel(a,s),c=!1,h=!1,l=new Ul({pl:function(t){h?ui("Connection","Not sending because WebChannel is closed:",t):(c||(ui("Connection","Opening WebChannel transport."),u.open(),c=!0),ui("Connection","WebChannel sending:",t),u.send(t))},vl:function(){return u.close()}}),p=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return p(u,ei.EventType.OPEN,(function(){h||ui("Connection","WebChannel transport opened.")})),p(u,ei.EventType.CLOSE,(function(){h||(h=!0,ui("Connection","WebChannel transport closed"),l.Nl())})),p(u,ei.EventType.ERROR,(function(t){h||(h=!0,hi("Connection","WebChannel transport errored:",t),l.Nl(new mi(vi.UNAVAILABLE,"The operation could not be completed")))})),p(u,ei.EventType.MESSAGE,(function(t){var e;if(!h){var n=t.data[0];pi(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){ui("Connection","WebChannel received error:",i);var o=i.status,s=function(t){var e=Bi[t];if(void 0!==e)return Xi(e)}(o),a=i.message;void 0===s&&(s=vi.INTERNAL,a="Unknown error status: "+o+" with message "+i.message),h=!0,l.Nl(new mi(s,a)),u.close()}else ui("Connection","WebChannel received:",n),l.xl(n)}})),p(o,Qr.STAT_EVENT,(function(t){t.stat===Zr?ui("Connection","Detected buffering proxy"):t.stat===ti&&ui("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Cl()}),0),l},n}(function(){function t(t){this.Fl=t,this.t=t.t;var e=t.ssl?"https":"http";this.Ol=e+"://"+t.host,this.Ml="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.Au=function(t,e,n,r){var i=this.kl(t,e);ui("RestConnection","Sending: ",i,n);var o={};return this.$l(o,r),this.Ll(t,i,o,n).then((function(t){return ui("RestConnection","Received: ",t),t}),(function(e){throw hi("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Ru=function(t,e,n,r){return this.Au(t,e,n,r)},t.prototype.$l=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.1.1",t["Content-Type"]="text/plain",e)for(var n in e.T)e.T.hasOwnProperty(n)&&(t[n]=e.T[n])},t.prototype.kl=function(t,e){var n=Vl[t];return this.Ol+"/v1/"+e+":"+n},t}()),ql=function(){function t(){var t=this;this.Bl=function(){return t.ql()},this.Ul=function(){return t.Ql()},this.Kl=[],this.Wl()}return t.prototype.Lu=function(t){this.Kl.push(t)},t.prototype.fc=function(){window.removeEventListener("online",this.Bl),window.removeEventListener("offline",this.Ul)},t.prototype.Wl=function(){window.addEventListener("online",this.Bl),window.addEventListener("offline",this.Ul)},t.prototype.ql=function(){ui("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(0)},t.prototype.Ql=function(){ui("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(1)},t.Gs=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),zl=function(){function t(){}return t.prototype.Lu=function(t){},t.prototype.fc=function(){},t}(),Bl=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return i(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return this.serializer=Ya(t.Fl.t),this.kh=this.jl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Cu=this.Jl(t),[2]}}))}))},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return Mc(this.persistence,new xl,t.Yl,this.serializer)},t.prototype.Gl=function(t){return new Ll(jl.gl,this.serializer)},t.prototype.jl=function(t){return new Kh},t.prototype.terminate=function(){return i(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.kh.fc()];case 1:return t.sent(),[4,this.persistence.fc()];case 2:return t.sent(),[2]}}))}))},t}(),Gl=function(t){function n(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return e(n,t),n.prototype.initialize=function(e){return i(this,void 0,void 0,(function(){return o(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Wc(this.Cu)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,Sl(this.Xl.ga)];case 4:return n.sent(),[4,mh(this.Xl.Oh)];case 5:return n.sent(),[2]}}))}))},n.prototype.Jl=function(t){return Mc(this.persistence,new xl,t.Yl,this.serializer)},n.prototype.Hl=function(t){var e=this.persistence.Vr.cr;return new Iu(e,t.di)},n.prototype.Gl=function(t){var e=Rc(t.Fl.t,t.Fl.persistenceKey),n=void 0!==this.cacheSizeBytes?wu.er(this.cacheSizeBytes):wu.ir;return new xc(this.synchronizeTabs,e,t.clientId,n,t.di,fu(),pu(),this.serializer,this.kh,!!this.forceOwnership)},n.prototype.jl=function(t){return new Kh},n}(Bl),Kl=function(t){function n(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return e(n,t),n.prototype.initialize=function(e){return i(this,void 0,void 0,(function(){var n,r=this;return o(this,(function(s){switch(s.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return s.sent(),n=this.Xl.ga,this.kh instanceof Gh?(this.kh.ga={_h:wl.bind(null,n),fh:Al.bind(null,n),dh:Nl.bind(null,n),Ic:_l.bind(null,n),lh:bl.bind(null,n)},[4,this.kh.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.Zo((function(t){return i(r,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,Il(this.Xl.ga,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.lr?this.zl.start(this.Cu):t||this.zl.stop()),[2]}}))}))}))];case 4:return s.sent(),[2]}}))}))},n.prototype.jl=function(t){var e=fu();if(!Gh.Gs(e))throw new mi(vi.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Rc(t.Fl.t,t.Fl.persistenceKey);return new Gh(e,t.di,n,t.clientId,t.Yl)},n}(Gl),Hl=function(){function t(){}return t.prototype.initialize=function(t,e){return i(this,void 0,void 0,(function(){var n=this;return o(this,(function(r){switch(r.label){case 0:return this.Cu?[3,2]:(this.Cu=t.Cu,this.kh=t.kh,this.Nu=this.Zl(e),this.Oh=this.t_(e),this.Mh=this.e_(e),this.ga=this.n_(e,!t.synchronizeTabs),this.kh.Pu=function(t){return rl(n.ga,t,1)},this.Oh.xu.s_=ml.bind(null,this.ga),[4,Th(this.Oh,this.ga.Jh)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.e_=function(t){return new kh},t.prototype.Zl=function(t){var e,n=Ya(t.Fl.t),r=(e=t.Fl,new Fl(e));return function(t,e,n){return new Qc(t,e,n)}(t.credentials,r,n)},t.prototype.t_=function(t){var e,n,r,i,o,s=this;return e=this.Cu,n=this.Nu,r=t.di,i=function(t){return rl(s.ga,t,0)},o=ql.Gs()?new ql:new zl,new th(e,n,r,i,o)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,o,s){var a=new $h(t,e,n,r,i,o);return s&&(a.Hh=!0),a}(this.Cu,this.Oh,this.Mh,this.kh,t.Yl,t.$h,e)},t.prototype.terminate=function(){return function(t){return i(this,void 0,void 0,(function(){var e;return o(this,(function(n){switch(n.label){case 0:return e=di(t),ui("RemoteStore","RemoteStore shutting down."),e.Mu.add(5),[4,nh(e)];case 1:return n.sent(),e.$u.fc(),e.Bu.set("Unknown"),[2]}}))}))}(this.Oh)},t}(),Wl=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),Xl=function(t){this.o_=t};function Yl(t,e,n){if(!n)throw new mi(vi.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Jl(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new mi(vi.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function $l(t,e,n,r){if(!0===e&&!0===r)throw new mi(vi.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Ql(t){if(!Pi.ot(t))throw new mi(vi.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Zl(t){if(Pi.ot(t))throw new mi(vi.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function tf(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":fi()}function ef(t,e){if(t instanceof Xl&&(t=t.o_),!(t instanceof e)){if(e.name===t.constructor.name)throw new mi(vi.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=tf(t);throw new mi(vi.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function nf(t,e){if(e<=0)throw new mi(vi.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var rf=function(t){this.c_=t},of=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.prototype.u_=function(t){if(2!==t.a_)throw 1===t.a_?t.h_(this.c_+"() can only appear at the top level of your update data"):t.h_(this.c_+"() cannot be used with set() unless you pass {merge:true}");return t.en.push(t.path),null},n.prototype.isEqual=function(t){return t instanceof n},n}(rf);function sf(t,e,n){return new cp({a_:3,l_:e.settings.l_,methodName:t.c_,__:n},e.t,e.serializer,e.ignoreUndefinedProperties)}var af=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.prototype.u_=function(t){return new Fs(t.path,new Cs)},n.prototype.isEqual=function(t){return t instanceof n},n}(rf),uf=function(t){function n(e,n){var r=this;return(r=t.call(this,e)||this).f_=n,r}return e(n,t),n.prototype.u_=function(t){var e=sf(this,t,!0),n=this.f_.map((function(t){return vp(t,e)})),r=new Ds(n);return new Fs(t.path,r)},n.prototype.isEqual=function(t){return this===t},n}(rf),cf=function(t){function n(e,n){var r=this;return(r=t.call(this,e)||this).f_=n,r}return e(n,t),n.prototype.u_=function(t){var e=sf(this,t,!0),n=this.f_.map((function(t){return vp(t,e)})),r=new Rs(n);return new Fs(t.path,r)},n.prototype.isEqual=function(t){return this===t},n}(rf),hf=function(t){function n(e,n){var r=this;return(r=t.call(this,e)||this).d_=n,r}return e(n,t),n.prototype.u_=function(t){var e=new Ms(t.serializer,$o(t.serializer,this.d_));return new Fs(t.path,e)},n.prototype.isEqual=function(t){return this===t},n}(rf),lf=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new mi(vi.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new mi(vi.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.w_=t,this.E_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.w_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.E_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.w_===t.w_&&this.E_===t.E_},t.prototype.toJSON=function(){return{latitude:this.w_,longitude:this.E_}},t.prototype.C=function(t){return _i(this.w_,t.w_)||_i(this.E_,t.E_)},t}(),ff=function(){function t(t){this.T_=t}return t.fromBase64String=function(e){try{return new t(zi.fromBase64String(e))}catch(e){throw new mi(vi.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(zi.fromUint8Array(e))},t.prototype.toBase64=function(){return this.T_.toBase64()},t.prototype.toUint8Array=function(){return this.T_.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.T_.isEqual(t.T_)},t}(),pf=new Map,df=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new mi(vi.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new mi(vi.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,$l("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),vf=function(){function t(t,e){this.I_="(lite)",this.m_=new df({}),this.A_=!1,t instanceof ii?(this.R_=t,this.P_=new gi):(this.g_=t,this.R_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new mi(vi.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ii(t.options.projectId)}(t),this.P_=new bi(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.g_)throw new mi(vi.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.g_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y_",{get:function(){return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"V_",{get:function(){return void 0!==this.p_},enumerable:!1,configurable:!0}),t.prototype.v_=function(t){if(this.A_)throw new mi(vi.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.m_=new df(t),void 0!==t.credentials&&(this.P_=function(t){if(!t)return new gi;switch(t.type){case"gapi":var e=t.client;return pi(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Ii(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new mi(vi.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.b_=function(){return this.m_},t.prototype.S_=function(){return this.A_=!0,this.m_},t.prototype._delete=function(){return this.p_||(this.p_=this.D_()),this.p_},t.prototype.D_=function(){return function(t){var e=pf.get(t);e&&(ui("ComponentProvider","Removing Datastore"),pf.delete(t),e.terminate())}(this),Promise.resolve()},t}();function mf(){if("undefined"==typeof Uint8Array)throw new mi(vi.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function yf(){if("undefined"==typeof atob)throw new mi(vi.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var gf=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.fromBase64String=function(t){return yf(),new n(ff.fromBase64String(t))},n.fromUint8Array=function(t){return mf(),new n(ff.fromUint8Array(t))},n.prototype.toBase64=function(){return yf(),this.o_.toBase64()},n.prototype.toUint8Array=function(){return mf(),this.o_.toUint8Array()},n.prototype.isEqual=function(t){return this.o_.isEqual(t.o_)},n.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},n}(Xl),bf=function(){function t(){}return t.prototype.C_=function(t,e){switch(void 0===e&&(e="none"),Oo(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Uo(t.integerValue||t.doubleValue);case 3:return this.N_(t.timestampValue);case 4:return this.x_(t,e);case 5:return t.stringValue;case 6:return this.F_(Vo(t.bytesValue));case 7:return this.O_(t.referenceValue);case 8:return this.M_(t.geoPointValue);case 9:return this.k_(t.arrayValue,e);case 10:return this.L_(t.mapValue,e);default:throw fi()}},t.prototype.L_=function(t,e){var n=this,r={};return _o(t.fields||{},(function(t,i){r[t]=n.C_(i,e)})),r},t.prototype.M_=function(t){return new lf(Uo(t.latitude),Uo(t.longitude))},t.prototype.k_=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.C_(t,e)}))},t.prototype.x_=function(t,e){switch(e){case"previous":var n=ko(t);return null==n?null:this.C_(n,e);case"estimate":return this.N_(So(t));default:return null}},t.prototype.N_=function(t){var e=jo(t);return new ki(e.seconds,e.nanos)},t.prototype.B_=function(t,e){var n=Oi.Y(t);pi(Ns(n));var r=new ii(n.get(1),n.get(3)),i=new Pi(n.B(5));return r.isEqual(e)||ci("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),wf=function(t){function n(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return e(n,t),n.prototype.F_=function(t){return new gf(new ff(t))},n.prototype.O_=function(t){var e=this.B_(t,this.firestore.R_);return Wp.q_(e,this.firestore,null)},n}(bf),If=function(){function t(t,e,n,r,i){this.U_=t,this.Q_=e,this.K_=n,this.W_=r,this.j_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.K_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Uf(this.U_,this.j_,this.K_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.W_},t.prototype.data=function(){if(this.W_){if(this.j_){var t=new Ef(this.U_,this.Q_,this.K_,this.W_,null);return this.j_.fromFirestore(t)}return this.Q_.C_(this.W_.En())}},t.prototype.get=function(t){if(this.W_){var e=this.W_.data().field(Tf("DocumentSnapshot.get",t));if(null!==e)return this.Q_.C_(e)}},t}(),Ef=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.prototype.data=function(){return t.prototype.data.call(this)},n}(If);function Tf(t,e){return"string"==typeof e?Ip(t,e):e instanceof Xl?e.o_.G_:e.G_}var _f=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new mi(vi.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.G_=new Di(t)}return t.prototype.isEqual=function(t){return this.G_.isEqual(t.G_)},t}(),Af=function(t){function n(e,n){var r=this;return(r=t.call(this,e,n)||this).z_=new vu,r.I_="name"in e?e.name:"[DEFAULT]",r}return e(n,t),n.prototype.D_=function(){return this.H_||Gp(this),this.H_.terminate()},n}(vf);function Nf(t,e,n){var r=this,s=new Xa;return t.di.enqueue((function(){return i(r,void 0,void 0,(function(){var r;return o(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,kp(t,n)];case 1:return i.sent(),[4,Sp(t,e)];case 2:return i.sent(),s.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===vi.FAILED_PRECONDITION||t.code===vi.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=i.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),s.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return s.promise}))}function kf(t){if(t.y_||t.V_)throw new mi(vi.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Sf=function(t){function n(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this).U_=e,a.J_=e,a.metadata=o,a}return e(n,t),n.prototype.exists=function(){return t.prototype.exists.call(this)},n.prototype.data=function(t){if(void 0===t&&(t={}),this.W_){if(this.j_){var e=new xf(this.U_,this.Q_,this.K_,this.W_,this.metadata,null);return this.j_.fromFirestore(e,t)}return this.Q_.C_(this.W_.En(),t.serverTimestamps)}},n.prototype.get=function(t,e){if(void 0===e&&(e={}),this.W_){var n=this.W_.data().field(Tf("DocumentSnapshot.get",t));if(null!==n)return this.Q_.C_(n,e.serverTimestamps)}},n}(If),xf=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},n}(Sf),Of=function(){function t(t,e,n,r){this.U_=t,this.Q_=e,this.Y_=r,this.metadata=new $p(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.Y_.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.Y_.docs.forEach((function(r){t.call(e,new xf(n.U_,n.Q_,r.key,r,new $p(n.Y_.ee.has(r.key),n.Y_.fromCache),n.query.j_))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.Y_.se)throw new mi(vi.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.X_&&this.Z_===e||(this.X_=function(t,e){if(t.Y_.te.W()){var n=0;return t.Y_.docChanges.map((function(e){var r=new xf(t.U_,t.Q_,e.doc.key,e.doc,new $p(t.Y_.ee.has(e.doc.key),t.Y_.fromCache),t.query.j_);return e.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=t.Y_.te;return t.Y_.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new xf(t.U_,t.Q_,e.doc.key,e.doc,new $p(t.Y_.ee.has(e.doc.key),t.Y_.fromCache),t.query.j_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Cf(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this.Z_=e),this.X_},t}();function Cf(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fi()}}function Df(t,e){return t instanceof Sf&&e instanceof Sf?t.U_===e.U_&&t.K_.isEqual(e.K_)&&(null===t.W_?null===e.W_:t.W_.isEqual(e.W_))&&t.j_===e.j_:t instanceof Of&&e instanceof Of&&t.U_===e.U_&&rp(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.Y_.isEqual(e.Y_)}var Pf=function(t){function n(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return e(n,t),n.prototype.F_=function(t){return new ff(t)},n.prototype.O_=function(t){var e=this.B_(t,this.firestore.R_);return new Uf(this.firestore,null,e)},n}(bf);function Rf(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o=ef(t.firestore,Af),s=ip(o);return e instanceof Xl&&(e=e.o_),Mf(o,("string"==typeof e||e instanceof _f?pp(s,"updateDoc",t.K_,e,n,r):fp(s,"updateDoc",t.K_,e)).ef(t.K_,zs.exists(!0)))}function Lf(t){for(var e,n,r,s=this,a=[],u=1;u<arguments.length;u++)a[u-1]=arguments[u];var c={includeMetadataChanges:!1},h=0;"object"!=typeof a[h]||Ja(a[h])||(c=a[h],h++);var l,f,p,d={includeMetadataChanges:c.includeMetadataChanges};if(Ja(a[h])){var v=a[h];a[h]=null===(e=v.next)||void 0===e?void 0:e.bind(v),a[h+1]=null===(n=v.error)||void 0===n?void 0:n.bind(v),a[h+2]=null===(r=v.complete)||void 0===r?void 0:r.bind(v)}if(t instanceof Uf)f=ef(t.firestore,Af),p=pa(t.K_.path),l={next:function(e){a[h]&&a[h](jf(f,t,e))},error:a[h+1],complete:a[h+2]};else{f=ef(t.firestore,Af),p=t.tf;var m=new Pf(f);l={next:function(e){a[h]&&a[h](new Of(f,m,t,e))},error:a[h+1],complete:a[h+2]},$f(t.tf)}var y=Bp(f),g=new Wl(l),b=new Ph(p,g,d);return f.z_.Ri((function(){return i(s,void 0,void 0,(function(){var t;return o(this,(function(e){switch(e.label){case 0:return t=Sh,[4,Lp(y)];case 1:return[2,t.apply(void 0,[e.sent(),b])]}}))}))})),function(){g.r_(),f.z_.Ri((function(){return i(s,void 0,void 0,(function(){var t;return o(this,(function(e){switch(e.label){case 0:return t=xh,[4,Lp(y)];case 1:return[2,t.apply(void 0,[e.sent(),b])]}}))}))}))}}function Mf(t,e){return function(t,e){var n=this,r=new Xa;return t.di.Ri((function(){return i(n,void 0,void 0,(function(){var n;return o(this,(function(i){switch(i.label){case 0:return n=el,[4,Rp(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(Bp(t),e)}function jf(t,e,n){var r=n.docs.get(e.K_),i=new Pf(t);return new Sf(t,i,e.K_,r,new $p(n.hasPendingWrites,n.fromCache),e.j_)}var Uf=function(){function t(t,e,n){this.j_=e,this.K_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"nf",{get:function(){return this.K_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.K_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.K_.path.J()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Qf(this.firestore,this.j_,this.K_.path.q())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.K_)},t}(),Vf=function(){function t(t,e,n){this.j_=e,this.tf=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.tf)},t}(),Ff=function(){};function qf(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.sf(t)}return t}var zf=function(t){function n(e,n,r){var i=this;return(i=t.call(this)||this).rf=e,i.cf=n,i.uf=r,i.type="where",i}return e(n,t),n.prototype.sf=function(t){var e=ip(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.tt()){if("array-contains"===o||"array-contains-any"===o)throw new mi(vi.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Yf(s,o);for(var u=[],c=0,h=s;c<h.length;c++){var l=h[c];u.push(Xf(r,t,l))}a={arrayValue:{values:u}}}else a=Xf(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Yf(s,o),a=dp(n,"where",s,"in"===o||"not-in"===o);var f=ka.create(i,o,a);return function(t,e){if(e.An()){var n=ya(t);if(null!==n&&!n.isEqual(e.field))throw new mi(vi.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=ma(t);null!==r&&Jf(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new mi(vi.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new mi(vi.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,f),f}(t.tf,0,e,t.firestore.R_,this.rf,this.cf,this.uf);return new Vf(t.firestore,t.j_,function(t,e){var n=t.filters.concat([e]);return new la(t.path,t.collectionGroup,t.Tn.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.tf,n))},n}(Ff),Bf=function(t){function n(e,n){var r=this;return(r=t.call(this)||this).rf=e,r.af=n,r.type="orderBy",r}return e(n,t),n.prototype.sf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new mi(vi.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new mi(vi.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Fa(e,n);return function(t,e){if(null===ma(t)){var n=ya(t);null!==n&&Jf(0,n,e.field)}}(t,r),r}(t.tf,this.rf,this.af);return new Vf(t.firestore,t.j_,function(t,e){var n=t.Tn.concat([e]);return new la(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.tf,e))},n}(Ff),Gf=function(t){function n(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.hf=n,i.lf=r,i}return e(n,t),n.prototype.sf=function(t){return new Vf(t.firestore,t.j_,Ia(t.tf,this.hf,this.lf))},n}(Ff),Kf=function(t){function n(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i._f=n,i.ff=r,i}return e(n,t),n.prototype.sf=function(t){var e=Wf(t,this.type,this._f,this.ff);return new Vf(t.firestore,t.j_,function(t,e){return new la(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.tf,e))},n}(Ff),Hf=function(t){function n(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i._f=n,i.ff=r,i}return e(n,t),n.prototype.sf=function(t){var e=Wf(t,this.type,this._f,this.ff);return new Vf(t.firestore,t.j_,function(t,e){return new la(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.tf,e))},n}(Ff);function Wf(t,e,n,r){if(n[0]instanceof Xl&&(n[0]=n[0].o_),n[0]instanceof If)return function(t,e,n,r,i){if(!r)throw new mi(vi.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=ba(t);s<a.length;s++){var u=a[s];if(u.field.tt())o.push(Fo(e,r.key));else{var c=r.field(u.field);if(No(c))throw new mi(vi.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var h=u.field.J();throw new mi(vi.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+h+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Ma(o,i)}(t.tf,t.firestore.R_,e,n[0].W_,r);var i=ip(t.firestore);return function(t,e,n,r,i,o){var s=t.Tn;if(i.length>s.length)throw new mi(vi.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.tt()){if("string"!=typeof c)throw new mi(vi.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!ga(t)&&-1!==c.indexOf("/"))throw new mi(vi.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var h=t.path.child(Oi.Y(c));if(!Pi.ot(h))throw new mi(vi.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+h+"' is not because it contains an odd number of segments.");var l=new Pi(h);a.push(Fo(e,l))}else{var f=dp(n,r,c);a.push(f)}}return new Ma(a,o)}(t.tf,t.firestore.R_,i,e,n,r)}function Xf(t,e,n){if(n instanceof Xl&&(n=n.o_),"string"==typeof n){if(""===n)throw new mi(vi.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ga(e)&&-1!==n.indexOf("/"))throw new mi(vi.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Oi.Y(n));if(!Pi.ot(r))throw new mi(vi.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Fo(t,new Pi(r))}if(n instanceof Uf)return Fo(t,n.K_);throw new mi(vi.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+tf(n)+".")}function Yf(t,e){if(!Array.isArray(t)||0===t.length)throw new mi(vi.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new mi(vi.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Jf(t,e,n){if(!n.isEqual(e))throw new mi(vi.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function $f(t){if(va(t)&&0===t.Tn.length)throw new mi(vi.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Qf=function(t){function n(e,n,r){var i=this;return(i=t.call(this,e,n,pa(r))||this).firestore=e,i.nf=r,i.type="collection",i}return e(n,t),Object.defineProperty(n.prototype,"id",{get:function(){return this.tf.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"path",{get:function(){return this.tf.path.J()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){var t=this.nf.q();return t.W()?null:new Uf(this.firestore,null,new Pi(t))},enumerable:!1,configurable:!0}),n.prototype.withConverter=function(t){return new n(this.firestore,t,this.nf)},n}(Vf);function Zf(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(Yl("collection","path",e),t instanceof vf){var i=Oi.Y.apply(Oi,c([e],n));return Zl(i),new Qf(t,null,i)}if(!(t instanceof Uf||t instanceof Qf))throw new mi(vi.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=Oi.Y.apply(Oi,c([t.path],n)).child(Oi.Y(e));return Zl(o),new Qf(t.firestore,null,o)}function tp(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(1===arguments.length&&(e=Ti.D()),Yl("doc","path",e),t instanceof vf){var i=Oi.Y.apply(Oi,c([e],n));return Ql(i),new Uf(t,null,new Pi(i))}if(!(t instanceof Uf||t instanceof Qf))throw new mi(vi.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=t.nf.child(Oi.Y.apply(Oi,c([e],n)));return Ql(o),new Uf(t.firestore,t instanceof Qf?t.j_:null,new Pi(o))}var ep=function(t){function n(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return e(n,t),n.prototype.F_=function(t){return new ff(t)},n.prototype.O_=function(t){var e=this.B_(t,this.firestore.R_);return new Uf(this.firestore,null,e)},n}(bf);function np(t,e){return(t instanceof Uf||t instanceof Qf)&&(e instanceof Uf||e instanceof Qf)&&t.firestore===e.firestore&&t.path===e.path&&t.j_===e.j_}function rp(t,e){return t instanceof Vf&&e instanceof Vf&&t.firestore===e.firestore&&Ea(t.tf,e.tf)&&t.j_===e.j_}function ip(t){var e=t.S_(),n=Ya(t.R_);return new hp(t.R_,!!e.ignoreUndefinedProperties,n)}var op=/^__.*__$/,sp=function(){function t(t,e,n){this.data=t,this.en=e,this.fieldTransforms=n}return t.prototype.ef=function(t,e){var n=[];return null!==this.en?n.push(new $s(t,this.data,this.en,e)):n.push(new Js(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new Zs(t,this.fieldTransforms)),n},t}(),ap=function(){function t(t,e,n){this.data=t,this.en=e,this.fieldTransforms=n}return t.prototype.ef=function(t,e){var n=[new $s(t,this.data,this.en,e)];return this.fieldTransforms.length>0&&n.push(new Zs(t,this.fieldTransforms)),n},t}();function up(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fi()}}var cp=function(){function t(t,e,n,r,i,o){this.settings=t,this.t=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.df(),this.fieldTransforms=i||[],this.en=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"a_",{get:function(){return this.settings.a_},enumerable:!1,configurable:!0}),t.prototype.wf=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.en)},t.prototype.Ef=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.wf({path:n,__:!1});return r.Tf(t),r},t.prototype.If=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.wf({path:n,__:!1});return r.df(),r},t.prototype.mf=function(t){return this.wf({path:void 0,__:!0})},t.prototype.h_=function(t){return Ep(t,this.settings.methodName,this.settings.Af||!1,this.path,this.settings.l_)},t.prototype.contains=function(t){return void 0!==this.en.find((function(e){return t.j(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.j(e.field)}))},t.prototype.df=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Tf(this.path.get(t))},t.prototype.Tf=function(t){if(0===t.length)throw this.h_("Document fields must not be empty");if(up(this.a_)&&op.test(t))throw this.h_('Document fields cannot begin and end with "__"')},t}(),hp=function(){function t(t,e,n){this.t=t,this.ignoreUndefinedProperties=e,this.serializer=n||Ya(t)}return t.prototype.Rf=function(t,e,n,r){return void 0===r&&(r=!1),new cp({a_:t,methodName:e,l_:n,path:Di.X(),__:!1,Af:r},this.t,this.serializer,this.ignoreUndefinedProperties)},t}();function lp(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Rf(o.merge||o.mergeFields?2:0,e,n,i);gp("Data must be an object, but it was:",s,r);var a,u,c=mp(r,s);if(o.merge)a=new Vs(s.en),u=s.fieldTransforms;else if(o.mergeFields){for(var h=[],l=0,f=o.mergeFields;l<f.length;l++){var p=bp(e,f[l],n);if(!s.contains(p))throw new mi(vi.INVALID_ARGUMENT,"Field '"+p+"' is specified in your field mask but missing from your input data.");Tp(h,p)||h.push(p)}a=new Vs(h),u=s.fieldTransforms.filter((function(t){return a.un(t.field)}))}else a=null,u=s.fieldTransforms;return new sp(new ia(c),a,u)}function fp(t,e,n,r){var i=t.Rf(1,e,n);gp("Data must be an object, but it was:",i,r);var o=[],s=new oa;_o(r,(function(t,r){var a=Ip(e,t,n);r instanceof Xl&&(r=r.o_);var u=i.If(a);if(r instanceof of)o.push(a);else{var c=vp(r,u);null!=c&&(o.push(a),s.set(a,c))}}));var a=new Vs(o);return new ap(s.hn(),a,i.fieldTransforms)}function pp(t,e,n,r,i,o){var s=t.Rf(1,e,n),a=[bp(e,r,n)],u=[i];if(o.length%2!=0)throw new mi(vi.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(bp(e,o[c])),u.push(o[c+1]);for(var h=[],l=new oa,f=a.length-1;f>=0;--f)if(!Tp(h,a[f])){var p=a[f],d=u[f];d instanceof Xl&&(d=d.o_);var v=s.If(p);if(d instanceof of)h.push(p);else{var m=vp(d,v);null!=m&&(h.push(p),l.set(p,m))}}var y=new Vs(h);return new ap(l.hn(),y,s.fieldTransforms)}function dp(t,e,n,r){return void 0===r&&(r=!1),vp(n,t.Rf(r?4:3,e))}function vp(t,e){if(t instanceof Xl&&(t=t.o_),yp(t))return gp("Unsupported field value:",e,t),mp(t,e);if(t instanceof rf)return function(t,e){if(!up(e.a_))throw e.h_(t.c_+"() can only be used with update() and set()");if(!e.path)throw e.h_(t.c_+"() is not currently supported inside arrays");var n=t.u_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.en.push(e.path),t instanceof Array){if(e.settings.__&&4!==e.a_)throw e.h_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=vp(o[i],e.mf(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof Xl&&(t=t.o_),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return $o(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=ki.fromDate(t);return{timestampValue:Qo(e.serializer,n)}}if(t instanceof ki){var r=new ki(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Qo(e.serializer,r)}}if(t instanceof lf)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ff)return{bytesValue:Zo(e.serializer,t.T_)};if(t instanceof Uf){var i=e.t,o=t.firestore.R_;if(!o.isEqual(i))throw e.h_("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:ns(t.firestore.R_||e.t,t.K_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.h_("Unsupported field value: "+tf(t))}(t,e)}function mp(t,e){var n={};return Ao(t)?e.path&&e.path.length>0&&e.en.push(e.path):_o(t,(function(t,r){var i=vp(r,e.Ef(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function yp(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof ki||t instanceof lf||t instanceof ff||t instanceof Uf||t instanceof rf)}function gp(t,e,n){if(!yp(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=tf(n);throw"an object"===r?e.h_(t+" a custom object"):e.h_(t+" "+r)}}function bp(t,e,n){if(e instanceof Xl&&(e=e.o_),e instanceof _f)return e.G_;if("string"==typeof e)return Ip(t,e);throw Ep("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var wp=new RegExp("[~\\*/\\[\\]]");function Ip(t,e,n){if(e.search(wp)>=0)throw Ep("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(_f.bind.apply(_f,c([void 0],e.split("."))))).G_}catch(r){throw Ep("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Ep(t,e,n,r,i){var o=r&&!r.W(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new mi(vi.INVALID_ARGUMENT,(a+=". ")+t+u)}function Tp(t,e){return t.some((function(t){return t.isEqual(e)}))}var _p=function(){function t(t){this.Nu=t,this.Pf=new Map,this.mutations=[],this.gf=!1,this.yf=null,this.Vf=new Set}return t.prototype.pf=function(t){return i(this,void 0,void 0,(function(){var e,n=this;return o(this,(function(r){switch(r.label){case 0:if(this.vf(),this.mutations.length>0)throw new mi(vi.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return i(this,void 0,void 0,(function(){var n,r,i,s,a,u;return o(this,(function(o){switch(o.label){case 0:return n=di(t),r=us(n.serializer)+"/documents",i={documents:e.map((function(t){return is(n.serializer,t)}))},[4,n.Ru("BatchGetDocuments",r,i)];case 1:return s=o.sent(),a=new Map,s.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){pi(!!e.found),e.found.name,e.found.updateTime;var n=os(t,e.found.name),r=es(e.found.updateTime),i=new ia({mapValue:{fields:e.found.fields}});return new ua(n,r,i,{})}(t,e):"missing"in e?function(t,e){pi(!!e.missing),pi(!!e.readTime);var n=os(t,e.missing),r=es(e.readTime);return new ca(n,r)}(t,e):fi()}(n.serializer,t);a.set(e.key.toString(),e)})),u=[],[2,(e.forEach((function(t){var e=a.get(t.toString());pi(!!e),u.push(e)})),u)]}}))}))}(this.Nu,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof ca||t instanceof ua?n.bf(t):fi()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.ef(t,this.rn(t))),this.Vf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.ef(t,this.Sf(t)))}catch(t){this.yf=t}this.Vf.add(t.toString())},t.prototype.delete=function(t){this.write([new na(t,this.rn(t))]),this.Vf.add(t.toString())},t.prototype.commit=function(){return i(this,void 0,void 0,(function(){var t,e=this;return o(this,(function(n){switch(n.label){case 0:if(this.vf(),this.yf)throw this.yf;return t=this.Pf,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=Pi.st(n);e.mutations.push(new ra(r,e.rn(r)))})),[4,function(t,e){return i(this,void 0,void 0,(function(){var n,r,i;return o(this,(function(o){switch(o.label){case 0:return n=di(t),r=us(n.serializer)+"/documents",i={writes:e.map((function(t){return ls(n.serializer,t)}))},[4,n.Au("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.Nu,this.mutations)];case 1:return n.sent(),this.gf=!0,[2]}}))}))},t.prototype.bf=function(t){var e;if(t instanceof ua)e=t.version;else{if(!(t instanceof ca))throw fi();e=Si.min()}var n=this.Pf.get(t.key.toString());if(n){if(!e.isEqual(n))throw new mi(vi.ABORTED,"Document version changed between two reads.")}else this.Pf.set(t.key.toString(),e)},t.prototype.rn=function(t){var e=this.Pf.get(t.toString());return!this.Vf.has(t.toString())&&e?zs.updateTime(e):zs.on()},t.prototype.Sf=function(t){var e=this.Pf.get(t.toString());if(!this.Vf.has(t.toString())&&e){if(e.isEqual(Si.min()))throw new mi(vi.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return zs.updateTime(e)}return zs.exists(!0)},t.prototype.write=function(t){this.vf(),this.mutations=this.mutations.concat(t)},t.prototype.vf=function(){},t}(),Ap=function(){function t(t,e,n,r){this.di=t,this.Nu=e,this.updateFunction=n,this.Ti=r,this.Df=5,this.Si=new nu(this.di,"transaction_retry")}return t.prototype.run=function(){this.Cf()},t.prototype.Cf=function(){var t=this;this.Si.Bs((function(){return i(t,void 0,void 0,(function(){var t,e,n=this;return o(this,(function(r){return t=new _p(this.Nu),(e=this.Nf(t))&&e.then((function(e){n.di.Ri((function(){return t.commit().then((function(){n.Ti.resolve(e)})).catch((function(t){n.xf(t)}))}))})).catch((function(t){n.xf(t)})),[2]}))}))}))},t.prototype.Nf=function(t){try{var e=this.updateFunction(t);return!Ri(e)&&e.catch&&e.then?e:(this.Ti.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ti.reject(t),null}},t.prototype.xf=function(t){var e=this;this.Df>0&&this.Ff(t)?(this.Df-=1,this.di.Ri((function(){return e.Cf(),Promise.resolve()}))):this.Ti.reject(t)},t.prototype.Ff=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Wi(e)}return!1},t}(),Np=function(){function t(t,e,n){var r=this;this.credentials=t,this.di=e,this.Fl=n,this.user=oi.UNAUTHENTICATED,this.clientId=Ti.D(),this.Of=function(){},this.g=new Xa,this.credentials.A((function(t){ui("FirestoreClient","Received user=",t.uid),r.user.isEqual(t)||(r.user=t,r.Of(t)),r.g.resolve()}))}return t.prototype.getConfiguration=function(){return i(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,this.g.promise];case 1:return[2,(t.sent(),{di:this.di,Fl:this.Fl,clientId:this.clientId,credentials:this.credentials,Yl:this.user,$h:100})]}}))}))},t.prototype.Mf=function(t){var e=this;this.Of=t,this.g.promise.then((function(){return e.Of(e.user)}))},t.prototype.kf=function(){if(this.di.Ci)throw new mi(vi.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.di.Oi();var e=new Xa;return this.di.Ni((function(){return i(t,void 0,void 0,(function(){var t,n;return o(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.$f?[4,this.$f.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.Lf?[4,this.Lf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.R(),e.resolve(),[3,6];case 5:return t=r.sent(),n=mu(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function kp(t,e){return i(this,void 0,void 0,(function(){var n,r=this;return o(this,(function(s){switch(s.label){case 0:return t.di.Li(),ui("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),t.Mf((function(n){return t.di.Mi((function(){return i(r,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,jc(e.Cu,n)];case 1:return t.sent(),[2]}}))}))}))})),e.persistence.tc((function(){return t.terminate()})),t.Lf=e,[2]}}))}))}function Sp(t,e){return i(this,void 0,void 0,(function(){var n,r;return o(this,(function(s){switch(s.label){case 0:return t.di.Li(),[4,xp(t)];case 1:return n=s.sent(),ui("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=s.sent(),[4,e.initialize(n,r)];case 3:return s.sent(),t.Mf((function(n){return t.di.Mi((function(){return function(t,e){return i(this,void 0,void 0,(function(){var n,r;return o(this,(function(i){switch(i.label){case 0:return(n=di(t)).di.Li(),ui("RemoteStore","RemoteStore received new credentials"),r=ch(n),n.Mu.add(3),[4,nh(n)];case 1:return i.sent(),r&&n.Bu.set("Unknown"),[4,n.xu.s_(e)];case 2:return i.sent(),n.Mu.delete(3),[4,eh(n)];case 3:return i.sent(),[2]}}))}))}(e.Oh,n)}))})),t.$f=e,[2]}}))}))}function xp(t){return i(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return t.Lf?[3,2]:(ui("FirestoreClient","Using default OfflineComponentProvider"),[4,kp(t,new Bl)]);case 1:e.sent(),e.label=2;case 2:return[2,t.Lf]}}))}))}function Op(t){return i(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return t.$f?[3,2]:(ui("FirestoreClient","Using default OnlineComponentProvider"),[4,Sp(t,new Hl)]);case 1:e.sent(),e.label=2;case 2:return[2,t.$f]}}))}))}function Cp(t){return xp(t).then((function(t){return t.persistence}))}function Dp(t){return xp(t).then((function(t){return t.Cu}))}function Pp(t){return Op(t).then((function(t){return t.Oh}))}function Rp(t){return Op(t).then((function(t){return t.ga}))}function Lp(t){return i(this,void 0,void 0,(function(){var e,n;return o(this,(function(r){switch(r.label){case 0:return[4,Op(t)];case 1:return e=r.sent(),[2,((n=e.Mh).Ju=Qh.bind(null,e.ga),n.Zu=tl.bind(null,e.ga),n)]}}))}))}function Mp(t,e,n,r,i){var o=new Wl({next:function(o){e.Ri((function(){return xh(t,s)}));var a=o.docs.has(n);!a&&o.fromCache?i.reject(new mi(vi.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new mi(vi.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Ph(pa(n.path),o,{includeMetadataChanges:!0,oa:!0});return Sh(t,s)}function jp(t,e,n,r,i){var o=new Wl({next:function(n){e.Ri((function(){return xh(t,s)})),n.fromCache&&"server"===r.source?i.reject(new mi(vi.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Ph(n,o,{includeMetadataChanges:!0,oa:!0});return Sh(t,s)}var Up=function(){function t(t,e){this.U_=t,this.Bf=e,this.qf=[],this.Uf=!1,this.Qf=ip(t)}return t.prototype.set=function(t,e,n){this.Kf();var r=Vp(t,this.U_),i=od(r.j_,e,n),o=lp(this.Qf,"WriteBatch.set",r.K_,i,null!==r.j_,n);return this.qf=this.qf.concat(o.ef(r.K_,zs.on())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Kf();var o,s=Vp(t,this.U_);return e instanceof Xl&&(e=e.o_),o="string"==typeof e||e instanceof _f?pp(this.Qf,"WriteBatch.update",s.K_,e,n,r):fp(this.Qf,"WriteBatch.update",s.K_,e),this.qf=this.qf.concat(o.ef(s.K_,zs.exists(!0))),this},t.prototype.delete=function(t){this.Kf();var e=Vp(t,this.U_);return this.qf=this.qf.concat(new na(e.K_,zs.on())),this},t.prototype.commit=function(){return this.Kf(),this.Uf=!0,this.qf.length>0?this.Bf(this.qf):Promise.resolve()},t.prototype.Kf=function(){if(this.Uf)throw new mi(vi.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Vp(t,e){if(t instanceof Xl&&(t=t.o_),t.firestore!==e)throw new mi(vi.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Fp=function(t){function n(e,n){var r=this;return(r=t.call(this,e,n)||this).U_=e,r}return e(n,t),n.prototype.get=function(e){var n=this,r=Vp(e,this.U_),i=new Pf(this.U_);return t.prototype.get.call(this,e).then((function(t){return new Sf(n.U_,i,r.K_,t.W_,new $p(!1,!1),r.j_)}))},n}(function(){function t(t,e){this.U_=t,this.Wf=e,this.Qf=ip(t)}return t.prototype.get=function(t){var e=this,n=Vp(t,this.U_),r=new ep(this.U_);return this.Wf.pf([n.K_]).then((function(t){if(!t||1!==t.length)return fi();var i=t[0];if(i instanceof ca)return new If(e.U_,r,n.K_,null,n.j_);if(i instanceof ua)return new If(e.U_,r,i.key,i,n.j_);throw fi()}))},t.prototype.set=function(t,e,n){var r=Vp(t,this.U_),i=od(r.j_,e,n),o=lp(this.Qf,"Transaction.set",r.K_,i,null!==r.j_,n);return this.Wf.set(r.K_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=Vp(t,this.U_);return e instanceof Xl&&(e=e.o_),o="string"==typeof e||e instanceof _f?pp(this.Qf,"Transaction.update",s.K_,e,n,r):fp(this.Qf,"Transaction.update",s.K_,e),this.Wf.update(s.K_,o),this},t.prototype.delete=function(t){var e=Vp(t,this.U_);return this.Wf.delete(e.K_),this},t}()),qp=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){kf(t);var n=Bp(t),r=t.S_(),i=new Hl;return Nf(n,i,new Gl(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t.o_,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){kf(t);var e=Bp(t),n=t.S_(),r=new Hl;return Nf(e,r,new Kl(r,n.cacheSizeBytes))}(t.o_)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.y_&&!t.V_)throw new mi(vi.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Xa;return t.z_.Ni((function(){return i(e,void 0,void 0,(function(){var e;return o(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return i(this,void 0,void 0,(function(){var e;return o(this,(function(n){switch(n.label){case 0:return ru.Gs()?(e=t+"main",[4,ru.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(Rc(t.R_,t.I_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t.o_)},t}(),zp=function(t){function n(e,n,r){var i=this;return(i=t.call(this,n)||this).jf=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof ii||(i.Gf=e),i}return e(n,t),Object.defineProperty(n.prototype,"R_",{get:function(){return this.o_.R_},enumerable:!1,configurable:!0}),n.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.o_.b_()),t)).merge,this.o_.v_(t)},n.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this.o_.b_().host&&hi("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},n.prototype.enableNetwork=function(){return function(t){return function(t){var e=this;return t.di.enqueue((function(){return i(e,void 0,void 0,(function(){var e,n;return o(this,(function(r){switch(r.label){case 0:return[4,Cp(t)];case 1:return e=r.sent(),[4,Pp(t)];case 2:return n=r.sent(),[2,(e.ec(!0),function(t){var e=di(t);return e.Mu.delete(0),eh(e)}(n))]}}))}))}))}(Bp(t))}(this.o_)},n.prototype.disableNetwork=function(){return function(t){return function(t){var e=this;return t.di.enqueue((function(){return i(e,void 0,void 0,(function(){var e,n;return o(this,(function(r){switch(r.label){case 0:return[4,Cp(t)];case 1:return e=r.sent(),[4,Pp(t)];case 2:return n=r.sent(),[2,(e.ec(!1),function(t){return i(this,void 0,void 0,(function(){var e;return o(this,(function(n){switch(n.label){case 0:return(e=di(t)).Mu.add(0),[4,nh(e)];case 1:return n.sent(),e.Bu.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Bp(t))}(this.o_)},n.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&$l("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.jf.enableMultiTabIndexedDbPersistence(this):this.jf.enableIndexedDbPersistence(this,n)},n.prototype.clearPersistence=function(){return this.jf.clearIndexedDbPersistence(this)},n.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this.o_._delete()},n.prototype.waitForPendingWrites=function(){return function(t){return function(t){var e=this,n=new Xa;return t.di.Ri((function(){return i(e,void 0,void 0,(function(){var e;return o(this,(function(r){switch(r.label){case 0:return e=al,[4,Rp(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Bp(t))}(this.o_)},n.prototype.onSnapshotsInSync=function(t){return function(t,e){var n=this,r=Bp(t),s=Ja(e)?e:{next:e},a=new Wl(s);return t.z_.Ri((function(){return i(n,void 0,void 0,(function(){var t;return o(this,(function(e){switch(e.label){case 0:return t=function(t,e){di(t).Hu.add(e),e.next()},[4,Lp(r)];case 1:return t.apply(void 0,[e.sent(),a]),[2]}}))}))})),function(){a.r_(),t.z_.Ri((function(){return i(n,void 0,void 0,(function(){var t;return o(this,(function(e){switch(e.label){case 0:return t=function(t,e){di(t).Hu.delete(e)},[4,Lp(r)];case 1:return t.apply(void 0,[e.sent(),a]),[2]}}))}))}))}}(this.o_,t)},Object.defineProperty(n.prototype,"app",{get:function(){if(!this.Gf)throw new mi(vi.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Gf},enumerable:!1,configurable:!0}),n.prototype.collection=function(t){try{return new rd(this,Zf(this.o_,t))}catch(t){throw Xp(t,"collection()","Firestore.collection()")}},n.prototype.doc=function(t){try{return new Wp(this,tp(this.o_,t))}catch(t){throw Xp(t,"doc()","Firestore.doc()")}},n.prototype.collectionGroup=function(t){try{return new td(this,function(t,e){if(Yl("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new mi(vi.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Vf(t,null,function(t){return new la(Oi.X(),t)}(e))}(this.o_,t))}catch(t){throw Xp(t,"collectionGroup()","Firestore.collectionGroup()")}},n.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Xa;return t.di.Ri((function(){return i(n,void 0,void 0,(function(){var n;return o(this,(function(i){switch(i.label){case 0:return[4,function(t){return Op(t).then((function(t){return t.Nu}))}(t)];case 1:return n=i.sent(),new Ap(t.di,n,e,r).run(),[2]}}))}))})),r.promise}(Bp(t),(function(n){return e(new Fp(t,n))}))}(this.o_,(function(n){return t(new Kp(e,n))}))},n.prototype.batch=function(){var t=this;return Bp(this.o_),new Hp(new Up(this.o_,(function(e){return Mf(t.o_,e)})))},n}(Xl);function Bp(t){return t.H_||Gp(t),t.H_.kf(),t.H_}function Gp(t){var e=t.S_(),n=function(t,e,n){return new ri(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.R_,t.I_,e);t.H_=new Np(t.P_,t.z_,n)}var Kp=function(t){function n(e,n){var r=this;return(r=t.call(this,n)||this).U_=e,r}return e(n,t),n.prototype.get=function(t){var e=this,n=id(t);return this.o_.get(n).then((function(t){return new Qp(e.U_,t)}))},n.prototype.set=function(t,e,n){var r=id(t);return n?(Jl("Transaction.set",n),this.o_.set(r,e,n)):this.o_.set(r,e),this},n.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=id(t);return 2===arguments.length?this.o_.update(s,e):(r=this.o_).update.apply(r,c([s,e,n],i)),this},n.prototype.delete=function(t){var e=id(t);return this.o_.delete(e),this},n}(Xl),Hp=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.prototype.set=function(t,e,n){var r=id(t);return n?(Jl("WriteBatch.set",n),this.o_.set(r,e,n)):this.o_.set(r,e),this},n.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=id(t);return 2===arguments.length?this.o_.update(s,e):(r=this.o_).update.apply(r,c([s,e,n],i)),this},n.prototype.delete=function(t){var e=id(t);return this.o_.delete(e),this},n.prototype.commit=function(){return this.o_.commit()},n}(Xl),Wp=function(t){function n(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Q_=new wf(e),r}return e(n,t),n.zf=function(t,e,r){if(t.length%2!=0)throw new mi(vi.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.J()+" has "+t.length);return new n(e,new Uf(e.o_,r,new Pi(t)))},n.q_=function(t,e,r){return new n(e,new Uf(e.o_,r,t))},Object.defineProperty(n.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return new rd(this.firestore,this.o_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"path",{get:function(){return this.o_.path},enumerable:!1,configurable:!0}),n.prototype.collection=function(t){try{return new rd(this.firestore,Zf(this.o_,t))}catch(t){throw Xp(t,"collection()","DocumentReference.collection()")}},n.prototype.isEqual=function(t){return t instanceof Xl&&(t=t.o_),t instanceof Uf&&np(this.o_,t)},n.prototype.set=function(t,e){e=Jl("DocumentReference.set",e);try{return function(t,e,n){var r=ef(t.firestore,Af),i=od(t.j_,e,n);return Mf(r,lp(ip(r),"setDoc",t.K_,i,null!==t.j_,n).ef(t.K_,zs.on()))}(this.o_,t,e)}catch(t){throw Xp(t,"setDoc()","DocumentReference.set()")}},n.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Rf(this.o_,t):Rf.apply(void 0,c([this.o_,t,e],n))}catch(t){throw Xp(t,"updateDoc()","DocumentReference.update()")}},n.prototype.delete=function(){return Mf(ef((t=this.o_).firestore,Af),[new na(t.K_,zs.on())]);var t},n.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Yp(e),i=Jp(e,(function(e){return new Qp(t.firestore,new Sf(t.firestore.o_,t.Q_,e.K_,e.W_,e.metadata,t.o_.j_))}));return Lf(this.o_,r,i)},n.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){var e=this,n=ef(t.firestore,Af),r=Bp(n),s=new Pf(n),a=new Xa;return n.z_.Ri((function(){return i(e,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,Dp(r)];case 1:return[4,function(t,e,n){return i(this,void 0,void 0,(function(){var r,i,s;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=di(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Oc.cs(t,e)}))}(t,e)];case 1:return(r=o.sent())instanceof ua?n.resolve(r):r instanceof ca?n.resolve(null):n.reject(new mi(vi.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=o.sent(),s=mu(i,"Failed to get document '"+e+" from cache"),n.reject(s),[3,3];case 3:return[2]}}))}))}(e.sent(),t.K_,a)];case 2:return e.sent(),[2]}}))}))})),a.promise.then((function(e){return new Sf(n,s,t.K_,e,new $p(e instanceof ua&&e.an,!0),t.j_)}))}(this.o_):"server"===(null==t?void 0:t.source)?function(t){var e=this,n=ef(t.firestore,Af),r=Bp(n),s=new Xa;return n.z_.Ri((function(){return i(e,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,Lp(r)];case 1:return[4,Mp(e.sent(),n.z_,t.K_,{source:"server"},s)];case 2:return e.sent(),[2]}}))}))})),s.promise.then((function(e){return jf(n,t,e)}))}(this.o_):function(t){var e=this,n=ef(t.firestore,Af),r=Bp(n),s=new Xa;return n.z_.Ri((function(){return i(e,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,Lp(r)];case 1:return[4,Mp(e.sent(),n.z_,t.K_,{source:"default"},s)];case 2:return e.sent(),[2]}}))}))})),s.promise.then((function(e){return jf(n,t,e)}))}(this.o_)).then((function(t){return new Qp(e.firestore,new Sf(e.firestore.o_,e.Q_,t.K_,t.W_,t.metadata,e.o_.j_))}))},n.prototype.withConverter=function(t){return new n(this.firestore,this.o_.withConverter(t))},n}(Xl);function Xp(t,e,n){return t.message=t.message.replace(e,n),t}function Yp(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Ja(r))return r}return{}}function Jp(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Ja(t[0])?t[0]:Ja(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var $p=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Qp=function(t){function n(e,n){var r=this;return(r=t.call(this,n)||this).U_=e,r}return e(n,t),Object.defineProperty(n.prototype,"ref",{get:function(){return new Wp(this.U_,this.o_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"exists",{get:function(){return this.o_.exists()},enumerable:!1,configurable:!0}),n.prototype.data=function(t){return this.o_.data(t)},n.prototype.get=function(t,e){return this.o_.get(t,e)},n.prototype.isEqual=function(t){return Df(this.o_,t.o_)},n}(Xl),Zp=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.prototype.data=function(t){return this.o_.data(t)},n}(Qp),td=function(t){function n(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r}return e(n,t),n.prototype.where=function(t,e,r){try{return new n(this.firestore,qf(this.o_,function(t,e,n){var r=e,i=Tf("where",t);return new zf(i,r,n)}(t,e,r)))}catch(t){throw Xp(t,/(orderBy|where)\(\)/,"Query.$1()")}},n.prototype.orderBy=function(t,e){try{return new n(this.firestore,qf(this.o_,function(t,e){void 0===e&&(e="asc");var n=e,r=Tf("orderBy",t);return new Bf(r,n)}(t,e)))}catch(t){throw Xp(t,/(orderBy|where)\(\)/,"Query.$1()")}},n.prototype.limit=function(t){try{return new n(this.firestore,qf(this.o_,function(t){return nf("limit",t),new Gf("limit",t,"F")}(t)))}catch(t){throw Xp(t,"limit()","Query.limit()")}},n.prototype.limitToLast=function(t){try{return new n(this.firestore,qf(this.o_,function(t){return nf("limitToLast",t),new Gf("limitToLast",t,"L")}(t)))}catch(t){throw Xp(t,"limitToLast()","Query.limitToLast()")}},n.prototype.startAt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new n(this.firestore,qf(this.o_,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Kf("startAt",t,!0)}.apply(void 0,t)))}catch(t){throw Xp(t,"startAt()","Query.startAt()")}},n.prototype.startAfter=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new n(this.firestore,qf(this.o_,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Kf("startAfter",t,!1)}.apply(void 0,t)))}catch(t){throw Xp(t,"startAfter()","Query.startAfter()")}},n.prototype.endBefore=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new n(this.firestore,qf(this.o_,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Hf("endBefore",t,!0)}.apply(void 0,t)))}catch(t){throw Xp(t,"endBefore()","Query.endBefore()")}},n.prototype.endAt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new n(this.firestore,qf(this.o_,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Hf("endAt",t,!1)}.apply(void 0,t)))}catch(t){throw Xp(t,"endAt()","Query.endAt()")}},n.prototype.isEqual=function(t){return rp(this.o_,t.o_)},n.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){var e=this,n=ef(t.firestore,Af),r=Bp(n),s=new Pf(n),a=new Xa;return n.z_.Ri((function(){return i(e,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,Dp(r)];case 1:return[4,function(t,e,n){return i(this,void 0,void 0,(function(){var r,i,s,a,u,c;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,Gc(t,e,!0)];case 1:return r=o.sent(),i=new Xh(e,r.Bc),s=i.gh(r.documents),a=i.Zn(s,!1),n.resolve(a.snapshot),[3,3];case 2:return u=o.sent(),c=mu(u,"Failed to execute query '"+e+" against cache"),n.reject(c),[3,3];case 3:return[2]}}))}))}(e.sent(),t.tf,a)];case 2:return e.sent(),[2]}}))}))})),a.promise.then((function(e){return new Of(n,s,t,e)}))}(this.o_):"server"===(null==t?void 0:t.source)?function(t){var e=this,n=ef(t.firestore,Af),r=Bp(n),s=new Pf(n),a=new Xa;return n.z_.Ri((function(){return i(e,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,Lp(r)];case 1:return[4,jp(e.sent(),n.z_,t.tf,{source:"server"},a)];case 2:return e.sent(),[2]}}))}))})),a.promise.then((function(e){return new Of(n,s,t,e)}))}(this.o_):function(t){var e=this,n=ef(t.firestore,Af),r=Bp(n),s=new Pf(n);$f(t.tf);var a=new Xa;return n.z_.Ri((function(){return i(e,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,Lp(r)];case 1:return[4,jp(e.sent(),n.z_,t.tf,{source:"default"},a)];case 2:return e.sent(),[2]}}))}))})),a.promise.then((function(e){return new Of(n,s,t,e)}))}(this.o_)).then((function(t){return new nd(e.firestore,t)}))},n.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Yp(e),i=Jp(e,(function(e){return new nd(t.firestore,e)}));return Lf(this.o_,r,i)},n.prototype.withConverter=function(t){return new n(this.firestore,this.o_.withConverter(t))},n}(Xl),ed=function(t){function n(e,n){var r=this;return(r=t.call(this,n)||this).U_=e,r}return e(n,t),Object.defineProperty(n.prototype,"type",{get:function(){return this.o_.type},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"doc",{get:function(){return new Zp(this.U_,this.o_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"oldIndex",{get:function(){return this.o_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"newIndex",{get:function(){return this.o_.newIndex},enumerable:!1,configurable:!0}),n}(Xl),nd=function(t){function n(e,n){var r=this;return(r=t.call(this,n)||this).U_=e,r}return e(n,t),Object.defineProperty(n.prototype,"query",{get:function(){return new td(this.U_,this.o_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){return this.o_.size},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"empty",{get:function(){return this.o_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"docs",{get:function(){var t=this;return this.o_.docs.map((function(e){return new Zp(t.U_,e)}))},enumerable:!1,configurable:!0}),n.prototype.docChanges=function(t){var e=this;return this.o_.docChanges(t).map((function(t){return new ed(e.U_,t)}))},n.prototype.forEach=function(t,e){var n=this;this.o_.forEach((function(r){t.call(e,new Zp(n.U_,r))}))},n.prototype.isEqual=function(t){return Df(this.o_,t.o_)},n}(Xl),rd=function(t){function n(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r.o_=n,r}return e(n,t),Object.defineProperty(n.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"path",{get:function(){return this.o_.path},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){var t=this.o_.parent;return t?new Wp(this.firestore,t):null},enumerable:!1,configurable:!0}),n.prototype.doc=function(t){try{return new Wp(this.firestore,void 0===t?tp(this.o_):tp(this.o_,t))}catch(t){throw Xp(t,"doc()","CollectionReference.doc()")}},n.prototype.add=function(t){var e=this;return function(t,e){var n=ef(t.firestore,Af),r=tp(t),i=od(t.j_,e);return Mf(n,lp(ip(t.firestore),"addDoc",r.K_,i,null!==t.j_,{}).ef(r.K_,zs.exists(!1))).then((function(){return r}))}(this.o_,t).then((function(t){return new Wp(e.firestore,t)}))},n.prototype.isEqual=function(t){return np(this.o_,t.o_)},n.prototype.withConverter=function(t){return new n(this.firestore,this.o_.withConverter(t))},n}(td);function id(t){return t instanceof Xl&&(t=t.o_),ef(t,Uf)}function od(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var sd=function(t){function n(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(_f.bind.apply(_f,c([void 0],e))))||this}return e(n,t),n.documentId=function(){return new n(Di.et().J())},n.prototype.isEqual=function(t){return t instanceof Xl&&(t=t.o_),t instanceof _f&&this.o_.G_.isEqual(t.G_)},n}(Xl),ad=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.serverTimestamp=function(){var t=new af("serverTimestamp");return t.c_="FieldValue.serverTimestamp",new n(t)},n.delete=function(){var t=new of("deleteField");return t.c_="FieldValue.delete",new n(t)},n.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new uf("arrayUnion",t)}.apply(void 0,t);return r.c_="FieldValue.arrayUnion",new n(r)},n.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new cf("arrayRemove",t)}.apply(void 0,t);return r.c_="FieldValue.arrayRemove",new n(r)},n.increment=function(t){var e=function(t){return new hf("increment",t)}(t);return e.c_="FieldValue.increment",new n(e)},n.prototype.isEqual=function(t){return this.o_.isEqual(t.o_)},n}(Xl),ud={Firestore:zp,GeoPoint:lf,Timestamp:ki,Blob:gf,Transaction:Kp,WriteBatch:Hp,DocumentReference:Wp,DocumentSnapshot:Qp,Query:td,QueryDocumentSnapshot:Zp,QuerySnapshot:nd,CollectionReference:rd,FieldPath:sd,FieldValue:ad,setLogLevel:function(t){var e;e=t,si.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};!function(t){!function(t,e){t.INTERNAL.registerComponent(new T("firestore",(function(t){return function(t,e){return new zp(t,new Af(t,e),new qp)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},ud)))}(t),t.registerVersion("@firebase/firestore","2.0.4")}(J);var cd={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},hd=function(t){function n(e,r,i){var o=t.call(this,r)||this;return Object.setPrototypeOf(o,n.prototype),o.code=e,o.details=i,o}return e(n,t),n}(Error),ld=function(){function t(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then((function(t){return n.auth=t}),(function(){})),this.messaging||e.get().then((function(t){return n.messaging=t}),(function(){}))}return t.prototype.getAuthToken=function(){return i(this,void 0,void 0,(function(){var t;return o(this,(function(e){switch(e.label){case 0:if(!this.auth)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(t=e.sent())?[2,t.accessToken]:[2,void 0];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},t.prototype.getInstanceIdToken=function(){return i(this,void 0,void 0,(function(){return o(this,(function(t){if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];try{return[2,this.messaging.getToken()]}catch(t){return[2,void 0]}return[2]}))}))},t.prototype.getContext=function(){return i(this,void 0,void 0,(function(){var t,e;return o(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}}))}))},t}();function fd(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var pd,dd,vd,md=function(){function t(){}return t.prototype.encode=function(t){var e=this;if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"==typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(Array.isArray(t))return t.map((function(t){return e.encode(t)}));if("function"==typeof t||"object"==typeof t)return fd(t,(function(t){return e.encode(t)}));throw new Error("Data cannot be encoded in JSON: "+t)},t.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map((function(t){return e.decode(t)})):"function"==typeof t||"object"==typeof t?fd(t,(function(t){return e.decode(t)})):t},t}(),yd=function(){function t(t,e,n,r,i){var o=this;void 0===r&&(r="us-central1"),this.app_=t,this.fetchImpl=i,this.serializer=new md,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(o.deleteService())}},this.contextProvider=new ld(e,n),this.cancelAllRequests=new Promise((function(t){o.deleteService=function(){return t()}}));try{var s=new URL(r);this.customDomain=s.origin,this.region="us-central1"}catch(t){this.customDomain=null,this.region=r}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(t){var e=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+e+"/"+this.region+"/"+t:null!==this.customDomain?this.customDomain+"/"+t:"https://"+this.region+"-"+e+".cloudfunctions.net/"+t},t.prototype.useEmulator=function(t,e){this.emulatorOrigin="http://"+t+":"+e},t.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},t.prototype.httpsCallable=function(t,e){var n=this;return function(r){return n.call(t,r,e||{})}},t.prototype.postJSON=function(t,e,n){return i(this,void 0,void 0,(function(){var r,i;return o(this,(function(o){switch(o.label){case 0:n["Content-Type"]="application/json",o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 2:return r=o.sent(),[3,4];case 3:return o.sent(),[2,{status:0,json:null}];case 4:i=null,o.label=5;case 5:return o.trys.push([5,7,,8]),[4,r.json()];case 6:return i=o.sent(),[3,8];case 7:return o.sent(),[3,8];case 8:return[2,{status:r.status,json:i}]}}))}))},t.prototype.call=function(t,e,n){return i(this,void 0,void 0,(function(){var r,i,s,a,u,c,h,l,f,p,d;return o(this,(function(o){switch(o.label){case 0:return r=this._url(t),e=this.serializer.encode(e),i={data:e},s={},[4,this.contextProvider.getContext()];case 1:return(a=o.sent()).authToken&&(s.Authorization="Bearer "+a.authToken),a.instanceIdToken&&(s["Firebase-Instance-ID-Token"]=a.instanceIdToken),u=n.timeout||7e4,c=function(t){var e,n=new Promise((function(n,r){e=setTimeout((function(){r(new hd("deadline-exceeded","deadline-exceeded"))}),t)}));return{timer:e,promise:n}}(u),h=c.timer,l=c.promise,[4,Promise.race([gd(h,this.postJSON(r,i,s)),l,gd(h,this.cancelAllRequests)])];case 2:if(!(f=o.sent()))throw new hd("cancelled","Firebase Functions instance was deleted.");if(p=function(t,e,n){var r=function(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),i=r,o=void 0;try{var s=e&&e.error;if(s){var a=s.status;if("string"==typeof a){if(!cd[a])return new hd("internal","internal");r=cd[a],i=a}var u=s.message;"string"==typeof u&&(i=u),void 0!==(o=s.details)&&(o=n.decode(o))}}catch(t){}return"ok"===r?null:new hd(r,i,o)}(f.status,f.json,this.serializer))throw p;if(!f.json)throw new hd("internal","Response is not valid JSON object.");if(void 0===(d=f.json.data)&&(d=f.json.result),void 0===d)throw new hd("internal","Response is missing data field.");return[2,{data:this.serializer.decode(d)}]}}))}))},t}();function gd(t,e){return i(this,void 0,void 0,(function(){var n;return o(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}}))}))}pd=J,dd=fetch.bind(self),vd={Functions:yd},pd.INTERNAL.registerComponent(new T("functions",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("messaging");return new yd(n,r,i,e,dd)}),"PUBLIC").setServiceProps(vd).setMultipleInstances(!0)),J.registerVersion("@firebase/functions","0.6.1");var bd=n(379),wd=n.n(bd),Id=n(402);wd()(Id.Z,{insert:"head",singleton:!1}),Id.Z.locals;var Ed,Td,_d,Ad,Nd,kd,Sd,xd,Od,Cd=(Ed={addUserBtn:"#login-add-btn",loginMainDiv:".login-main-div",loginAddMode:".login-add-mode",username:"#username",email:"#email",password:"#password",showHidePass:".show-password",addBackBtn:"#login-add-back-btn",addCreateBtn:"#login-add-create-btn",addAccountForm:"#add-account-form",loginConfirmMode:".login-add-confirm-message",confirmUser:"#confirm-username",loginAccounts:".login-accounts",removeUserBtn:"#login-remove-btn",loginRemoveMode:".login-remove-choose",loginRemoveAccounts:".login-remove-accounts",removeBackBtn:"#login-remove-back-btn"},Td=function(t,e){var n=document.createElement("h2");return n.className="display-4 text-center ".concat(t),n.textContent=e,n},_d=function(t,e){var n=document.createElement("li");return n.className=t,n.id=void 0!==e?e:"",n},Ad=function(t){var e=document.createElement("i");return e.className=t,e},Nd=function(t,e,n,r){var i=document.createElement("div");i.className="input-group form-group mb-0 ".concat(t);var o='\n        <div class="input-group-prepend">\n            <span class="input-group-text" id="">\n                <i class="fas '.concat(e,'"></i>\n            </span>\n        </div>\n        <input type="').concat(n,'" class="form-control text-center" id="').concat(r,'" name="').concat(r,'"\n            placeholder="').concat(r,'" tabindex="-1">\n        ');return i.innerHTML=o,i},kd=function(){var t=document.createElement("div");t.className="btn-group d-flex pt-3";for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.forEach((function(e){return t.appendChild(e)})),t},Sd=function(t,e,n,r){var i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=document.createElement("button");return o.className="btn btn-outline-light",o.setAttribute("id",t),o.setAttribute("type",e),o.setAttribute("tabindex","-1"),o.innerHTML=i?'\n                <i class="fas '.concat(r,'"></i>\n                <i class="fas ').concat(r,' ml-n2 mr-1"></i>\n                ').concat(n,"\n            "):"\n                ".concat(n,'\n                <i class="fas ').concat(r,' ml-1"></i>\n                <i class="fas ').concat(r,' ml-n2"></i>\n            '),o},{getSelectors:function(){return Ed},createAddMode:function(){var t,e=document.querySelector(Ed.loginMainDiv),n=document.createElement("div");n.className="login-add-mode px-4 pt-3 pb-4",n.appendChild(Td("welcome-heading","Create an Account")),n.appendChild(("add-account-form",(t=document.createElement("form")).className="mt-4",t.setAttribute("id","add-account-form"),t.setAttribute("autocomplete","off"),t)),n.lastElementChild.appendChild(Nd("add-username","fa-user-edit","text","username")),n.lastElementChild.appendChild(Nd("add-email","fa-envelope","text","email")),n.lastElementChild.appendChild(Nd("add-password","fa-key","password","password")),n.lastElementChild.appendChild(function(t){var e=document.createElement("div");return e.className="d-flex justify-content-end align-items-center ".concat("create-account-show-password-wrapper"),e.innerHTML='\n        <i class="far fa-circle mr-1 show-password"></i>\n        <i class="far fa-check-circle mr-1 show-password hide"></i>\n        <small class="show-password">Show Password</small>\n        <small class="show-password hide">Hide Password</small>\n        ',e}()),n.lastElementChild.appendChild(kd(Sd("login-add-back-btn","button","Go Back","fa-chevron-left"),Sd("login-add-create-btn","submit","Create","fa-chevron-right",!1))),n.querySelector(Ed.addCreateBtn).setAttribute("disabled",!0),e.after(n),console.log("appended")},createConfirmMode:function(){var t=document.querySelector(Ed.loginAddMode),e=document.createElement("div");e.className="login-add-confirm-message px-4 pt-3 pb-4",e.appendChild(Td("welcome-heading","Account Created")),e.appendChild(function(t,e){var n=document.createElement("p");return n.className="lead text-center",n.innerHTML='\n            Account for user <span id="'.concat("confirm-username",'" class="stand-out"></span> has been ').concat("created","\n        "),n}()),t.after(e),console.log("appended confirm mode")},createRemoveMode:function(){var t,e=document.querySelector(Ed.loginMainDiv),n=document.createElement("div");n.className="login-remove-choose px-4 pt-3 pb-4",n.appendChild(Td("welcome-heading","Remove an Account")),n.appendChild(("login-remove-accounts",(t=document.createElement("ul")).className="list-group ".concat("login-remove-accounts"," mx-auto w-100 mt-4"),t)),n.appendChild(kd(Sd("login-remove-back-btn","button","Go Back","fa-chevron-left"))),e.after(n),console.log("appended remove mode")},showHidePass:function(t,e){Array.from(t.parentElement.children).forEach((function(t){t.classList.toggle("hide")})),"password"===e.type?e.type="text":e.type="password"},renderLoginAccounts:function(t,e,n){if(t)e.forEach((function(t){var e=_d("list-group-item list-group-item-action d-flex justify-content-between align-items-center py-2",t);e.appendChild(Ad("fas fa-user show")),e.appendChild(Ad("fas fa-user-times hide")),e.appendChild(document.createTextNode(t)),e.appendChild(Ad("fas fa-chevron-right show")),e.appendChild(Ad("fas fa-times hide")),document.querySelector(n).appendChild(e)}));else{var r=_d("list-group-item py-2");r.appendChild(document.createTextNode("No accounts in the database")),document.querySelector(n).appendChild(r)}},renderListElements:function(t,e){Array.from(document.querySelector(t).children).forEach((function(t){Array.from(t.children).forEach((function(t){t.classList.contains("show")?(t.classList.remove("show"),t.classList.add("hide")):(t.classList.remove("hide"),t.classList.add("show"))})),document.querySelector(e).appendChild(t)}))}}),Dd=(xd={username:/^\w{1,15}$/,email:/^([a-zA-Z]{1}[\w\.]{0,20})@([a-zA-Z]{2,15})\.([a-zA-Z]{2,5})(\.[a-zA-Z]{2,5})?$/,password:/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\$%\^&\*])(?!.*[\s])(?=.{8,15})/},{validate:function(t){console.log(t.id),xd[t.id].test(t.value)?(t.classList.add("valid"),t.classList.remove("invalid")):(t.classList.add("invalid"),t.classList.remove("valid"))}});(function(t,e,n,r){J.initializeApp({apiKey:"AIzaSyDY2r7ZlWb-rX_7jFgHGWMZkG_4tvZqt-Q",authDomain:"task-manager-666.firebaseapp.com",databaseURL:"https://task-manager-666.firebaseio.com",projectId:"task-manager-666",storageBucket:"task-manager-666.appspot.com",messagingSenderId:"910844977293",appId:"1:910844977293:web:eb5e3eb94f653c4ec282c4"});var i=t.getSelectors();return{init:function(){console.log("Initializing App..."),document.querySelector(i.removeUserBtn).disabled=!1,t.renderLoginAccounts(0,[],i.loginAccounts),document.querySelector("body").addEventListener("click",(function(r){"#".concat(r.target.id)===i.addUserBtn&&(t.createAddMode(),setTimeout((function(){document.querySelector(i.loginMainDiv).classList.add("move-y-up"),document.querySelector(i.loginAddMode).classList.add("move-y-zero"),document.querySelector(i.username).select(),document.querySelector(i.email).removeAttribute("tabindex"),document.querySelector(i.password).removeAttribute("tabindex")}),100),Array.from(document.querySelectorAll("input")).forEach((function(t){return t.addEventListener("keyup",(function(t){n.validate(t.target),document.querySelector(i.username).classList.contains("valid")&&document.querySelector(i.email).classList.contains("valid")&&document.querySelector(i.password).classList.contains("valid")?document.querySelector(i.addCreateBtn).disabled=!1:document.querySelector(i.addCreateBtn).disabled=!0}))})),document.querySelector(i.addBackBtn).addEventListener("click",(function(){document.querySelector(i.loginMainDiv).classList.remove("move-y-up"),document.querySelector(i.loginAddMode).classList.remove("move-y-zero"),setTimeout((function(){document.querySelector(i.loginAddMode).remove()}),100),console.log("back")})),document.querySelector(i.addAccountForm).addEventListener("submit",(function(n){n.preventDefault();var r=e.addUser({name:document.querySelector(i.username).value,email:document.querySelector(i.email).value,password:document.querySelector(i.password).value});t.createConfirmMode(),document.querySelector(i.confirmUser).textContent=r.data.name,setTimeout((function(){document.querySelector(i.loginAddMode).classList.remove("move-y-zero"),document.querySelector(i.loginAddMode).classList.add("move-y-up"),document.querySelector(i.loginConfirmMode).classList.add("move-y-zero")}),100),setTimeout((function(){document.querySelector(i.loginAddMode).classList.remove("move-y-up"),document.querySelector(i.loginConfirmMode).classList.remove("move-y-zero"),document.querySelector(i.loginMainDiv).classList.remove("move-y-up"),document.querySelector(i.loginAddMode).remove(),document.querySelector(i.loginConfirmMode).remove(),document.querySelector(i.loginAccounts).innerHTML="",t.renderLoginAccounts(1,[r.data.name],i.loginAccounts)}),2e3)}))),".".concat(r.target.className)===i.showHidePass&&t.showHidePass(r.target,document.querySelector(i.password)),"#".concat(r.target.id)===i.removeUserBtn&&(t.createRemoveMode(),setTimeout((function(){t.renderListElements(i.loginAccounts,i.loginRemoveAccounts),document.querySelector(i.loginMainDiv).classList.add("move-y-up"),document.querySelector(i.loginRemoveMode).classList.add("move-y-zero")}),100),document.querySelector(i.removeBackBtn).addEventListener("click",(function(){setTimeout((function(){t.renderListElements(i.loginRemoveAccounts,i.loginAccounts),document.querySelector(i.loginMainDiv).classList.remove("move-y-up"),document.querySelector(i.loginRemoveMode).classList.remove("move-y-zero"),document.querySelector(i.loginRemoveMode).remove()}),100)})),document.querySelector(i.loginRemoveAccounts).addEventListener("click",(function(t){})))}))}}})(Cd,(Od=function(t){this.data={name:t.name,password:t.password,email:t.email},this.options={avatar:t.avatar,theme:t.theme,toast:t.toast},this.tasks={},this.completedTasks={}},{addUser:function(t){return new Od({name:t.name,email:t.email,password:t.password,avatar:"avatar-1",theme:"theme-1",toast:"toast-change-1"})}}),Dd).init(),document.querySelector(".call").addEventListener("click",(function(){J.functions().httpsCallable("sayHello")({name:"Tomoko"}).then((function(t){console.log(t.data)}))}))})()})();